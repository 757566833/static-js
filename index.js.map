{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/accepts/index.js","webpack:///./node_modules/any-promise/index.js","webpack:///./node_modules/any-promise/loader.js","webpack:///./node_modules/any-promise/register.js","webpack:///./node_modules/any-promise|sync","webpack:///./node_modules/cache-content-type/index.js","webpack:///./node_modules/co/index.js","webpack:///./node_modules/content-disposition/index.js","webpack:///./node_modules/content-type/index.js","webpack:///./node_modules/cookies/index.js","webpack:///./node_modules/cookies/node_modules/depd/index.js","webpack:///./node_modules/debug/src/browser.js","webpack:///./node_modules/debug/src/common.js","webpack:///./node_modules/debug/src/index.js","webpack:///./node_modules/debug/src/node.js","webpack:///./node_modules/deep-equal/index.js","webpack:///./node_modules/deep-equal/lib/is_arguments.js","webpack:///./node_modules/deep-equal/lib/keys.js","webpack:///./node_modules/delegates/index.js","webpack:///./node_modules/depd/index.js","webpack:///./node_modules/depd/lib/compat/callsite-tostring.js","webpack:///./node_modules/depd/lib/compat/event-listener-count.js","webpack:///./node_modules/depd/lib/compat/index.js","webpack:///./node_modules/destroy/index.js","webpack:///./node_modules/ee-first/index.js","webpack:///./node_modules/encodeurl/index.js","webpack:///./node_modules/error-inject/index.js","webpack:///./node_modules/escape-html/index.js","webpack:///./node_modules/fresh/index.js","webpack:///./node_modules/graceful-fs/clone.js","webpack:///./node_modules/graceful-fs/graceful-fs.js","webpack:///./node_modules/graceful-fs/legacy-streams.js","webpack:///./node_modules/graceful-fs/polyfills.js","webpack:///./node_modules/has-flag/index.js","webpack:///./node_modules/http-assert/index.js","webpack:///./node_modules/http-errors/index.js","webpack:///./node_modules/inherits/inherits.js","webpack:///./node_modules/inherits/inherits_browser.js","webpack:///./node_modules/is-generator-function/index.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/keygrip/index.js","webpack:///./node_modules/koa-compose/index.js","webpack:///./node_modules/koa-convert/index.js","webpack:///./node_modules/koa-convert/node_modules/koa-compose/index.js","webpack:///./node_modules/koa-router/lib/layer.js","webpack:///./node_modules/koa-router/lib/router.js","webpack:///./node_modules/koa-send/index.js","webpack:///./node_modules/koa-send/node_modules/debug/src/browser.js","webpack:///./node_modules/koa-send/node_modules/debug/src/common.js","webpack:///./node_modules/koa-send/node_modules/debug/src/index.js","webpack:///./node_modules/koa-send/node_modules/debug/src/node.js","webpack:///./node_modules/koa/lib/application.js","webpack:///./node_modules/koa/lib/context.js","webpack:///./node_modules/koa/lib/request.js","webpack:///./node_modules/koa/lib/response.js","webpack:///./node_modules/koa/node_modules/debug/src/browser.js","webpack:///./node_modules/koa/node_modules/debug/src/debug.js","webpack:///./node_modules/koa/node_modules/debug/src/index.js","webpack:///./node_modules/koa/node_modules/debug/src/node.js","webpack:///./node_modules/koa/node_modules/ms/index.js","webpack:///./node_modules/koa2-cors/dist/index.js","webpack:///./node_modules/media-typer/index.js","webpack:///./node_modules/methods/index.js","webpack:///./node_modules/mime-db/index.js","webpack:///./node_modules/mime-types/index.js","webpack:///./node_modules/ms/index.js","webpack:///./node_modules/mz/fs.js","webpack:///./node_modules/negotiator/index.js","webpack:///./node_modules/negotiator/lib/charset.js","webpack:///./node_modules/negotiator/lib/encoding.js","webpack:///./node_modules/negotiator/lib/language.js","webpack:///./node_modules/negotiator/lib/mediaType.js","webpack:///./node_modules/on-finished/index.js","webpack:///./node_modules/only/index.js","webpack:///./node_modules/parseurl/index.js","webpack:///./node_modules/path-is-absolute/index.js","webpack:///./node_modules/path-to-regexp/index.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/resolve-path/index.js","webpack:///./node_modules/resolve-path/node_modules/http-errors/index.js","webpack:///./node_modules/resolve-path/node_modules/inherits/inherits.js","webpack:///./node_modules/resolve-path/node_modules/inherits/inherits_browser.js","webpack:///./node_modules/resolve-path/node_modules/setprototypeof/index.js","webpack:///./node_modules/safe-buffer/index.js","webpack:///./node_modules/setprototypeof/index.js","webpack:///./node_modules/statuses/index.js","webpack:///./node_modules/supports-color/index.js","webpack:///./node_modules/thenify-all/index.js","webpack:///./node_modules/thenify/index.js","webpack:///./node_modules/toidentifier/index.js","webpack:///./node_modules/tsscmp/lib/index.js","webpack:///./node_modules/type-is/index.js","webpack:///./node_modules/urijs/src/IPv6.js","webpack:///./node_modules/urijs/src/SecondLevelDomains.js","webpack:///./node_modules/urijs/src/URI.js","webpack:///./node_modules/urijs/src/punycode.js","webpack:///./node_modules/vary/index.js","webpack:///./node_modules/ylru/index.js","webpack:///external \"assert\"","webpack:///external \"buffer\"","webpack:///external \"constants\"","webpack:///external \"crypto\"","webpack:///external \"events\"","webpack:///external \"fs\"","webpack:///external \"http\"","webpack:///external \"net\"","webpack:///external \"os\"","webpack:///external \"path\"","webpack:///external \"querystring\"","webpack:///external \"stream\"","webpack:///external \"tty\"","webpack:///external \"url\"","webpack:///external \"util\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/node module decorator","webpack:///./static.ts"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","module","exports","fn","self","this","args","arguments","apply","err","undefined","__esModule","Negotiator","mime","Accepts","req","headers","negotiator","extToMime","type","indexOf","lookup","validMime","prototype","types","types_","Array","isArray","length","i","mediaTypes","accept","mimes","map","accepts","filter","first","encoding","encodings","encodings_","charset","charsets","charsets_","lang","langs","language","languages","languages_","REGISTRATION_KEY","registered","root","loadImplementation","implementation","opts","registerGlobal","global","Error","impl","version","exec","process","shouldPreferGlobalPromise","lib","libs","len","e","tryAutoDetect","webpackEmptyContext","code","keys","id","mimeTypes","typeLRUCache","mimeType","get","contentType","set","slice","co","ctx","call","next","onFulfilled","res","ret","onRejected","throw","toPromise","isPromise","TypeError","String","obj","constructor","name","displayName","isGenerator","isGeneratorFunction","thunkToPromise","arrayToPromise","Object","objectToPromise","all","results","promises","promise","defer","push","wrap","createPromise","__generatorFunction__","filename","options","parameters","TOKEN_REGEXP","test","string","toLowerCase","param","params","sort","val","substr","ustring","qstring","format","ContentDisposition","fallback","NON_LATIN1_REGEXP","basename","isQuotedString","TEXT_REGEXP","fallbackName","getlatin1","hasFallback","HEX_ESCAPE_REGEXP","createparams","parse","match","DISPOSITION_TYPE_REGEXP","index","names","PARAM_REGEXP","lastIndex","replace","QESC_REGEXP","decodefield","Buffer","ENCODE_URL_ATTR_CHAR_REGEXP","HEX_ESCAPE_REPLACE_REGEXP","QUOTE_REGEXP","EXT_VALUE_REGEXP","str","binary","pdecode","from","toString","hex","fromCharCode","parseInt","pencode","char","charCodeAt","toUpperCase","encodeURIComponent","TYPE_REGEXP","ContentType","create","header","getHeader","getcontenttype","trim","deprecate","Keygrip","http","cache","fieldContentRegExp","SAME_SITE_REGEXP","Cookies","request","response","secure","Cookie","attrs","expires","Date","maxAge","path","domain","sameSite","pushCookie","cookie","overwrite","splice","toHeader","remote","data","sigName","signed","RegExp","getPattern","sign","protocol","connection","encrypted","secureProxy","OutgoingMessage","setHeader","httpOnly","now","toUTCString","defineProperty","configurable","enumerable","property","connect","express","cookies","relative","namespace","file","callSiteLocation","getStack","message","log","_file","_ignored","noDeprecation","containsNamespace","env","NO_DEPRECATION","isignored","_namespace","_traced","traceDeprecation","TRACE_DEPRECATION","istraced","_warned","function","wrapfunction","wrapproperty","basePath","cwd","vals","split","ns","createStackString","stack","site","emitter","haslisteners","listenerCount","listeners","caller","callFile","callSite","depSite","seen","join","msg","defaultMessage","DeprecationError","emit","output","stderr","isTTY","formatColor","formatPlain","write","getFileName","line","getLineNumber","colm","getColumnNumber","isEval","getEvalOrigin","getFunctionName","funcName","formatLocation","context","getThis","typeName","getTypeName","getMethodName","formatted","limit","stackTraceLimit","prep","prepareStackTrace","prepareObjectStackTrace","Math","max","captureStackTrace","arity","createArgumentsString","Function","prop","descriptor","getOwnPropertyDescriptor","writable","convertDataDescriptorToAccessor","stackString","console","formatArgs","useColors","humanize","diff","c","color","lastC","save","namespaces","storage","setItem","removeItem","load","r","getItem","DEBUG","window","__nwjs","navigator","userAgent","document","documentElement","style","WebkitAppearance","firebug","exception","table","$1","localStorage","localstorage","colors","formatters","j","v","JSON","stringify","selectColor","hash","createDebug","abs","prevTime","debug","enabled","curr","Number","ms","prev","coerce","unshift","formatter","destroy","extend","init","instances","delimiter","newDebug","toNamespace","regexp","substring","default","disable","skips","enable","instance","forEach","browser","tty","util","inspectOpts","colorCode","prefix","hideDate","toISOString","Boolean","isatty","fd","supportsColor","level","reduce","_","k","o","inspect","O","pSlice","objectKeys","isArguments","deepEqual","actual","expected","getTime","strict","a","b","isUndefinedOrNull","isBuffer","ka","kb","objEquiv","x","copy","supportsArgumentsClass","supported","object","unsupported","hasOwnProperty","propertyIsEnumerable","shim","Delegator","proto","target","methods","getters","setters","fluents","method","access","getter","setter","__defineGetter__","__defineSetter__","fluent","callSiteToString","eventListenerCount","depd","deprecatedfn","eval","receiver","addSuffix","fileLocation","fileName","isNative","getScriptNameOrSourceURL","lineNumber","columnNumber","callSiteFileLocation","functionName","isConstructor","isToplevel","methodName","lastIndexOf","EventEmitter","lazyProperty","ReadStream","Stream","onOpenClose","close","stream","on","destroyReadStream","listener","event","arg1","ee","stuff","cleanups","arr","callback","cleanup","removeListener","thunk","cancel","url","UNMATCHED_SURROGATE_PAIR_REGEXP","ENCODE_CHARS_REGEXP","encodeURI","matchHtmlRegExp","escape","html","CACHE_CONTROL_NO_CACHE_REGEXP","parseHttpDate","date","timestamp","NaN","reqHeaders","resHeaders","modifiedSince","noneMatch","cacheControl","etag","etagStale","matches","end","list","start","parseTokenList","lastModified","__proto__","getPrototypeOf","getOwnPropertyNames","gracefulQueue","previousSymbol","fs","polyfills","legacy","clone","publishQueue","queue","Symbol","for","debuglog","NODE_DEBUG","m","fs$close","cb","retry","closeSync","fs$closeSync","patch","gracefulify","createReadStream","createWriteStream","WriteStream","fs$readFile","readFile","go$readFile","enqueue","fs$writeFile","writeFile","go$writeFile","fs$appendFile","appendFile","go$appendFile","fs$copyFile","copyFile","src","dest","flags","fs$readdir","readdir","go$readdir","files","legStreams","fs$ReadStream","open","that","mode","autoClose","read","fs$WriteStream","FileReadStream","FileWriteStream","fs$open","go$open","elem","shift","TEST_GRACEFUL_FS_GLOBAL_PATCH","__patched","readable","paused","bufferSize","setEncoding","Infinity","pos","_read","nextTick","bytesWritten","busy","_queue","_open","flush","constants","origCwd","platform","GRACEFUL_FS_PLATFORM","er","chdir","d","setPrototypeOf","fs$rename","fs$readSync","chmodFix","orig","chownErOk","chmodFixSync","chownFix","uid","gid","chownFixSync","statFix","stats","statFixSync","getuid","lchmod","O_WRONLY","O_SYMLINK","fchmod","err2","lchmodSync","openSync","threw","fchmodSync","patchLchmod","lutimes","at","mt","futimes","er2","lutimesSync","futimesSync","_a","_b","_c","patchLutimes","chown","fchown","lchown","chmod","chownSync","fchownSync","lchownSync","chmodSync","stat","fstat","lstat","statSync","fstatSync","lstatSync","rename","to","backoff","CB","setTimeout","stater","st","fs$read","buffer","offset","position","callback_","eagCounter","__","readSync","flag","argv","startsWith","terminatorPosition","createError","eql","assert","status","equal","notEqual","ok","strictEqual","notStrictEqual","notDeepEqual","codes","HttpError","statuses","inherits","toIdentifier","codeClass","charAt","nameFunc","func","desc","props","statusCode","expose","createHttpErrorConstructor","CodeError","className","ClientError","createClientErrorConstructor","ServerError","createServerErrorConstructor","ImATeapot","ctor","superCtor","super_","TempCtor","toStr","fnToStr","isFnRegex","hasToStringTag","toStringTag","getProto","generatorFunc","getGeneratorFunc","GeneratorFunction","compare","crypto","algorithm","createHmac","update","digest","verify","l","middleware","dispatch","bind","compose","convert","mw","converted","createGenerator","_name","back","called","pathToRegExp","uri","Layer","paramNames","safeDecodeURIComponent","text","decodeURIComponent","captures","existingParams","ignoreCaptures","toPath","compile","replaced","tokens","some","token","query","search","p","setPrefix","Router","setMethodVerb","register","del","use","router","arrPaths","concat","hasPath","cloneRouter","assign","nestedLayer","cloneLayer","setRouterParams","paramArr","routerParams","routes","layerChain","routerPath","matched","route","matchedLayers","pathAndMethod","mostSpecificLayer","_matchedRoute","_matchedRouteName","memo","layer","routerName","allowedMethods","implemented","allowed","allowedArr","body","methodNotAllowed","MethodNotAllowed","notImplemented","NotImplemented","redirect","source","destination","curPath","sensitive","layers","resolvePath","normalize","extname","sep","async","trailingSlash","maxage","immutable","hidden","extensions","brotli","gzip","setHeaders","decode","isHidden","encodingExt","acceptsEncodings","exists","removeHeader","ext","isDirectory","includes","size","mtime","directives","_typeof","iterator","_console","_len","_key","logFn","onFinished","Emitter","only","super","proxy","subdomainOffset","proxyIpHeader","maxIpsCount","custom","createServer","listen","toJSON","onerror","createContext","handleRequest","fnMiddleware","respond","empty","headersSent","has","isInteger","httpVersionMajor","byteLength","pipe","catch","app","originalUrl","state","silent","httpAssert","delegate","COOKIES","socket","headerSent","getHeaderNames","_headers","_cookies","URL","net","qs","typeis","fresh","IP","host","origin","pathname","querystring","_querycache","hostname","memoizedURL","s","ips","remoteAddress","_ip","isIP","reverse","_accept","field","referrer","referer","contentDisposition","ensureErrorHandler","getType","onFinish","vary","encodeUrl","getHeaders","_explicitStatus","statusMessage","_body","original","remove","setType","n","alt","hasHeader","writableEnded","finished","flushHeaders","chrome","local","h","plural","floor","ceil","parseFloat","isNaN","long","round","fmtShort","allowMethods","credentials","allowHeaders","exposeHeaders","paramRegExp","textRegExp","tokenRegExp","qescRegExp","quoteRegExp","subtypeNameRegExp","typeNameRegExp","typeRegExp","subtype","suffix","splitType","METHODS","preference","db","EXTRACT_TYPE_REGEXP","TEXT_TYPE_REGEXP","extension","exts","msAbs","isPlural","isFinite","api","mkdtemp","modules","loadModule","moduleName","available","preferredCharsets","preferredEncodings","preferredLanguages","mediaType","preferredMediaTypes","preferredCharset","preferredEncoding","preferredLanguage","preferredMediaType","simpleCharsetRegExp","parseCharset","q","specify","spec","provided","parseAcceptCharset","isQuality","compareSpecs","getFullCharset","priorities","accepted","priority","getCharsetPriority","simpleEncodingRegExp","parseEncoding","hasIdentity","minQuality","min","parseAcceptEncoding","getFullEncoding","getEncodingPriority","simpleLanguageRegExp","parseLanguage","full","parseAcceptLanguage","getFullLanguage","getLanguagePriority","simpleMediaTypeRegExp","parseMediaType","kvps","quoteCount","splitParameters","splitKeyValuePair","pair","every","splitMediaTypes","parseAccept","getFullType","getMediaTypePriority","count","isFinished","attached","__onFinished","createListener","eeMsg","eeSocket","onSocket","assignSocket","patchAssignSocket","attachFinishedListener","attachListener","setImmediate","complete","upgrade","Url","parseurl","parsed","_parsedUrl","fastparse","_raw","href","parsedUrl","_parsedOriginalUrl","posix","win32","result","device","isUnc","isarray","pathToRegexp","groups","optional","repeat","partial","asterisk","pattern","attachKeys","regexpToRegexp","parts","arrayToRegexp","tokensToRegExp","stringToRegexp","tokensToFunction","PATH_REGEXP","defaultDelimiter","escaped","capture","group","modifier","escapeGroup","escapeString","encodeURIComponentPretty","encode","pretty","segment","re","endsWithDelimiter","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","define","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunctionPrototype","IteratorPrototype","NativeIteratorPrototype","values","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","genFun","mark","awrap","iter","pop","skipTempReset","stop","rootRecord","rval","handle","loc","caught","hasCatch","hasFinally","finallyEntry","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","pathIsAbsolute","rootPath","relativePath","UP_PATH_REGEXP","copyProps","dst","SafeBuffer","encodingOrOffset","alloc","allocUnsafe","allocUnsafeSlow","fill","buf","SlowBuffer","STATUS_CODES","populateStatusesMap","300","301","302","303","305","307","308","204","205","304","502","503","504","os","hasFlag","forceColor","translateLevel","hasBasic","has256","has16m","haveStream","streamIsTTY","TERM","osRelease","release","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","FORCE_COLOR","stdout","thenify","thenifyAll","promisifyAll","promisify","deprecated","withCallback","$$__fn__$$","createWrapper","createCallback","multiArgs","sa","sb","pseudoRandomBytes","timingSafeEqual","bufferEqual","typer","tryNormalizeType","mimeMatch","hasbody","actualParts","expectedParts","normalizeType","is","hasBody","factory","_IPv6","IPv6","best","address","_segments","segments","total","_best","_current","current","inzeroes","noConflict","_SecondLevelDomains","SecondLevelDomains","SLD","tldOffset","sldOffset","sldList","punycode","_URI","URI","base","_urlSupplied","_baseSupplied","location","absoluteTo","escapeRegEx","filterArrayValues","arrayContains","_type","arraysEqual","one","two","trimSlashes","escapeForDumbFirefox36","strictEncodeURIComponent","_parts","username","password","urn","port","fragment","preventInvalidHostname","duplicateQueryParameters","escapeQuerySpace","protocol_expression","idn_expression","punycode_expression","ip4_expression","ip6_expression","find_uri_expression","findUri","parens","defaultPorts","https","ftp","gopher","ws","wss","hostProtocols","invalid_hostname_characters","domAttributes","getDomAttribute","node","nodeName","iso8859","unescape","unicode","characters","expression","reserved","urnpath","encodeQuery","decodeQuery","_part","generateAccessor","_group","generateSegmentedPathFunction","_sep","_codingFuncName","_innerCodingFuncName","actualCodingFunc","generateSimpleAccessor","build","generatePrefixAccessor","decodePath","decodeUrnPath","recodePath","recodeUrnPath","encodeReserved","parseAuthority","parseHost","bracketPos","t","firstColon","firstSlash","nextColon","ensureValidHostname","ensureValidPort","parseUserinfo","parseQuery","items","splits","requireAbsolutePath","buildAuthority","buildHost","buildUserinfo","buildQuery","unique","buildQueryParameter","addQuery","setQuery","removeQuery","hasQuery","withinArray","joinPaths","input","nonEmptySegments","commonPath","withinString","_start","_end","_trim","_parens","_attributeOpen","ignoreHtml","attributeOpen","parensEnd","parensMatch","parensMatchEnd","ignore","hasHostname","rejectEmptyHostname","toASCII","removeAll","unconflicted","URITemplate","deferBuild","_deferred_build","_string","valueOf","_object","what","ip","ip4","ip6","sld","idn","_protocol","_port","_hostname","scheme","authority","userinfo","resource","subdomain","sub","tld","ReferenceError","directory","decodePathSegment","mutatedDirectory","normalizePath","separator","absolute","segmentCoded","setSearch","addSearch","removeSearch","hasSearch","normalizeProtocol","normalizeQuery","normalizeFragment","normalizeHostname","normalizePort","_was_relative","_path","_parent","_pos","_leadingParents","normalizePathname","normalizeSearch","normalizeHash","toUnicode","qp","kv","basedir","resolved","properties","relativeTo","relativeParts","baseParts","common","parents","equals","one_map","two_map","one_query","two_query","checked","nodeType","freeGlobal","maxInt","regexPunycode","regexNonASCII","regexSeparators","errors","stringFromCharCode","RangeError","array","mapDomain","ucs2decode","extra","counter","ucs2encode","digitToBasic","digit","adapt","delta","numPoints","firstTime","baseMinusTMin","out","basic","oldi","w","baseMinusT","codePoint","inputLength","bias","handledCPCount","basicLength","currentValue","handledCPCountPlusOne","qMinusT","append","FIELD_NAME_REGEXP","fields","fld","Map","_cache","item","getNow","expired","_update","cacheKeys","Set","entries","checkEntry","add","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","definition","nmd","paths","children","Koa","send","cors","endsWith","__dirname"],"mappings":"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","file":"index.js","sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","module.exports = require(\"regenerator-runtime\");\n","/*!\n * accepts\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar Negotiator = require('negotiator')\nvar mime = require('mime-types')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = Accepts\n\n/**\n * Create a new Accepts object for the given req.\n *\n * @param {object} req\n * @public\n */\n\nfunction Accepts (req) {\n  if (!(this instanceof Accepts)) {\n    return new Accepts(req)\n  }\n\n  this.headers = req.headers\n  this.negotiator = new Negotiator(req)\n}\n\n/**\n * Check if the given `type(s)` is acceptable, returning\n * the best match when true, otherwise `undefined`, in which\n * case you should respond with 406 \"Not Acceptable\".\n *\n * The `type` value may be a single mime type string\n * such as \"application/json\", the extension name\n * such as \"json\" or an array `[\"json\", \"html\", \"text/plain\"]`. When a list\n * or array is given the _best_ match, if any is returned.\n *\n * Examples:\n *\n *     // Accept: text/html\n *     this.types('html');\n *     // => \"html\"\n *\n *     // Accept: text/*, application/json\n *     this.types('html');\n *     // => \"html\"\n *     this.types('text/html');\n *     // => \"text/html\"\n *     this.types('json', 'text');\n *     // => \"json\"\n *     this.types('application/json');\n *     // => \"application/json\"\n *\n *     // Accept: text/*, application/json\n *     this.types('image/png');\n *     this.types('png');\n *     // => undefined\n *\n *     // Accept: text/*;q=.5, application/json\n *     this.types(['html', 'json']);\n *     this.types('html', 'json');\n *     // => \"json\"\n *\n * @param {String|Array} types...\n * @return {String|Array|Boolean}\n * @public\n */\n\nAccepts.prototype.type =\nAccepts.prototype.types = function (types_) {\n  var types = types_\n\n  // support flattened arguments\n  if (types && !Array.isArray(types)) {\n    types = new Array(arguments.length)\n    for (var i = 0; i < types.length; i++) {\n      types[i] = arguments[i]\n    }\n  }\n\n  // no types, return all requested types\n  if (!types || types.length === 0) {\n    return this.negotiator.mediaTypes()\n  }\n\n  // no accept header, return first given type\n  if (!this.headers.accept) {\n    return types[0]\n  }\n\n  var mimes = types.map(extToMime)\n  var accepts = this.negotiator.mediaTypes(mimes.filter(validMime))\n  var first = accepts[0]\n\n  return first\n    ? types[mimes.indexOf(first)]\n    : false\n}\n\n/**\n * Return accepted encodings or best fit based on `encodings`.\n *\n * Given `Accept-Encoding: gzip, deflate`\n * an array sorted by quality is returned:\n *\n *     ['gzip', 'deflate']\n *\n * @param {String|Array} encodings...\n * @return {String|Array}\n * @public\n */\n\nAccepts.prototype.encoding =\nAccepts.prototype.encodings = function (encodings_) {\n  var encodings = encodings_\n\n  // support flattened arguments\n  if (encodings && !Array.isArray(encodings)) {\n    encodings = new Array(arguments.length)\n    for (var i = 0; i < encodings.length; i++) {\n      encodings[i] = arguments[i]\n    }\n  }\n\n  // no encodings, return all requested encodings\n  if (!encodings || encodings.length === 0) {\n    return this.negotiator.encodings()\n  }\n\n  return this.negotiator.encodings(encodings)[0] || false\n}\n\n/**\n * Return accepted charsets or best fit based on `charsets`.\n *\n * Given `Accept-Charset: utf-8, iso-8859-1;q=0.2, utf-7;q=0.5`\n * an array sorted by quality is returned:\n *\n *     ['utf-8', 'utf-7', 'iso-8859-1']\n *\n * @param {String|Array} charsets...\n * @return {String|Array}\n * @public\n */\n\nAccepts.prototype.charset =\nAccepts.prototype.charsets = function (charsets_) {\n  var charsets = charsets_\n\n  // support flattened arguments\n  if (charsets && !Array.isArray(charsets)) {\n    charsets = new Array(arguments.length)\n    for (var i = 0; i < charsets.length; i++) {\n      charsets[i] = arguments[i]\n    }\n  }\n\n  // no charsets, return all requested charsets\n  if (!charsets || charsets.length === 0) {\n    return this.negotiator.charsets()\n  }\n\n  return this.negotiator.charsets(charsets)[0] || false\n}\n\n/**\n * Return accepted languages or best fit based on `langs`.\n *\n * Given `Accept-Language: en;q=0.8, es, pt`\n * an array sorted by quality is returned:\n *\n *     ['es', 'pt', 'en']\n *\n * @param {String|Array} langs...\n * @return {Array|String}\n * @public\n */\n\nAccepts.prototype.lang =\nAccepts.prototype.langs =\nAccepts.prototype.language =\nAccepts.prototype.languages = function (languages_) {\n  var languages = languages_\n\n  // support flattened arguments\n  if (languages && !Array.isArray(languages)) {\n    languages = new Array(arguments.length)\n    for (var i = 0; i < languages.length; i++) {\n      languages[i] = arguments[i]\n    }\n  }\n\n  // no languages, return all requested languages\n  if (!languages || languages.length === 0) {\n    return this.negotiator.languages()\n  }\n\n  return this.negotiator.languages(languages)[0] || false\n}\n\n/**\n * Convert extnames to mime.\n *\n * @param {String} type\n * @return {String}\n * @private\n */\n\nfunction extToMime (type) {\n  return type.indexOf('/') === -1\n    ? mime.lookup(type)\n    : type\n}\n\n/**\n * Check if mime is valid.\n *\n * @param {String} type\n * @return {String}\n * @private\n */\n\nfunction validMime (type) {\n  return typeof type === 'string'\n}\n","module.exports = require('./register')().Promise\n","\"use strict\"\n    // global key for user preferred registration\nvar REGISTRATION_KEY = '@@any-promise/REGISTRATION',\n    // Prior registration (preferred or detected)\n    registered = null\n\n/**\n * Registers the given implementation.  An implementation must\n * be registered prior to any call to `require(\"any-promise\")`,\n * typically on application load.\n *\n * If called with no arguments, will return registration in\n * following priority:\n *\n * For Node.js:\n *\n * 1. Previous registration\n * 2. global.Promise if node.js version >= 0.12\n * 3. Auto detected promise based on first sucessful require of\n *    known promise libraries. Note this is a last resort, as the\n *    loaded library is non-deterministic. node.js >= 0.12 will\n *    always use global.Promise over this priority list.\n * 4. Throws error.\n *\n * For Browser:\n *\n * 1. Previous registration\n * 2. window.Promise\n * 3. Throws error.\n *\n * Options:\n *\n * Promise: Desired Promise constructor\n * global: Boolean - Should the registration be cached in a global variable to\n * allow cross dependency/bundle registration?  (default true)\n */\nmodule.exports = function(root, loadImplementation){\n  return function register(implementation, opts){\n    implementation = implementation || null\n    opts = opts || {}\n    // global registration unless explicitly  {global: false} in options (default true)\n    var registerGlobal = opts.global !== false;\n\n    // load any previous global registration\n    if(registered === null && registerGlobal){\n      registered = root[REGISTRATION_KEY] || null\n    }\n\n    if(registered !== null\n        && implementation !== null\n        && registered.implementation !== implementation){\n      // Throw error if attempting to redefine implementation\n      throw new Error('any-promise already defined as \"'+registered.implementation+\n        '\".  You can only register an implementation before the first '+\n        ' call to require(\"any-promise\") and an implementation cannot be changed')\n    }\n\n    if(registered === null){\n      // use provided implementation\n      if(implementation !== null && typeof opts.Promise !== 'undefined'){\n        registered = {\n          Promise: opts.Promise,\n          implementation: implementation\n        }\n      } else {\n        // require implementation if implementation is specified but not provided\n        registered = loadImplementation(implementation)\n      }\n\n      if(registerGlobal){\n        // register preference globally in case multiple installations\n        root[REGISTRATION_KEY] = registered\n      }\n    }\n\n    return registered\n  }\n}\n","\"use strict\"\nmodule.exports = require('./loader')(global, loadImplementation);\n\n/**\n * Node.js version of loadImplementation.\n *\n * Requires the given implementation and returns the registration\n * containing {Promise, implementation}\n *\n * If implementation is undefined or global.Promise, loads it\n * Otherwise uses require\n */\nfunction loadImplementation(implementation){\n  var impl = null\n\n  if(shouldPreferGlobalPromise(implementation)){\n    // if no implementation or env specified use global.Promise\n    impl = {\n      Promise: global.Promise,\n      implementation: 'global.Promise'\n    }\n  } else if(implementation){\n    // if implementation specified, require it\n    var lib = require(implementation)\n    impl = {\n      Promise: lib.Promise || lib,\n      implementation: implementation\n    }\n  } else {\n    // try to auto detect implementation. This is non-deterministic\n    // and should prefer other branches, but this is our last chance\n    // to load something without throwing error\n    impl = tryAutoDetect()\n  }\n\n  if(impl === null){\n    throw new Error('Cannot find any-promise implementation nor'+\n      ' global.Promise. You must install polyfill or call'+\n      ' require(\"any-promise/register\") with your preferred'+\n      ' implementation, e.g. require(\"any-promise/register/bluebird\")'+\n      ' on application load prior to any require(\"any-promise\").')\n  }\n\n  return impl\n}\n\n/**\n * Determines if the global.Promise should be preferred if an implementation\n * has not been registered.\n */\nfunction shouldPreferGlobalPromise(implementation){\n  if(implementation){\n    return implementation === 'global.Promise'\n  } else if(typeof global.Promise !== 'undefined'){\n    // Load global promise if implementation not specified\n    // Versions < 0.11 did not have global Promise\n    // Do not use for version < 0.12 as version 0.11 contained buggy versions\n    var version = (/v(\\d+)\\.(\\d+)\\.(\\d+)/).exec(process.version)\n    return !(version && +version[1] == 0 && +version[2] < 12)\n  }\n\n  // do not have global.Promise or another implementation was specified\n  return false\n}\n\n/**\n * Look for common libs as last resort there is no guarantee that\n * this will return a desired implementation or even be deterministic.\n * The priority is also nearly arbitrary. We are only doing this\n * for older versions of Node.js <0.12 that do not have a reasonable\n * global.Promise implementation and we the user has not registered\n * the preference. This preserves the behavior of any-promise <= 0.1\n * and may be deprecated or removed in the future\n */\nfunction tryAutoDetect(){\n  var libs = [\n      \"es6-promise\",\n      \"promise\",\n      \"native-promise-only\",\n      \"bluebird\",\n      \"rsvp\",\n      \"when\",\n      \"q\",\n      \"pinkie\",\n      \"lie\",\n      \"vow\"]\n  var i = 0, len = libs.length\n  for(; i < len; i++){\n    try {\n      return loadImplementation(libs[i])\n    } catch(e){}\n  }\n  return null\n}\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 2219;\nmodule.exports = webpackEmptyContext;","'use strict';\n\nconst mimeTypes = require('mime-types');\nconst LRU = require('ylru');\n\nconst typeLRUCache = new LRU(100);\n\nmodule.exports = type => {\n  let mimeType = typeLRUCache.get(type);\n  if (!mimeType) {\n    mimeType = mimeTypes.contentType(type);\n    typeLRUCache.set(type, mimeType);\n  }\n  return mimeType;\n};\n","\n/**\n * slice() reference.\n */\n\nvar slice = Array.prototype.slice;\n\n/**\n * Expose `co`.\n */\n\nmodule.exports = co['default'] = co.co = co;\n\n/**\n * Wrap the given generator `fn` into a\n * function that returns a promise.\n * This is a separate function so that\n * every `co()` call doesn't create a new,\n * unnecessary closure.\n *\n * @param {GeneratorFunction} fn\n * @return {Function}\n * @api public\n */\n\nco.wrap = function (fn) {\n  createPromise.__generatorFunction__ = fn;\n  return createPromise;\n  function createPromise() {\n    return co.call(this, fn.apply(this, arguments));\n  }\n};\n\n/**\n * Execute the generator function or a generator\n * and return a promise.\n *\n * @param {Function} fn\n * @return {Promise}\n * @api public\n */\n\nfunction co(gen) {\n  var ctx = this;\n  var args = slice.call(arguments, 1)\n\n  // we wrap everything in a promise to avoid promise chaining,\n  // which leads to memory leak errors.\n  // see https://github.com/tj/co/issues/180\n  return new Promise(function(resolve, reject) {\n    if (typeof gen === 'function') gen = gen.apply(ctx, args);\n    if (!gen || typeof gen.next !== 'function') return resolve(gen);\n\n    onFulfilled();\n\n    /**\n     * @param {Mixed} res\n     * @return {Promise}\n     * @api private\n     */\n\n    function onFulfilled(res) {\n      var ret;\n      try {\n        ret = gen.next(res);\n      } catch (e) {\n        return reject(e);\n      }\n      next(ret);\n    }\n\n    /**\n     * @param {Error} err\n     * @return {Promise}\n     * @api private\n     */\n\n    function onRejected(err) {\n      var ret;\n      try {\n        ret = gen.throw(err);\n      } catch (e) {\n        return reject(e);\n      }\n      next(ret);\n    }\n\n    /**\n     * Get the next value in the generator,\n     * return a promise.\n     *\n     * @param {Object} ret\n     * @return {Promise}\n     * @api private\n     */\n\n    function next(ret) {\n      if (ret.done) return resolve(ret.value);\n      var value = toPromise.call(ctx, ret.value);\n      if (value && isPromise(value)) return value.then(onFulfilled, onRejected);\n      return onRejected(new TypeError('You may only yield a function, promise, generator, array, or object, '\n        + 'but the following object was passed: \"' + String(ret.value) + '\"'));\n    }\n  });\n}\n\n/**\n * Convert a `yield`ed value into a promise.\n *\n * @param {Mixed} obj\n * @return {Promise}\n * @api private\n */\n\nfunction toPromise(obj) {\n  if (!obj) return obj;\n  if (isPromise(obj)) return obj;\n  if (isGeneratorFunction(obj) || isGenerator(obj)) return co.call(this, obj);\n  if ('function' == typeof obj) return thunkToPromise.call(this, obj);\n  if (Array.isArray(obj)) return arrayToPromise.call(this, obj);\n  if (isObject(obj)) return objectToPromise.call(this, obj);\n  return obj;\n}\n\n/**\n * Convert a thunk to a promise.\n *\n * @param {Function}\n * @return {Promise}\n * @api private\n */\n\nfunction thunkToPromise(fn) {\n  var ctx = this;\n  return new Promise(function (resolve, reject) {\n    fn.call(ctx, function (err, res) {\n      if (err) return reject(err);\n      if (arguments.length > 2) res = slice.call(arguments, 1);\n      resolve(res);\n    });\n  });\n}\n\n/**\n * Convert an array of \"yieldables\" to a promise.\n * Uses `Promise.all()` internally.\n *\n * @param {Array} obj\n * @return {Promise}\n * @api private\n */\n\nfunction arrayToPromise(obj) {\n  return Promise.all(obj.map(toPromise, this));\n}\n\n/**\n * Convert an object of \"yieldables\" to a promise.\n * Uses `Promise.all()` internally.\n *\n * @param {Object} obj\n * @return {Promise}\n * @api private\n */\n\nfunction objectToPromise(obj){\n  var results = new obj.constructor();\n  var keys = Object.keys(obj);\n  var promises = [];\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var promise = toPromise.call(this, obj[key]);\n    if (promise && isPromise(promise)) defer(promise, key);\n    else results[key] = obj[key];\n  }\n  return Promise.all(promises).then(function () {\n    return results;\n  });\n\n  function defer(promise, key) {\n    // predefine the key in the result\n    results[key] = undefined;\n    promises.push(promise.then(function (res) {\n      results[key] = res;\n    }));\n  }\n}\n\n/**\n * Check if `obj` is a promise.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isPromise(obj) {\n  return 'function' == typeof obj.then;\n}\n\n/**\n * Check if `obj` is a generator.\n *\n * @param {Mixed} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isGenerator(obj) {\n  return 'function' == typeof obj.next && 'function' == typeof obj.throw;\n}\n\n/**\n * Check if `obj` is a generator function.\n *\n * @param {Mixed} obj\n * @return {Boolean}\n * @api private\n */\nfunction isGeneratorFunction(obj) {\n  var constructor = obj.constructor;\n  if (!constructor) return false;\n  if ('GeneratorFunction' === constructor.name || 'GeneratorFunction' === constructor.displayName) return true;\n  return isGenerator(constructor.prototype);\n}\n\n/**\n * Check for plain object.\n *\n * @param {Mixed} val\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(val) {\n  return Object == val.constructor;\n}\n","/*!\n * content-disposition\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = contentDisposition\nmodule.exports.parse = parse\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar basename = require('path').basename\nvar Buffer = require('safe-buffer').Buffer\n\n/**\n * RegExp to match non attr-char, *after* encodeURIComponent (i.e. not including \"%\")\n * @private\n */\n\nvar ENCODE_URL_ATTR_CHAR_REGEXP = /[\\x00-\\x20\"'()*,/:;<=>?@[\\\\\\]{}\\x7f]/g // eslint-disable-line no-control-regex\n\n/**\n * RegExp to match percent encoding escape.\n * @private\n */\n\nvar HEX_ESCAPE_REGEXP = /%[0-9A-Fa-f]{2}/\nvar HEX_ESCAPE_REPLACE_REGEXP = /%([0-9A-Fa-f]{2})/g\n\n/**\n * RegExp to match non-latin1 characters.\n * @private\n */\n\nvar NON_LATIN1_REGEXP = /[^\\x20-\\x7e\\xa0-\\xff]/g\n\n/**\n * RegExp to match quoted-pair in RFC 2616\n *\n * quoted-pair = \"\\\" CHAR\n * CHAR        = <any US-ASCII character (octets 0 - 127)>\n * @private\n */\n\nvar QESC_REGEXP = /\\\\([\\u0000-\\u007f])/g // eslint-disable-line no-control-regex\n\n/**\n * RegExp to match chars that must be quoted-pair in RFC 2616\n * @private\n */\n\nvar QUOTE_REGEXP = /([\\\\\"])/g\n\n/**\n * RegExp for various RFC 2616 grammar\n *\n * parameter     = token \"=\" ( token | quoted-string )\n * token         = 1*<any CHAR except CTLs or separators>\n * separators    = \"(\" | \")\" | \"<\" | \">\" | \"@\"\n *               | \",\" | \";\" | \":\" | \"\\\" | <\">\n *               | \"/\" | \"[\" | \"]\" | \"?\" | \"=\"\n *               | \"{\" | \"}\" | SP | HT\n * quoted-string = ( <\"> *(qdtext | quoted-pair ) <\"> )\n * qdtext        = <any TEXT except <\">>\n * quoted-pair   = \"\\\" CHAR\n * CHAR          = <any US-ASCII character (octets 0 - 127)>\n * TEXT          = <any OCTET except CTLs, but including LWS>\n * LWS           = [CRLF] 1*( SP | HT )\n * CRLF          = CR LF\n * CR            = <US-ASCII CR, carriage return (13)>\n * LF            = <US-ASCII LF, linefeed (10)>\n * SP            = <US-ASCII SP, space (32)>\n * HT            = <US-ASCII HT, horizontal-tab (9)>\n * CTL           = <any US-ASCII control character (octets 0 - 31) and DEL (127)>\n * OCTET         = <any 8-bit sequence of data>\n * @private\n */\n\nvar PARAM_REGEXP = /;[\\x09\\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\\x09\\x20]*=[\\x09\\x20]*(\"(?:[\\x20!\\x23-\\x5b\\x5d-\\x7e\\x80-\\xff]|\\\\[\\x20-\\x7e])*\"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\\x09\\x20]*/g // eslint-disable-line no-control-regex\nvar TEXT_REGEXP = /^[\\x20-\\x7e\\x80-\\xff]+$/\nvar TOKEN_REGEXP = /^[!#$%&'*+.0-9A-Z^_`a-z|~-]+$/\n\n/**\n * RegExp for various RFC 5987 grammar\n *\n * ext-value     = charset  \"'\" [ language ] \"'\" value-chars\n * charset       = \"UTF-8\" / \"ISO-8859-1\" / mime-charset\n * mime-charset  = 1*mime-charsetc\n * mime-charsetc = ALPHA / DIGIT\n *               / \"!\" / \"#\" / \"$\" / \"%\" / \"&\"\n *               / \"+\" / \"-\" / \"^\" / \"_\" / \"`\"\n *               / \"{\" / \"}\" / \"~\"\n * language      = ( 2*3ALPHA [ extlang ] )\n *               / 4ALPHA\n *               / 5*8ALPHA\n * extlang       = *3( \"-\" 3ALPHA )\n * value-chars   = *( pct-encoded / attr-char )\n * pct-encoded   = \"%\" HEXDIG HEXDIG\n * attr-char     = ALPHA / DIGIT\n *               / \"!\" / \"#\" / \"$\" / \"&\" / \"+\" / \"-\" / \".\"\n *               / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\n * @private\n */\n\nvar EXT_VALUE_REGEXP = /^([A-Za-z0-9!#$%&+\\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/\n\n/**\n * RegExp for various RFC 6266 grammar\n *\n * disposition-type = \"inline\" | \"attachment\" | disp-ext-type\n * disp-ext-type    = token\n * disposition-parm = filename-parm | disp-ext-parm\n * filename-parm    = \"filename\" \"=\" value\n *                  | \"filename*\" \"=\" ext-value\n * disp-ext-parm    = token \"=\" value\n *                  | ext-token \"=\" ext-value\n * ext-token        = <the characters in token, followed by \"*\">\n * @private\n */\n\nvar DISPOSITION_TYPE_REGEXP = /^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\\x09\\x20]*(?:$|;)/ // eslint-disable-line no-control-regex\n\n/**\n * Create an attachment Content-Disposition header.\n *\n * @param {string} [filename]\n * @param {object} [options]\n * @param {string} [options.type=attachment]\n * @param {string|boolean} [options.fallback=true]\n * @return {string}\n * @public\n */\n\nfunction contentDisposition (filename, options) {\n  var opts = options || {}\n\n  // get type\n  var type = opts.type || 'attachment'\n\n  // get parameters\n  var params = createparams(filename, opts.fallback)\n\n  // format into string\n  return format(new ContentDisposition(type, params))\n}\n\n/**\n * Create parameters object from filename and fallback.\n *\n * @param {string} [filename]\n * @param {string|boolean} [fallback=true]\n * @return {object}\n * @private\n */\n\nfunction createparams (filename, fallback) {\n  if (filename === undefined) {\n    return\n  }\n\n  var params = {}\n\n  if (typeof filename !== 'string') {\n    throw new TypeError('filename must be a string')\n  }\n\n  // fallback defaults to true\n  if (fallback === undefined) {\n    fallback = true\n  }\n\n  if (typeof fallback !== 'string' && typeof fallback !== 'boolean') {\n    throw new TypeError('fallback must be a string or boolean')\n  }\n\n  if (typeof fallback === 'string' && NON_LATIN1_REGEXP.test(fallback)) {\n    throw new TypeError('fallback must be ISO-8859-1 string')\n  }\n\n  // restrict to file base name\n  var name = basename(filename)\n\n  // determine if name is suitable for quoted string\n  var isQuotedString = TEXT_REGEXP.test(name)\n\n  // generate fallback name\n  var fallbackName = typeof fallback !== 'string'\n    ? fallback && getlatin1(name)\n    : basename(fallback)\n  var hasFallback = typeof fallbackName === 'string' && fallbackName !== name\n\n  // set extended filename parameter\n  if (hasFallback || !isQuotedString || HEX_ESCAPE_REGEXP.test(name)) {\n    params['filename*'] = name\n  }\n\n  // set filename parameter\n  if (isQuotedString || hasFallback) {\n    params.filename = hasFallback\n      ? fallbackName\n      : name\n  }\n\n  return params\n}\n\n/**\n * Format object to Content-Disposition header.\n *\n * @param {object} obj\n * @param {string} obj.type\n * @param {object} [obj.parameters]\n * @return {string}\n * @private\n */\n\nfunction format (obj) {\n  var parameters = obj.parameters\n  var type = obj.type\n\n  if (!type || typeof type !== 'string' || !TOKEN_REGEXP.test(type)) {\n    throw new TypeError('invalid type')\n  }\n\n  // start with normalized type\n  var string = String(type).toLowerCase()\n\n  // append parameters\n  if (parameters && typeof parameters === 'object') {\n    var param\n    var params = Object.keys(parameters).sort()\n\n    for (var i = 0; i < params.length; i++) {\n      param = params[i]\n\n      var val = param.substr(-1) === '*'\n        ? ustring(parameters[param])\n        : qstring(parameters[param])\n\n      string += '; ' + param + '=' + val\n    }\n  }\n\n  return string\n}\n\n/**\n * Decode a RFC 6987 field value (gracefully).\n *\n * @param {string} str\n * @return {string}\n * @private\n */\n\nfunction decodefield (str) {\n  var match = EXT_VALUE_REGEXP.exec(str)\n\n  if (!match) {\n    throw new TypeError('invalid extended field value')\n  }\n\n  var charset = match[1].toLowerCase()\n  var encoded = match[2]\n  var value\n\n  // to binary string\n  var binary = encoded.replace(HEX_ESCAPE_REPLACE_REGEXP, pdecode)\n\n  switch (charset) {\n    case 'iso-8859-1':\n      value = getlatin1(binary)\n      break\n    case 'utf-8':\n      value = Buffer.from(binary, 'binary').toString('utf8')\n      break\n    default:\n      throw new TypeError('unsupported charset in extended field')\n  }\n\n  return value\n}\n\n/**\n * Get ISO-8859-1 version of string.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction getlatin1 (val) {\n  // simple Unicode -> ISO-8859-1 transformation\n  return String(val).replace(NON_LATIN1_REGEXP, '?')\n}\n\n/**\n * Parse Content-Disposition header string.\n *\n * @param {string} string\n * @return {object}\n * @public\n */\n\nfunction parse (string) {\n  if (!string || typeof string !== 'string') {\n    throw new TypeError('argument string is required')\n  }\n\n  var match = DISPOSITION_TYPE_REGEXP.exec(string)\n\n  if (!match) {\n    throw new TypeError('invalid type format')\n  }\n\n  // normalize type\n  var index = match[0].length\n  var type = match[1].toLowerCase()\n\n  var key\n  var names = []\n  var params = {}\n  var value\n\n  // calculate index to start at\n  index = PARAM_REGEXP.lastIndex = match[0].substr(-1) === ';'\n    ? index - 1\n    : index\n\n  // match parameters\n  while ((match = PARAM_REGEXP.exec(string))) {\n    if (match.index !== index) {\n      throw new TypeError('invalid parameter format')\n    }\n\n    index += match[0].length\n    key = match[1].toLowerCase()\n    value = match[2]\n\n    if (names.indexOf(key) !== -1) {\n      throw new TypeError('invalid duplicate parameter')\n    }\n\n    names.push(key)\n\n    if (key.indexOf('*') + 1 === key.length) {\n      // decode extended value\n      key = key.slice(0, -1)\n      value = decodefield(value)\n\n      // overwrite existing value\n      params[key] = value\n      continue\n    }\n\n    if (typeof params[key] === 'string') {\n      continue\n    }\n\n    if (value[0] === '\"') {\n      // remove quotes and escapes\n      value = value\n        .substr(1, value.length - 2)\n        .replace(QESC_REGEXP, '$1')\n    }\n\n    params[key] = value\n  }\n\n  if (index !== -1 && index !== string.length) {\n    throw new TypeError('invalid parameter format')\n  }\n\n  return new ContentDisposition(type, params)\n}\n\n/**\n * Percent decode a single character.\n *\n * @param {string} str\n * @param {string} hex\n * @return {string}\n * @private\n */\n\nfunction pdecode (str, hex) {\n  return String.fromCharCode(parseInt(hex, 16))\n}\n\n/**\n * Percent encode a single character.\n *\n * @param {string} char\n * @return {string}\n * @private\n */\n\nfunction pencode (char) {\n  return '%' + String(char)\n    .charCodeAt(0)\n    .toString(16)\n    .toUpperCase()\n}\n\n/**\n * Quote a string for HTTP.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction qstring (val) {\n  var str = String(val)\n\n  return '\"' + str.replace(QUOTE_REGEXP, '\\\\$1') + '\"'\n}\n\n/**\n * Encode a Unicode string for HTTP (RFC 5987).\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction ustring (val) {\n  var str = String(val)\n\n  // percent encode as UTF-8\n  var encoded = encodeURIComponent(str)\n    .replace(ENCODE_URL_ATTR_CHAR_REGEXP, pencode)\n\n  return 'UTF-8\\'\\'' + encoded\n}\n\n/**\n * Class for parsed Content-Disposition header for v8 optimization\n *\n * @public\n * @param {string} type\n * @param {object} parameters\n * @constructor\n */\n\nfunction ContentDisposition (type, parameters) {\n  this.type = type\n  this.parameters = parameters\n}\n","/*!\n * content-type\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * RegExp to match *( \";\" parameter ) in RFC 7231 sec 3.1.1.1\n *\n * parameter     = token \"=\" ( token / quoted-string )\n * token         = 1*tchar\n * tchar         = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" / \"*\"\n *               / \"+\" / \"-\" / \".\" / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\n *               / DIGIT / ALPHA\n *               ; any VCHAR, except delimiters\n * quoted-string = DQUOTE *( qdtext / quoted-pair ) DQUOTE\n * qdtext        = HTAB / SP / %x21 / %x23-5B / %x5D-7E / obs-text\n * obs-text      = %x80-FF\n * quoted-pair   = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n */\nvar PARAM_REGEXP = /; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *(\"(?:[\\u000b\\u0020\\u0021\\u0023-\\u005b\\u005d-\\u007e\\u0080-\\u00ff]|\\\\[\\u000b\\u0020-\\u00ff])*\"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g\nvar TEXT_REGEXP = /^[\\u000b\\u0020-\\u007e\\u0080-\\u00ff]+$/\nvar TOKEN_REGEXP = /^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/\n\n/**\n * RegExp to match quoted-pair in RFC 7230 sec 3.2.6\n *\n * quoted-pair = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n * obs-text    = %x80-FF\n */\nvar QESC_REGEXP = /\\\\([\\u000b\\u0020-\\u00ff])/g\n\n/**\n * RegExp to match chars that must be quoted-pair in RFC 7230 sec 3.2.6\n */\nvar QUOTE_REGEXP = /([\\\\\"])/g\n\n/**\n * RegExp to match type in RFC 7231 sec 3.1.1.1\n *\n * media-type = type \"/\" subtype\n * type       = token\n * subtype    = token\n */\nvar TYPE_REGEXP = /^[!#$%&'*+.^_`|~0-9A-Za-z-]+\\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/\n\n/**\n * Module exports.\n * @public\n */\n\nexports.format = format\nexports.parse = parse\n\n/**\n * Format object to media type.\n *\n * @param {object} obj\n * @return {string}\n * @public\n */\n\nfunction format (obj) {\n  if (!obj || typeof obj !== 'object') {\n    throw new TypeError('argument obj is required')\n  }\n\n  var parameters = obj.parameters\n  var type = obj.type\n\n  if (!type || !TYPE_REGEXP.test(type)) {\n    throw new TypeError('invalid type')\n  }\n\n  var string = type\n\n  // append parameters\n  if (parameters && typeof parameters === 'object') {\n    var param\n    var params = Object.keys(parameters).sort()\n\n    for (var i = 0; i < params.length; i++) {\n      param = params[i]\n\n      if (!TOKEN_REGEXP.test(param)) {\n        throw new TypeError('invalid parameter name')\n      }\n\n      string += '; ' + param + '=' + qstring(parameters[param])\n    }\n  }\n\n  return string\n}\n\n/**\n * Parse media type to object.\n *\n * @param {string|object} string\n * @return {Object}\n * @public\n */\n\nfunction parse (string) {\n  if (!string) {\n    throw new TypeError('argument string is required')\n  }\n\n  // support req/res-like objects as argument\n  var header = typeof string === 'object'\n    ? getcontenttype(string)\n    : string\n\n  if (typeof header !== 'string') {\n    throw new TypeError('argument string is required to be a string')\n  }\n\n  var index = header.indexOf(';')\n  var type = index !== -1\n    ? header.substr(0, index).trim()\n    : header.trim()\n\n  if (!TYPE_REGEXP.test(type)) {\n    throw new TypeError('invalid media type')\n  }\n\n  var obj = new ContentType(type.toLowerCase())\n\n  // parse parameters\n  if (index !== -1) {\n    var key\n    var match\n    var value\n\n    PARAM_REGEXP.lastIndex = index\n\n    while ((match = PARAM_REGEXP.exec(header))) {\n      if (match.index !== index) {\n        throw new TypeError('invalid parameter format')\n      }\n\n      index += match[0].length\n      key = match[1].toLowerCase()\n      value = match[2]\n\n      if (value[0] === '\"') {\n        // remove quotes and escapes\n        value = value\n          .substr(1, value.length - 2)\n          .replace(QESC_REGEXP, '$1')\n      }\n\n      obj.parameters[key] = value\n    }\n\n    if (index !== header.length) {\n      throw new TypeError('invalid parameter format')\n    }\n  }\n\n  return obj\n}\n\n/**\n * Get content-type from req/res objects.\n *\n * @param {object}\n * @return {Object}\n * @private\n */\n\nfunction getcontenttype (obj) {\n  var header\n\n  if (typeof obj.getHeader === 'function') {\n    // res-like\n    header = obj.getHeader('content-type')\n  } else if (typeof obj.headers === 'object') {\n    // req-like\n    header = obj.headers && obj.headers['content-type']\n  }\n\n  if (typeof header !== 'string') {\n    throw new TypeError('content-type header is missing from object')\n  }\n\n  return header\n}\n\n/**\n * Quote a string if necessary.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction qstring (val) {\n  var str = String(val)\n\n  // no need to quote tokens\n  if (TOKEN_REGEXP.test(str)) {\n    return str\n  }\n\n  if (str.length > 0 && !TEXT_REGEXP.test(str)) {\n    throw new TypeError('invalid parameter value')\n  }\n\n  return '\"' + str.replace(QUOTE_REGEXP, '\\\\$1') + '\"'\n}\n\n/**\n * Class to represent a content type.\n * @private\n */\nfunction ContentType (type) {\n  this.parameters = Object.create(null)\n  this.type = type\n}\n","/*!\n * cookies\n * Copyright(c) 2014 Jed Schmidt, http://jed.is/\n * Copyright(c) 2015-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\nvar deprecate = require('depd')('cookies')\nvar Keygrip = require('keygrip')\nvar http = require('http')\nvar cache = {}\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * RegExp to match Same-Site cookie attribute value.\n */\n\nvar SAME_SITE_REGEXP = /^(?:lax|none|strict)$/i\n\nfunction Cookies(request, response, options) {\n  if (!(this instanceof Cookies)) return new Cookies(request, response, options)\n\n  this.secure = undefined\n  this.request = request\n  this.response = response\n\n  if (options) {\n    if (Array.isArray(options)) {\n      // array of key strings\n      deprecate('\"keys\" argument; provide using options {\"keys\": [...]}')\n      this.keys = new Keygrip(options)\n    } else if (options.constructor && options.constructor.name === 'Keygrip') {\n      // any keygrip constructor to allow different versions\n      deprecate('\"keys\" argument; provide using options {\"keys\": keygrip}')\n      this.keys = options\n    } else {\n      this.keys = Array.isArray(options.keys) ? new Keygrip(options.keys) : options.keys\n      this.secure = options.secure\n    }\n  }\n}\n\nCookies.prototype.get = function(name, opts) {\n  var sigName = name + \".sig\"\n    , header, match, value, remote, data, index\n    , signed = opts && opts.signed !== undefined ? opts.signed : !!this.keys\n\n  header = this.request.headers[\"cookie\"]\n  if (!header) return\n\n  match = header.match(getPattern(name))\n  if (!match) return\n\n  value = match[1]\n  if (!opts || !signed) return value\n\n  remote = this.get(sigName)\n  if (!remote) return\n\n  data = name + \"=\" + value\n  if (!this.keys) throw new Error('.keys required for signed cookies');\n  index = this.keys.index(data, remote)\n\n  if (index < 0) {\n    this.set(sigName, null, {path: \"/\", signed: false })\n  } else {\n    index && this.set(sigName, this.keys.sign(data), { signed: false })\n    return value\n  }\n};\n\nCookies.prototype.set = function(name, value, opts) {\n  var res = this.response\n    , req = this.request\n    , headers = res.getHeader(\"Set-Cookie\") || []\n    , secure = this.secure !== undefined ? !!this.secure : req.protocol === 'https' || req.connection.encrypted\n    , cookie = new Cookie(name, value, opts)\n    , signed = opts && opts.signed !== undefined ? opts.signed : !!this.keys\n\n  if (typeof headers == \"string\") headers = [headers]\n\n  if (!secure && opts && opts.secure) {\n    throw new Error('Cannot send secure cookie over unencrypted connection')\n  }\n\n  cookie.secure = opts && opts.secure !== undefined\n    ? opts.secure\n    : secure\n\n  if (opts && \"secureProxy\" in opts) {\n    deprecate('\"secureProxy\" option; use \"secure\" option, provide \"secure\" to constructor if needed')\n    cookie.secure = opts.secureProxy\n  }\n\n  pushCookie(headers, cookie)\n\n  if (opts && signed) {\n    if (!this.keys) throw new Error('.keys required for signed cookies');\n    cookie.value = this.keys.sign(cookie.toString())\n    cookie.name += \".sig\"\n    pushCookie(headers, cookie)\n  }\n\n  var setHeader = res.set ? http.OutgoingMessage.prototype.setHeader : res.setHeader\n  setHeader.call(res, 'Set-Cookie', headers)\n  return this\n};\n\nfunction Cookie(name, value, attrs) {\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument value is invalid');\n  }\n\n  this.name = name\n  this.value = value || \"\"\n\n  for (var name in attrs) {\n    this[name] = attrs[name]\n  }\n\n  if (!this.value) {\n    this.expires = new Date(0)\n    this.maxAge = null\n  }\n\n  if (this.path && !fieldContentRegExp.test(this.path)) {\n    throw new TypeError('option path is invalid');\n  }\n\n  if (this.domain && !fieldContentRegExp.test(this.domain)) {\n    throw new TypeError('option domain is invalid');\n  }\n\n  if (this.sameSite && this.sameSite !== true && !SAME_SITE_REGEXP.test(this.sameSite)) {\n    throw new TypeError('option sameSite is invalid')\n  }\n}\n\nCookie.prototype.path = \"/\";\nCookie.prototype.expires = undefined;\nCookie.prototype.domain = undefined;\nCookie.prototype.httpOnly = true;\nCookie.prototype.sameSite = false;\nCookie.prototype.secure = false;\nCookie.prototype.overwrite = false;\n\nCookie.prototype.toString = function() {\n  return this.name + \"=\" + this.value\n};\n\nCookie.prototype.toHeader = function() {\n  var header = this.toString()\n\n  if (this.maxAge) this.expires = new Date(Date.now() + this.maxAge);\n\n  if (this.path     ) header += \"; path=\" + this.path\n  if (this.expires  ) header += \"; expires=\" + this.expires.toUTCString()\n  if (this.domain   ) header += \"; domain=\" + this.domain\n  if (this.sameSite ) header += \"; samesite=\" + (this.sameSite === true ? 'strict' : this.sameSite.toLowerCase())\n  if (this.secure   ) header += \"; secure\"\n  if (this.httpOnly ) header += \"; httponly\"\n\n  return header\n};\n\n// back-compat so maxage mirrors maxAge\nObject.defineProperty(Cookie.prototype, 'maxage', {\n  configurable: true,\n  enumerable: true,\n  get: function () { return this.maxAge },\n  set: function (val) { return this.maxAge = val }\n});\ndeprecate.property(Cookie.prototype, 'maxage', '\"maxage\"; use \"maxAge\" instead')\n\nfunction getPattern(name) {\n  if (cache[name]) return cache[name]\n\n  return cache[name] = new RegExp(\n    \"(?:^|;) *\" +\n    name.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\") +\n    \"=([^;]*)\"\n  )\n}\n\nfunction pushCookie(headers, cookie) {\n  if (cookie.overwrite) {\n    for (var i = headers.length - 1; i >= 0; i--) {\n      if (headers[i].indexOf(cookie.name + '=') === 0) {\n        headers.splice(i, 1)\n      }\n    }\n  }\n\n  headers.push(cookie.toHeader())\n}\n\nCookies.connect = Cookies.express = function(keys) {\n  return function(req, res, next) {\n    req.cookies = res.cookies = new Cookies(req, res, {\n      keys: keys\n    })\n\n    next()\n  }\n}\n\nCookies.Cookie = Cookie\n\nmodule.exports = Cookies\n","/*!\n * depd\n * Copyright(c) 2014-2018 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\n\nvar relative = require('path').relative\n\n/**\n * Module exports.\n */\n\nmodule.exports = depd\n\n/**\n * Get the path to base files on.\n */\n\nvar basePath = process.cwd()\n\n/**\n * Determine if namespace is contained in the string.\n */\n\nfunction containsNamespace (str, namespace) {\n  var vals = str.split(/[ ,]+/)\n  var ns = String(namespace).toLowerCase()\n\n  for (var i = 0; i < vals.length; i++) {\n    var val = vals[i]\n\n    // namespace contained\n    if (val && (val === '*' || val.toLowerCase() === ns)) {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Convert a data descriptor to accessor descriptor.\n */\n\nfunction convertDataDescriptorToAccessor (obj, prop, message) {\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n  var value = descriptor.value\n\n  descriptor.get = function getter () { return value }\n\n  if (descriptor.writable) {\n    descriptor.set = function setter (val) { return (value = val) }\n  }\n\n  delete descriptor.value\n  delete descriptor.writable\n\n  Object.defineProperty(obj, prop, descriptor)\n\n  return descriptor\n}\n\n/**\n * Create arguments string to keep arity.\n */\n\nfunction createArgumentsString (arity) {\n  var str = ''\n\n  for (var i = 0; i < arity; i++) {\n    str += ', arg' + i\n  }\n\n  return str.substr(2)\n}\n\n/**\n * Create stack string from stack.\n */\n\nfunction createStackString (stack) {\n  var str = this.name + ': ' + this.namespace\n\n  if (this.message) {\n    str += ' deprecated ' + this.message\n  }\n\n  for (var i = 0; i < stack.length; i++) {\n    str += '\\n    at ' + stack[i].toString()\n  }\n\n  return str\n}\n\n/**\n * Create deprecate for namespace in caller.\n */\n\nfunction depd (namespace) {\n  if (!namespace) {\n    throw new TypeError('argument namespace is required')\n  }\n\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n  var file = site[0]\n\n  function deprecate (message) {\n    // call to self as log\n    log.call(deprecate, message)\n  }\n\n  deprecate._file = file\n  deprecate._ignored = isignored(namespace)\n  deprecate._namespace = namespace\n  deprecate._traced = istraced(namespace)\n  deprecate._warned = Object.create(null)\n\n  deprecate.function = wrapfunction\n  deprecate.property = wrapproperty\n\n  return deprecate\n}\n\n/**\n * Determine if event emitter has listeners of a given type.\n *\n * The way to do this check is done three different ways in Node.js >= 0.8\n * so this consolidates them into a minimal set using instance methods.\n *\n * @param {EventEmitter} emitter\n * @param {string} type\n * @returns {boolean}\n * @private\n */\n\nfunction eehaslisteners (emitter, type) {\n  var count = typeof emitter.listenerCount !== 'function'\n    ? emitter.listeners(type).length\n    : emitter.listenerCount(type)\n\n  return count > 0\n}\n\n/**\n * Determine if namespace is ignored.\n */\n\nfunction isignored (namespace) {\n  if (process.noDeprecation) {\n    // --no-deprecation support\n    return true\n  }\n\n  var str = process.env.NO_DEPRECATION || ''\n\n  // namespace ignored\n  return containsNamespace(str, namespace)\n}\n\n/**\n * Determine if namespace is traced.\n */\n\nfunction istraced (namespace) {\n  if (process.traceDeprecation) {\n    // --trace-deprecation support\n    return true\n  }\n\n  var str = process.env.TRACE_DEPRECATION || ''\n\n  // namespace traced\n  return containsNamespace(str, namespace)\n}\n\n/**\n * Display deprecation message.\n */\n\nfunction log (message, site) {\n  var haslisteners = eehaslisteners(process, 'deprecation')\n\n  // abort early if no destination\n  if (!haslisteners && this._ignored) {\n    return\n  }\n\n  var caller\n  var callFile\n  var callSite\n  var depSite\n  var i = 0\n  var seen = false\n  var stack = getStack()\n  var file = this._file\n\n  if (site) {\n    // provided site\n    depSite = site\n    callSite = callSiteLocation(stack[1])\n    callSite.name = depSite.name\n    file = callSite[0]\n  } else {\n    // get call site\n    i = 2\n    depSite = callSiteLocation(stack[i])\n    callSite = depSite\n  }\n\n  // get caller of deprecated thing in relation to file\n  for (; i < stack.length; i++) {\n    caller = callSiteLocation(stack[i])\n    callFile = caller[0]\n\n    if (callFile === file) {\n      seen = true\n    } else if (callFile === this._file) {\n      file = this._file\n    } else if (seen) {\n      break\n    }\n  }\n\n  var key = caller\n    ? depSite.join(':') + '__' + caller.join(':')\n    : undefined\n\n  if (key !== undefined && key in this._warned) {\n    // already warned\n    return\n  }\n\n  this._warned[key] = true\n\n  // generate automatic message from call site\n  var msg = message\n  if (!msg) {\n    msg = callSite === depSite || !callSite.name\n      ? defaultMessage(depSite)\n      : defaultMessage(callSite)\n  }\n\n  // emit deprecation if listeners exist\n  if (haslisteners) {\n    var err = DeprecationError(this._namespace, msg, stack.slice(i))\n    process.emit('deprecation', err)\n    return\n  }\n\n  // format and write message\n  var format = process.stderr.isTTY\n    ? formatColor\n    : formatPlain\n  var output = format.call(this, msg, caller, stack.slice(i))\n  process.stderr.write(output + '\\n', 'utf8')\n}\n\n/**\n * Get call site location as array.\n */\n\nfunction callSiteLocation (callSite) {\n  var file = callSite.getFileName() || '<anonymous>'\n  var line = callSite.getLineNumber()\n  var colm = callSite.getColumnNumber()\n\n  if (callSite.isEval()) {\n    file = callSite.getEvalOrigin() + ', ' + file\n  }\n\n  var site = [file, line, colm]\n\n  site.callSite = callSite\n  site.name = callSite.getFunctionName()\n\n  return site\n}\n\n/**\n * Generate a default message from the site.\n */\n\nfunction defaultMessage (site) {\n  var callSite = site.callSite\n  var funcName = site.name\n\n  // make useful anonymous name\n  if (!funcName) {\n    funcName = '<anonymous@' + formatLocation(site) + '>'\n  }\n\n  var context = callSite.getThis()\n  var typeName = context && callSite.getTypeName()\n\n  // ignore useless type name\n  if (typeName === 'Object') {\n    typeName = undefined\n  }\n\n  // make useful type name\n  if (typeName === 'Function') {\n    typeName = context.name || typeName\n  }\n\n  return typeName && callSite.getMethodName()\n    ? typeName + '.' + funcName\n    : funcName\n}\n\n/**\n * Format deprecation message without color.\n */\n\nfunction formatPlain (msg, caller, stack) {\n  var timestamp = new Date().toUTCString()\n\n  var formatted = timestamp +\n    ' ' + this._namespace +\n    ' deprecated ' + msg\n\n  // add stack trace\n  if (this._traced) {\n    for (var i = 0; i < stack.length; i++) {\n      formatted += '\\n    at ' + stack[i].toString()\n    }\n\n    return formatted\n  }\n\n  if (caller) {\n    formatted += ' at ' + formatLocation(caller)\n  }\n\n  return formatted\n}\n\n/**\n * Format deprecation message with color.\n */\n\nfunction formatColor (msg, caller, stack) {\n  var formatted = '\\x1b[36;1m' + this._namespace + '\\x1b[22;39m' + // bold cyan\n    ' \\x1b[33;1mdeprecated\\x1b[22;39m' + // bold yellow\n    ' \\x1b[0m' + msg + '\\x1b[39m' // reset\n\n  // add stack trace\n  if (this._traced) {\n    for (var i = 0; i < stack.length; i++) {\n      formatted += '\\n    \\x1b[36mat ' + stack[i].toString() + '\\x1b[39m' // cyan\n    }\n\n    return formatted\n  }\n\n  if (caller) {\n    formatted += ' \\x1b[36m' + formatLocation(caller) + '\\x1b[39m' // cyan\n  }\n\n  return formatted\n}\n\n/**\n * Format call site location.\n */\n\nfunction formatLocation (callSite) {\n  return relative(basePath, callSite[0]) +\n    ':' + callSite[1] +\n    ':' + callSite[2]\n}\n\n/**\n * Get the stack as array of call sites.\n */\n\nfunction getStack () {\n  var limit = Error.stackTraceLimit\n  var obj = {}\n  var prep = Error.prepareStackTrace\n\n  Error.prepareStackTrace = prepareObjectStackTrace\n  Error.stackTraceLimit = Math.max(10, limit)\n\n  // capture the stack\n  Error.captureStackTrace(obj)\n\n  // slice this function off the top\n  var stack = obj.stack.slice(1)\n\n  Error.prepareStackTrace = prep\n  Error.stackTraceLimit = limit\n\n  return stack\n}\n\n/**\n * Capture call site stack from v8.\n */\n\nfunction prepareObjectStackTrace (obj, stack) {\n  return stack\n}\n\n/**\n * Return a wrapped function in a deprecation message.\n */\n\nfunction wrapfunction (fn, message) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('argument fn must be a function')\n  }\n\n  var args = createArgumentsString(fn.length)\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n\n  site.name = fn.name\n\n  // eslint-disable-next-line no-new-func\n  var deprecatedfn = new Function('fn', 'log', 'deprecate', 'message', 'site',\n    '\"use strict\"\\n' +\n    'return function (' + args + ') {' +\n    'log.call(deprecate, message, site)\\n' +\n    'return fn.apply(this, arguments)\\n' +\n    '}')(fn, log, this, message, site)\n\n  return deprecatedfn\n}\n\n/**\n * Wrap property in a deprecation message.\n */\n\nfunction wrapproperty (obj, prop, message) {\n  if (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n    throw new TypeError('argument obj must be object')\n  }\n\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n\n  if (!descriptor) {\n    throw new TypeError('must call property on owner object')\n  }\n\n  if (!descriptor.configurable) {\n    throw new TypeError('property must be configurable')\n  }\n\n  var deprecate = this\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n\n  // set site name\n  site.name = prop\n\n  // convert data descriptor\n  if ('value' in descriptor) {\n    descriptor = convertDataDescriptorToAccessor(obj, prop, message)\n  }\n\n  var get = descriptor.get\n  var set = descriptor.set\n\n  // wrap getter\n  if (typeof get === 'function') {\n    descriptor.get = function getter () {\n      log.call(deprecate, message, site)\n      return get.apply(this, arguments)\n    }\n  }\n\n  // wrap setter\n  if (typeof set === 'function') {\n    descriptor.set = function setter () {\n      log.call(deprecate, message, site)\n      return set.apply(this, arguments)\n    }\n  }\n\n  Object.defineProperty(obj, prop, descriptor)\n}\n\n/**\n * Create DeprecationError for deprecation\n */\n\nfunction DeprecationError (namespace, message, stack) {\n  var error = new Error()\n  var stackString\n\n  Object.defineProperty(error, 'constructor', {\n    value: DeprecationError\n  })\n\n  Object.defineProperty(error, 'message', {\n    configurable: true,\n    enumerable: false,\n    value: message,\n    writable: true\n  })\n\n  Object.defineProperty(error, 'name', {\n    enumerable: false,\n    configurable: true,\n    value: 'DeprecationError',\n    writable: true\n  })\n\n  Object.defineProperty(error, 'namespace', {\n    configurable: true,\n    enumerable: false,\n    value: namespace,\n    writable: true\n  })\n\n  Object.defineProperty(error, 'stack', {\n    configurable: true,\n    enumerable: false,\n    get: function () {\n      if (stackString !== undefined) {\n        return stackString\n      }\n\n      // prepare stack trace\n      return (stackString = createStackString.call(this, stack))\n    },\n    set: function setter (val) {\n      stackString = val\n    }\n  })\n\n  return error\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\nfunction log(...args) {\n\t// This hackery is required for IE8/9, where\n\t// the `console.log` function doesn't have 'apply'\n\treturn typeof console === 'object' &&\n\t\tconsole.log &&\n\t\tconsole.log(...args);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* Active `debug` instances.\n\t*/\n\tcreateDebug.instances = [];\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.enabled = createDebug.enabled(namespace);\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = selectColor(namespace);\n\t\tdebug.destroy = destroy;\n\t\tdebug.extend = extend;\n\t\t// Debug.formatArgs = formatArgs;\n\t\t// debug.rawLog = rawLog;\n\n\t\t// env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\tcreateDebug.instances.push(debug);\n\n\t\treturn debug;\n\t}\n\n\tfunction destroy() {\n\t\tconst index = createDebug.instances.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tcreateDebug.instances.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < createDebug.instances.length; i++) {\n\t\t\tconst instance = createDebug.instances[i];\n\t\t\tinstance.enabled = createDebug.enabled(instance.namespace);\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.format(...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.replace(/\\s*\\n\\s*/g, ' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","var pSlice = Array.prototype.slice;\nvar objectKeys = require('./lib/keys.js');\nvar isArguments = require('./lib/is_arguments.js');\n\nvar deepEqual = module.exports = function (actual, expected, opts) {\n  if (!opts) opts = {};\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n    return opts.strict ? actual === expected : actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected, opts);\n  }\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer (x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  var i, key;\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (isArguments(a)) {\n    if (!isArguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b, opts);\n  }\n  if (isBuffer(a)) {\n    if (!isBuffer(b)) {\n      return false;\n    }\n    if (a.length !== b.length) return false;\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  try {\n    var ka = objectKeys(a),\n        kb = objectKeys(b);\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) return false;\n  }\n  return typeof a === typeof b;\n}\n","var supportsArgumentsClass = (function(){\n  return Object.prototype.toString.call(arguments)\n})() == '[object Arguments]';\n\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\nexports.supported = supported;\nfunction supported(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n};\n\nexports.unsupported = unsupported;\nfunction unsupported(object){\n  return object &&\n    typeof object == 'object' &&\n    typeof object.length == 'number' &&\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n    false;\n};\n","exports = module.exports = typeof Object.keys === 'function'\n  ? Object.keys : shim;\n\nexports.shim = shim;\nfunction shim (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n","\n/**\n * Expose `Delegator`.\n */\n\nmodule.exports = Delegator;\n\n/**\n * Initialize a delegator.\n *\n * @param {Object} proto\n * @param {String} target\n * @api public\n */\n\nfunction Delegator(proto, target) {\n  if (!(this instanceof Delegator)) return new Delegator(proto, target);\n  this.proto = proto;\n  this.target = target;\n  this.methods = [];\n  this.getters = [];\n  this.setters = [];\n  this.fluents = [];\n}\n\n/**\n * Delegate method `name`.\n *\n * @param {String} name\n * @return {Delegator} self\n * @api public\n */\n\nDelegator.prototype.method = function(name){\n  var proto = this.proto;\n  var target = this.target;\n  this.methods.push(name);\n\n  proto[name] = function(){\n    return this[target][name].apply(this[target], arguments);\n  };\n\n  return this;\n};\n\n/**\n * Delegator accessor `name`.\n *\n * @param {String} name\n * @return {Delegator} self\n * @api public\n */\n\nDelegator.prototype.access = function(name){\n  return this.getter(name).setter(name);\n};\n\n/**\n * Delegator getter `name`.\n *\n * @param {String} name\n * @return {Delegator} self\n * @api public\n */\n\nDelegator.prototype.getter = function(name){\n  var proto = this.proto;\n  var target = this.target;\n  this.getters.push(name);\n\n  proto.__defineGetter__(name, function(){\n    return this[target][name];\n  });\n\n  return this;\n};\n\n/**\n * Delegator setter `name`.\n *\n * @param {String} name\n * @return {Delegator} self\n * @api public\n */\n\nDelegator.prototype.setter = function(name){\n  var proto = this.proto;\n  var target = this.target;\n  this.setters.push(name);\n\n  proto.__defineSetter__(name, function(val){\n    return this[target][name] = val;\n  });\n\n  return this;\n};\n\n/**\n * Delegator fluent accessor\n *\n * @param {String} name\n * @return {Delegator} self\n * @api public\n */\n\nDelegator.prototype.fluent = function (name) {\n  var proto = this.proto;\n  var target = this.target;\n  this.fluents.push(name);\n\n  proto[name] = function(val){\n    if ('undefined' != typeof val) {\n      this[target][name] = val;\n      return this;\n    } else {\n      return this[target][name];\n    }\n  };\n\n  return this;\n};\n","/*!\n * depd\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\n\nvar callSiteToString = require('./lib/compat').callSiteToString\nvar eventListenerCount = require('./lib/compat').eventListenerCount\nvar relative = require('path').relative\n\n/**\n * Module exports.\n */\n\nmodule.exports = depd\n\n/**\n * Get the path to base files on.\n */\n\nvar basePath = process.cwd()\n\n/**\n * Determine if namespace is contained in the string.\n */\n\nfunction containsNamespace (str, namespace) {\n  var vals = str.split(/[ ,]+/)\n  var ns = String(namespace).toLowerCase()\n\n  for (var i = 0; i < vals.length; i++) {\n    var val = vals[i]\n\n    // namespace contained\n    if (val && (val === '*' || val.toLowerCase() === ns)) {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Convert a data descriptor to accessor descriptor.\n */\n\nfunction convertDataDescriptorToAccessor (obj, prop, message) {\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n  var value = descriptor.value\n\n  descriptor.get = function getter () { return value }\n\n  if (descriptor.writable) {\n    descriptor.set = function setter (val) { return (value = val) }\n  }\n\n  delete descriptor.value\n  delete descriptor.writable\n\n  Object.defineProperty(obj, prop, descriptor)\n\n  return descriptor\n}\n\n/**\n * Create arguments string to keep arity.\n */\n\nfunction createArgumentsString (arity) {\n  var str = ''\n\n  for (var i = 0; i < arity; i++) {\n    str += ', arg' + i\n  }\n\n  return str.substr(2)\n}\n\n/**\n * Create stack string from stack.\n */\n\nfunction createStackString (stack) {\n  var str = this.name + ': ' + this.namespace\n\n  if (this.message) {\n    str += ' deprecated ' + this.message\n  }\n\n  for (var i = 0; i < stack.length; i++) {\n    str += '\\n    at ' + callSiteToString(stack[i])\n  }\n\n  return str\n}\n\n/**\n * Create deprecate for namespace in caller.\n */\n\nfunction depd (namespace) {\n  if (!namespace) {\n    throw new TypeError('argument namespace is required')\n  }\n\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n  var file = site[0]\n\n  function deprecate (message) {\n    // call to self as log\n    log.call(deprecate, message)\n  }\n\n  deprecate._file = file\n  deprecate._ignored = isignored(namespace)\n  deprecate._namespace = namespace\n  deprecate._traced = istraced(namespace)\n  deprecate._warned = Object.create(null)\n\n  deprecate.function = wrapfunction\n  deprecate.property = wrapproperty\n\n  return deprecate\n}\n\n/**\n * Determine if namespace is ignored.\n */\n\nfunction isignored (namespace) {\n  /* istanbul ignore next: tested in a child processs */\n  if (process.noDeprecation) {\n    // --no-deprecation support\n    return true\n  }\n\n  var str = process.env.NO_DEPRECATION || ''\n\n  // namespace ignored\n  return containsNamespace(str, namespace)\n}\n\n/**\n * Determine if namespace is traced.\n */\n\nfunction istraced (namespace) {\n  /* istanbul ignore next: tested in a child processs */\n  if (process.traceDeprecation) {\n    // --trace-deprecation support\n    return true\n  }\n\n  var str = process.env.TRACE_DEPRECATION || ''\n\n  // namespace traced\n  return containsNamespace(str, namespace)\n}\n\n/**\n * Display deprecation message.\n */\n\nfunction log (message, site) {\n  var haslisteners = eventListenerCount(process, 'deprecation') !== 0\n\n  // abort early if no destination\n  if (!haslisteners && this._ignored) {\n    return\n  }\n\n  var caller\n  var callFile\n  var callSite\n  var depSite\n  var i = 0\n  var seen = false\n  var stack = getStack()\n  var file = this._file\n\n  if (site) {\n    // provided site\n    depSite = site\n    callSite = callSiteLocation(stack[1])\n    callSite.name = depSite.name\n    file = callSite[0]\n  } else {\n    // get call site\n    i = 2\n    depSite = callSiteLocation(stack[i])\n    callSite = depSite\n  }\n\n  // get caller of deprecated thing in relation to file\n  for (; i < stack.length; i++) {\n    caller = callSiteLocation(stack[i])\n    callFile = caller[0]\n\n    if (callFile === file) {\n      seen = true\n    } else if (callFile === this._file) {\n      file = this._file\n    } else if (seen) {\n      break\n    }\n  }\n\n  var key = caller\n    ? depSite.join(':') + '__' + caller.join(':')\n    : undefined\n\n  if (key !== undefined && key in this._warned) {\n    // already warned\n    return\n  }\n\n  this._warned[key] = true\n\n  // generate automatic message from call site\n  var msg = message\n  if (!msg) {\n    msg = callSite === depSite || !callSite.name\n      ? defaultMessage(depSite)\n      : defaultMessage(callSite)\n  }\n\n  // emit deprecation if listeners exist\n  if (haslisteners) {\n    var err = DeprecationError(this._namespace, msg, stack.slice(i))\n    process.emit('deprecation', err)\n    return\n  }\n\n  // format and write message\n  var format = process.stderr.isTTY\n    ? formatColor\n    : formatPlain\n  var output = format.call(this, msg, caller, stack.slice(i))\n  process.stderr.write(output + '\\n', 'utf8')\n}\n\n/**\n * Get call site location as array.\n */\n\nfunction callSiteLocation (callSite) {\n  var file = callSite.getFileName() || '<anonymous>'\n  var line = callSite.getLineNumber()\n  var colm = callSite.getColumnNumber()\n\n  if (callSite.isEval()) {\n    file = callSite.getEvalOrigin() + ', ' + file\n  }\n\n  var site = [file, line, colm]\n\n  site.callSite = callSite\n  site.name = callSite.getFunctionName()\n\n  return site\n}\n\n/**\n * Generate a default message from the site.\n */\n\nfunction defaultMessage (site) {\n  var callSite = site.callSite\n  var funcName = site.name\n\n  // make useful anonymous name\n  if (!funcName) {\n    funcName = '<anonymous@' + formatLocation(site) + '>'\n  }\n\n  var context = callSite.getThis()\n  var typeName = context && callSite.getTypeName()\n\n  // ignore useless type name\n  if (typeName === 'Object') {\n    typeName = undefined\n  }\n\n  // make useful type name\n  if (typeName === 'Function') {\n    typeName = context.name || typeName\n  }\n\n  return typeName && callSite.getMethodName()\n    ? typeName + '.' + funcName\n    : funcName\n}\n\n/**\n * Format deprecation message without color.\n */\n\nfunction formatPlain (msg, caller, stack) {\n  var timestamp = new Date().toUTCString()\n\n  var formatted = timestamp +\n    ' ' + this._namespace +\n    ' deprecated ' + msg\n\n  // add stack trace\n  if (this._traced) {\n    for (var i = 0; i < stack.length; i++) {\n      formatted += '\\n    at ' + callSiteToString(stack[i])\n    }\n\n    return formatted\n  }\n\n  if (caller) {\n    formatted += ' at ' + formatLocation(caller)\n  }\n\n  return formatted\n}\n\n/**\n * Format deprecation message with color.\n */\n\nfunction formatColor (msg, caller, stack) {\n  var formatted = '\\x1b[36;1m' + this._namespace + '\\x1b[22;39m' + // bold cyan\n    ' \\x1b[33;1mdeprecated\\x1b[22;39m' + // bold yellow\n    ' \\x1b[0m' + msg + '\\x1b[39m' // reset\n\n  // add stack trace\n  if (this._traced) {\n    for (var i = 0; i < stack.length; i++) {\n      formatted += '\\n    \\x1b[36mat ' + callSiteToString(stack[i]) + '\\x1b[39m' // cyan\n    }\n\n    return formatted\n  }\n\n  if (caller) {\n    formatted += ' \\x1b[36m' + formatLocation(caller) + '\\x1b[39m' // cyan\n  }\n\n  return formatted\n}\n\n/**\n * Format call site location.\n */\n\nfunction formatLocation (callSite) {\n  return relative(basePath, callSite[0]) +\n    ':' + callSite[1] +\n    ':' + callSite[2]\n}\n\n/**\n * Get the stack as array of call sites.\n */\n\nfunction getStack () {\n  var limit = Error.stackTraceLimit\n  var obj = {}\n  var prep = Error.prepareStackTrace\n\n  Error.prepareStackTrace = prepareObjectStackTrace\n  Error.stackTraceLimit = Math.max(10, limit)\n\n  // capture the stack\n  Error.captureStackTrace(obj)\n\n  // slice this function off the top\n  var stack = obj.stack.slice(1)\n\n  Error.prepareStackTrace = prep\n  Error.stackTraceLimit = limit\n\n  return stack\n}\n\n/**\n * Capture call site stack from v8.\n */\n\nfunction prepareObjectStackTrace (obj, stack) {\n  return stack\n}\n\n/**\n * Return a wrapped function in a deprecation message.\n */\n\nfunction wrapfunction (fn, message) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('argument fn must be a function')\n  }\n\n  var args = createArgumentsString(fn.length)\n  var deprecate = this // eslint-disable-line no-unused-vars\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n\n  site.name = fn.name\n\n   // eslint-disable-next-line no-eval\n  var deprecatedfn = eval('(function (' + args + ') {\\n' +\n    '\"use strict\"\\n' +\n    'log.call(deprecate, message, site)\\n' +\n    'return fn.apply(this, arguments)\\n' +\n    '})')\n\n  return deprecatedfn\n}\n\n/**\n * Wrap property in a deprecation message.\n */\n\nfunction wrapproperty (obj, prop, message) {\n  if (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n    throw new TypeError('argument obj must be object')\n  }\n\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n\n  if (!descriptor) {\n    throw new TypeError('must call property on owner object')\n  }\n\n  if (!descriptor.configurable) {\n    throw new TypeError('property must be configurable')\n  }\n\n  var deprecate = this\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n\n  // set site name\n  site.name = prop\n\n  // convert data descriptor\n  if ('value' in descriptor) {\n    descriptor = convertDataDescriptorToAccessor(obj, prop, message)\n  }\n\n  var get = descriptor.get\n  var set = descriptor.set\n\n  // wrap getter\n  if (typeof get === 'function') {\n    descriptor.get = function getter () {\n      log.call(deprecate, message, site)\n      return get.apply(this, arguments)\n    }\n  }\n\n  // wrap setter\n  if (typeof set === 'function') {\n    descriptor.set = function setter () {\n      log.call(deprecate, message, site)\n      return set.apply(this, arguments)\n    }\n  }\n\n  Object.defineProperty(obj, prop, descriptor)\n}\n\n/**\n * Create DeprecationError for deprecation\n */\n\nfunction DeprecationError (namespace, message, stack) {\n  var error = new Error()\n  var stackString\n\n  Object.defineProperty(error, 'constructor', {\n    value: DeprecationError\n  })\n\n  Object.defineProperty(error, 'message', {\n    configurable: true,\n    enumerable: false,\n    value: message,\n    writable: true\n  })\n\n  Object.defineProperty(error, 'name', {\n    enumerable: false,\n    configurable: true,\n    value: 'DeprecationError',\n    writable: true\n  })\n\n  Object.defineProperty(error, 'namespace', {\n    configurable: true,\n    enumerable: false,\n    value: namespace,\n    writable: true\n  })\n\n  Object.defineProperty(error, 'stack', {\n    configurable: true,\n    enumerable: false,\n    get: function () {\n      if (stackString !== undefined) {\n        return stackString\n      }\n\n      // prepare stack trace\n      return (stackString = createStackString.call(this, stack))\n    },\n    set: function setter (val) {\n      stackString = val\n    }\n  })\n\n  return error\n}\n","/*!\n * depd\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n */\n\nmodule.exports = callSiteToString\n\n/**\n * Format a CallSite file location to a string.\n */\n\nfunction callSiteFileLocation (callSite) {\n  var fileName\n  var fileLocation = ''\n\n  if (callSite.isNative()) {\n    fileLocation = 'native'\n  } else if (callSite.isEval()) {\n    fileName = callSite.getScriptNameOrSourceURL()\n    if (!fileName) {\n      fileLocation = callSite.getEvalOrigin()\n    }\n  } else {\n    fileName = callSite.getFileName()\n  }\n\n  if (fileName) {\n    fileLocation += fileName\n\n    var lineNumber = callSite.getLineNumber()\n    if (lineNumber != null) {\n      fileLocation += ':' + lineNumber\n\n      var columnNumber = callSite.getColumnNumber()\n      if (columnNumber) {\n        fileLocation += ':' + columnNumber\n      }\n    }\n  }\n\n  return fileLocation || 'unknown source'\n}\n\n/**\n * Format a CallSite to a string.\n */\n\nfunction callSiteToString (callSite) {\n  var addSuffix = true\n  var fileLocation = callSiteFileLocation(callSite)\n  var functionName = callSite.getFunctionName()\n  var isConstructor = callSite.isConstructor()\n  var isMethodCall = !(callSite.isToplevel() || isConstructor)\n  var line = ''\n\n  if (isMethodCall) {\n    var methodName = callSite.getMethodName()\n    var typeName = getConstructorName(callSite)\n\n    if (functionName) {\n      if (typeName && functionName.indexOf(typeName) !== 0) {\n        line += typeName + '.'\n      }\n\n      line += functionName\n\n      if (methodName && functionName.lastIndexOf('.' + methodName) !== functionName.length - methodName.length - 1) {\n        line += ' [as ' + methodName + ']'\n      }\n    } else {\n      line += typeName + '.' + (methodName || '<anonymous>')\n    }\n  } else if (isConstructor) {\n    line += 'new ' + (functionName || '<anonymous>')\n  } else if (functionName) {\n    line += functionName\n  } else {\n    addSuffix = false\n    line += fileLocation\n  }\n\n  if (addSuffix) {\n    line += ' (' + fileLocation + ')'\n  }\n\n  return line\n}\n\n/**\n * Get constructor name of reviver.\n */\n\nfunction getConstructorName (obj) {\n  var receiver = obj.receiver\n  return (receiver.constructor && receiver.constructor.name) || null\n}\n","/*!\n * depd\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = eventListenerCount\n\n/**\n * Get the count of listeners on an event emitter of a specific type.\n */\n\nfunction eventListenerCount (emitter, type) {\n  return emitter.listeners(type).length\n}\n","/*!\n * depd\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar EventEmitter = require('events').EventEmitter\n\n/**\n * Module exports.\n * @public\n */\n\nlazyProperty(module.exports, 'callSiteToString', function callSiteToString () {\n  var limit = Error.stackTraceLimit\n  var obj = {}\n  var prep = Error.prepareStackTrace\n\n  function prepareObjectStackTrace (obj, stack) {\n    return stack\n  }\n\n  Error.prepareStackTrace = prepareObjectStackTrace\n  Error.stackTraceLimit = 2\n\n  // capture the stack\n  Error.captureStackTrace(obj)\n\n  // slice the stack\n  var stack = obj.stack.slice()\n\n  Error.prepareStackTrace = prep\n  Error.stackTraceLimit = limit\n\n  return stack[0].toString ? toString : require('./callsite-tostring')\n})\n\nlazyProperty(module.exports, 'eventListenerCount', function eventListenerCount () {\n  return EventEmitter.listenerCount || require('./event-listener-count')\n})\n\n/**\n * Define a lazy property.\n */\n\nfunction lazyProperty (obj, prop, getter) {\n  function get () {\n    var val = getter()\n\n    Object.defineProperty(obj, prop, {\n      configurable: true,\n      enumerable: true,\n      value: val\n    })\n\n    return val\n  }\n\n  Object.defineProperty(obj, prop, {\n    configurable: true,\n    enumerable: true,\n    get: get\n  })\n}\n\n/**\n * Call toString() on the obj\n */\n\nfunction toString (obj) {\n  return obj.toString()\n}\n","/*!\n * destroy\n * Copyright(c) 2014 Jonathan Ong\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar ReadStream = require('fs').ReadStream\nvar Stream = require('stream')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = destroy\n\n/**\n * Destroy a stream.\n *\n * @param {object} stream\n * @public\n */\n\nfunction destroy(stream) {\n  if (stream instanceof ReadStream) {\n    return destroyReadStream(stream)\n  }\n\n  if (!(stream instanceof Stream)) {\n    return stream\n  }\n\n  if (typeof stream.destroy === 'function') {\n    stream.destroy()\n  }\n\n  return stream\n}\n\n/**\n * Destroy a ReadStream.\n *\n * @param {object} stream\n * @private\n */\n\nfunction destroyReadStream(stream) {\n  stream.destroy()\n\n  if (typeof stream.close === 'function') {\n    // node.js core bug work-around\n    stream.on('open', onOpenClose)\n  }\n\n  return stream\n}\n\n/**\n * On open handler to close stream.\n * @private\n */\n\nfunction onOpenClose() {\n  if (typeof this.fd === 'number') {\n    // actually close down the fd\n    this.close()\n  }\n}\n","/*!\n * ee-first\n * Copyright(c) 2014 Jonathan Ong\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = first\n\n/**\n * Get the first event in a set of event emitters and event pairs.\n *\n * @param {array} stuff\n * @param {function} done\n * @public\n */\n\nfunction first(stuff, done) {\n  if (!Array.isArray(stuff))\n    throw new TypeError('arg must be an array of [ee, events...] arrays')\n\n  var cleanups = []\n\n  for (var i = 0; i < stuff.length; i++) {\n    var arr = stuff[i]\n\n    if (!Array.isArray(arr) || arr.length < 2)\n      throw new TypeError('each array member must be [ee, events...]')\n\n    var ee = arr[0]\n\n    for (var j = 1; j < arr.length; j++) {\n      var event = arr[j]\n      var fn = listener(event, callback)\n\n      // listen to the event\n      ee.on(event, fn)\n      // push this listener to the list of cleanups\n      cleanups.push({\n        ee: ee,\n        event: event,\n        fn: fn,\n      })\n    }\n  }\n\n  function callback() {\n    cleanup()\n    done.apply(null, arguments)\n  }\n\n  function cleanup() {\n    var x\n    for (var i = 0; i < cleanups.length; i++) {\n      x = cleanups[i]\n      x.ee.removeListener(x.event, x.fn)\n    }\n  }\n\n  function thunk(fn) {\n    done = fn\n  }\n\n  thunk.cancel = cleanup\n\n  return thunk\n}\n\n/**\n * Create the event listener.\n * @private\n */\n\nfunction listener(event, done) {\n  return function onevent(arg1) {\n    var args = new Array(arguments.length)\n    var ee = this\n    var err = event === 'error'\n      ? arg1\n      : null\n\n    // copy args to prevent arguments escaping scope\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n\n    done(err, ee, event, args)\n  }\n}\n","/*!\n * encodeurl\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = encodeUrl\n\n/**\n * RegExp to match non-URL code points, *after* encoding (i.e. not including \"%\")\n * and including invalid escape sequences.\n * @private\n */\n\nvar ENCODE_CHARS_REGEXP = /(?:[^\\x21\\x25\\x26-\\x3B\\x3D\\x3F-\\x5B\\x5D\\x5F\\x61-\\x7A\\x7E]|%(?:[^0-9A-Fa-f]|[0-9A-Fa-f][^0-9A-Fa-f]|$))+/g\n\n/**\n * RegExp to match unmatched surrogate pair.\n * @private\n */\n\nvar UNMATCHED_SURROGATE_PAIR_REGEXP = /(^|[^\\uD800-\\uDBFF])[\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF]([^\\uDC00-\\uDFFF]|$)/g\n\n/**\n * String to replace unmatched surrogate pair with.\n * @private\n */\n\nvar UNMATCHED_SURROGATE_PAIR_REPLACE = '$1\\uFFFD$2'\n\n/**\n * Encode a URL to a percent-encoded form, excluding already-encoded sequences.\n *\n * This function will take an already-encoded URL and encode all the non-URL\n * code points. This function will not encode the \"%\" character unless it is\n * not part of a valid sequence (`%20` will be left as-is, but `%foo` will\n * be encoded as `%25foo`).\n *\n * This encode is meant to be \"safe\" and does not throw errors. It will try as\n * hard as it can to properly encode the given URL, including replacing any raw,\n * unpaired surrogate pairs with the Unicode replacement character prior to\n * encoding.\n *\n * @param {string} url\n * @return {string}\n * @public\n */\n\nfunction encodeUrl (url) {\n  return String(url)\n    .replace(UNMATCHED_SURROGATE_PAIR_REGEXP, UNMATCHED_SURROGATE_PAIR_REPLACE)\n    .replace(ENCODE_CHARS_REGEXP, encodeURI)\n}\n","var Stream = require('stream');\n\nmodule.exports = function (stream, error) {\n  if (stream instanceof Stream\n    && !~stream.listeners('error').indexOf(error)) {\n    stream.on('error', error);\n  }\n  return stream;\n};\n","/*!\n * escape-html\n * Copyright(c) 2012-2013 TJ Holowaychuk\n * Copyright(c) 2015 Andreas Lubbe\n * Copyright(c) 2015 Tiancheng \"Timothy\" Gu\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module variables.\n * @private\n */\n\nvar matchHtmlRegExp = /[\"'&<>]/;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = escapeHtml;\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {string} string The string to escape for inserting into HTML\n * @return {string}\n * @public\n */\n\nfunction escapeHtml(string) {\n  var str = '' + string;\n  var match = matchHtmlRegExp.exec(str);\n\n  if (!match) {\n    return str;\n  }\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = '&quot;';\n        break;\n      case 38: // &\n        escape = '&amp;';\n        break;\n      case 39: // '\n        escape = '&#39;';\n        break;\n      case 60: // <\n        escape = '&lt;';\n        break;\n      case 62: // >\n        escape = '&gt;';\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index) {\n      html += str.substring(lastIndex, index);\n    }\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index\n    ? html + str.substring(lastIndex, index)\n    : html;\n}\n","/*!\n * fresh\n * Copyright(c) 2012 TJ Holowaychuk\n * Copyright(c) 2016-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * RegExp to check for no-cache token in Cache-Control.\n * @private\n */\n\nvar CACHE_CONTROL_NO_CACHE_REGEXP = /(?:^|,)\\s*?no-cache\\s*?(?:,|$)/\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = fresh\n\n/**\n * Check freshness of the response using request and response headers.\n *\n * @param {Object} reqHeaders\n * @param {Object} resHeaders\n * @return {Boolean}\n * @public\n */\n\nfunction fresh (reqHeaders, resHeaders) {\n  // fields\n  var modifiedSince = reqHeaders['if-modified-since']\n  var noneMatch = reqHeaders['if-none-match']\n\n  // unconditional request\n  if (!modifiedSince && !noneMatch) {\n    return false\n  }\n\n  // Always return stale when Cache-Control: no-cache\n  // to support end-to-end reload requests\n  // https://tools.ietf.org/html/rfc2616#section-14.9.4\n  var cacheControl = reqHeaders['cache-control']\n  if (cacheControl && CACHE_CONTROL_NO_CACHE_REGEXP.test(cacheControl)) {\n    return false\n  }\n\n  // if-none-match\n  if (noneMatch && noneMatch !== '*') {\n    var etag = resHeaders['etag']\n\n    if (!etag) {\n      return false\n    }\n\n    var etagStale = true\n    var matches = parseTokenList(noneMatch)\n    for (var i = 0; i < matches.length; i++) {\n      var match = matches[i]\n      if (match === etag || match === 'W/' + etag || 'W/' + match === etag) {\n        etagStale = false\n        break\n      }\n    }\n\n    if (etagStale) {\n      return false\n    }\n  }\n\n  // if-modified-since\n  if (modifiedSince) {\n    var lastModified = resHeaders['last-modified']\n    var modifiedStale = !lastModified || !(parseHttpDate(lastModified) <= parseHttpDate(modifiedSince))\n\n    if (modifiedStale) {\n      return false\n    }\n  }\n\n  return true\n}\n\n/**\n * Parse an HTTP Date into a number.\n *\n * @param {string} date\n * @private\n */\n\nfunction parseHttpDate (date) {\n  var timestamp = date && Date.parse(date)\n\n  // istanbul ignore next: guard against date.js Date.parse patching\n  return typeof timestamp === 'number'\n    ? timestamp\n    : NaN\n}\n\n/**\n * Parse a HTTP token list.\n *\n * @param {string} str\n * @private\n */\n\nfunction parseTokenList (str) {\n  var end = 0\n  var list = []\n  var start = 0\n\n  // gather tokens\n  for (var i = 0, len = str.length; i < len; i++) {\n    switch (str.charCodeAt(i)) {\n      case 0x20: /*   */\n        if (start === end) {\n          start = end = i + 1\n        }\n        break\n      case 0x2c: /* , */\n        list.push(str.substring(start, end))\n        start = end = i + 1\n        break\n      default:\n        end = i + 1\n        break\n    }\n  }\n\n  // final token\n  list.push(str.substring(start, end))\n\n  return list\n}\n","'use strict'\n\nmodule.exports = clone\n\nvar getPrototypeOf = Object.getPrototypeOf || function (obj) {\n  return obj.__proto__\n}\n\nfunction clone (obj) {\n  if (obj === null || typeof obj !== 'object')\n    return obj\n\n  if (obj instanceof Object)\n    var copy = { __proto__: getPrototypeOf(obj) }\n  else\n    var copy = Object.create(null)\n\n  Object.getOwnPropertyNames(obj).forEach(function (key) {\n    Object.defineProperty(copy, key, Object.getOwnPropertyDescriptor(obj, key))\n  })\n\n  return copy\n}\n","var fs = require('fs')\nvar polyfills = require('./polyfills.js')\nvar legacy = require('./legacy-streams.js')\nvar clone = require('./clone.js')\n\nvar util = require('util')\n\n/* istanbul ignore next - node 0.x polyfill */\nvar gracefulQueue\nvar previousSymbol\n\n/* istanbul ignore else - node 0.x polyfill */\nif (typeof Symbol === 'function' && typeof Symbol.for === 'function') {\n  gracefulQueue = Symbol.for('graceful-fs.queue')\n  // This is used in testing by future versions\n  previousSymbol = Symbol.for('graceful-fs.previous')\n} else {\n  gracefulQueue = '___graceful-fs.queue'\n  previousSymbol = '___graceful-fs.previous'\n}\n\nfunction noop () {}\n\nfunction publishQueue(context, queue) {\n  Object.defineProperty(context, gracefulQueue, {\n    get: function() {\n      return queue\n    }\n  })\n}\n\nvar debug = noop\nif (util.debuglog)\n  debug = util.debuglog('gfs4')\nelse if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || ''))\n  debug = function() {\n    var m = util.format.apply(util, arguments)\n    m = 'GFS4: ' + m.split(/\\n/).join('\\nGFS4: ')\n    console.error(m)\n  }\n\n// Once time initialization\nif (!fs[gracefulQueue]) {\n  // This queue can be shared by multiple loaded instances\n  var queue = global[gracefulQueue] || []\n  publishQueue(fs, queue)\n\n  // Patch fs.close/closeSync to shared queue version, because we need\n  // to retry() whenever a close happens *anywhere* in the program.\n  // This is essential when multiple graceful-fs instances are\n  // in play at the same time.\n  fs.close = (function (fs$close) {\n    function close (fd, cb) {\n      return fs$close.call(fs, fd, function (err) {\n        // This function uses the graceful-fs shared queue\n        if (!err) {\n          retry()\n        }\n\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n      })\n    }\n\n    Object.defineProperty(close, previousSymbol, {\n      value: fs$close\n    })\n    return close\n  })(fs.close)\n\n  fs.closeSync = (function (fs$closeSync) {\n    function closeSync (fd) {\n      // This function uses the graceful-fs shared queue\n      fs$closeSync.apply(fs, arguments)\n      retry()\n    }\n\n    Object.defineProperty(closeSync, previousSymbol, {\n      value: fs$closeSync\n    })\n    return closeSync\n  })(fs.closeSync)\n\n  if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || '')) {\n    process.on('exit', function() {\n      debug(fs[gracefulQueue])\n      require('assert').equal(fs[gracefulQueue].length, 0)\n    })\n  }\n}\n\nif (!global[gracefulQueue]) {\n  publishQueue(global, fs[gracefulQueue]);\n}\n\nmodule.exports = patch(clone(fs))\nif (process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH && !fs.__patched) {\n    module.exports = patch(fs)\n    fs.__patched = true;\n}\n\nfunction patch (fs) {\n  // Everything that references the open() function needs to be in here\n  polyfills(fs)\n  fs.gracefulify = patch\n\n  fs.createReadStream = createReadStream\n  fs.createWriteStream = createWriteStream\n  var fs$readFile = fs.readFile\n  fs.readFile = readFile\n  function readFile (path, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$readFile(path, options, cb)\n\n    function go$readFile (path, options, cb) {\n      return fs$readFile(path, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$readFile, [path, options, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  var fs$writeFile = fs.writeFile\n  fs.writeFile = writeFile\n  function writeFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$writeFile(path, data, options, cb)\n\n    function go$writeFile (path, data, options, cb) {\n      return fs$writeFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$writeFile, [path, data, options, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  var fs$appendFile = fs.appendFile\n  if (fs$appendFile)\n    fs.appendFile = appendFile\n  function appendFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$appendFile(path, data, options, cb)\n\n    function go$appendFile (path, data, options, cb) {\n      return fs$appendFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$appendFile, [path, data, options, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  var fs$copyFile = fs.copyFile\n  if (fs$copyFile)\n    fs.copyFile = copyFile\n  function copyFile (src, dest, flags, cb) {\n    if (typeof flags === 'function') {\n      cb = flags\n      flags = 0\n    }\n    return fs$copyFile(src, dest, flags, function (err) {\n      if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n        enqueue([fs$copyFile, [src, dest, flags, cb]])\n      else {\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n        retry()\n      }\n    })\n  }\n\n  var fs$readdir = fs.readdir\n  fs.readdir = readdir\n  function readdir (path, options, cb) {\n    var args = [path]\n    if (typeof options !== 'function') {\n      args.push(options)\n    } else {\n      cb = options\n    }\n    args.push(go$readdir$cb)\n\n    return go$readdir(args)\n\n    function go$readdir$cb (err, files) {\n      if (files && files.sort)\n        files.sort()\n\n      if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n        enqueue([go$readdir, [args]])\n\n      else {\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n        retry()\n      }\n    }\n  }\n\n  function go$readdir (args) {\n    return fs$readdir.apply(fs, args)\n  }\n\n  if (process.version.substr(0, 4) === 'v0.8') {\n    var legStreams = legacy(fs)\n    ReadStream = legStreams.ReadStream\n    WriteStream = legStreams.WriteStream\n  }\n\n  var fs$ReadStream = fs.ReadStream\n  if (fs$ReadStream) {\n    ReadStream.prototype = Object.create(fs$ReadStream.prototype)\n    ReadStream.prototype.open = ReadStream$open\n  }\n\n  var fs$WriteStream = fs.WriteStream\n  if (fs$WriteStream) {\n    WriteStream.prototype = Object.create(fs$WriteStream.prototype)\n    WriteStream.prototype.open = WriteStream$open\n  }\n\n  Object.defineProperty(fs, 'ReadStream', {\n    get: function () {\n      return ReadStream\n    },\n    set: function (val) {\n      ReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  Object.defineProperty(fs, 'WriteStream', {\n    get: function () {\n      return WriteStream\n    },\n    set: function (val) {\n      WriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  // legacy names\n  var FileReadStream = ReadStream\n  Object.defineProperty(fs, 'FileReadStream', {\n    get: function () {\n      return FileReadStream\n    },\n    set: function (val) {\n      FileReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  var FileWriteStream = WriteStream\n  Object.defineProperty(fs, 'FileWriteStream', {\n    get: function () {\n      return FileWriteStream\n    },\n    set: function (val) {\n      FileWriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  function ReadStream (path, options) {\n    if (this instanceof ReadStream)\n      return fs$ReadStream.apply(this, arguments), this\n    else\n      return ReadStream.apply(Object.create(ReadStream.prototype), arguments)\n  }\n\n  function ReadStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        if (that.autoClose)\n          that.destroy()\n\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n        that.read()\n      }\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (this instanceof WriteStream)\n      return fs$WriteStream.apply(this, arguments), this\n    else\n      return WriteStream.apply(Object.create(WriteStream.prototype), arguments)\n  }\n\n  function WriteStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        that.destroy()\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n      }\n    })\n  }\n\n  function createReadStream (path, options) {\n    return new fs.ReadStream(path, options)\n  }\n\n  function createWriteStream (path, options) {\n    return new fs.WriteStream(path, options)\n  }\n\n  var fs$open = fs.open\n  fs.open = open\n  function open (path, flags, mode, cb) {\n    if (typeof mode === 'function')\n      cb = mode, mode = null\n\n    return go$open(path, flags, mode, cb)\n\n    function go$open (path, flags, mode, cb) {\n      return fs$open(path, flags, mode, function (err, fd) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$open, [path, flags, mode, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  return fs\n}\n\nfunction enqueue (elem) {\n  debug('ENQUEUE', elem[0].name, elem[1])\n  fs[gracefulQueue].push(elem)\n}\n\nfunction retry () {\n  var elem = fs[gracefulQueue].shift()\n  if (elem) {\n    debug('RETRY', elem[0].name, elem[1])\n    elem[0].apply(null, elem[1])\n  }\n}\n","var Stream = require('stream').Stream\n\nmodule.exports = legacy\n\nfunction legacy (fs) {\n  return {\n    ReadStream: ReadStream,\n    WriteStream: WriteStream\n  }\n\n  function ReadStream (path, options) {\n    if (!(this instanceof ReadStream)) return new ReadStream(path, options);\n\n    Stream.call(this);\n\n    var self = this;\n\n    this.path = path;\n    this.fd = null;\n    this.readable = true;\n    this.paused = false;\n\n    this.flags = 'r';\n    this.mode = 438; /*=0666*/\n    this.bufferSize = 64 * 1024;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.encoding) this.setEncoding(this.encoding);\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.end === undefined) {\n        this.end = Infinity;\n      } else if ('number' !== typeof this.end) {\n        throw TypeError('end must be a Number');\n      }\n\n      if (this.start > this.end) {\n        throw new Error('start must be <= end');\n      }\n\n      this.pos = this.start;\n    }\n\n    if (this.fd !== null) {\n      process.nextTick(function() {\n        self._read();\n      });\n      return;\n    }\n\n    fs.open(this.path, this.flags, this.mode, function (err, fd) {\n      if (err) {\n        self.emit('error', err);\n        self.readable = false;\n        return;\n      }\n\n      self.fd = fd;\n      self.emit('open', fd);\n      self._read();\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (!(this instanceof WriteStream)) return new WriteStream(path, options);\n\n    Stream.call(this);\n\n    this.path = path;\n    this.fd = null;\n    this.writable = true;\n\n    this.flags = 'w';\n    this.encoding = 'binary';\n    this.mode = 438; /*=0666*/\n    this.bytesWritten = 0;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.start < 0) {\n        throw new Error('start must be >= zero');\n      }\n\n      this.pos = this.start;\n    }\n\n    this.busy = false;\n    this._queue = [];\n\n    if (this.fd === null) {\n      this._open = fs.open;\n      this._queue.push([this._open, this.path, this.flags, this.mode, undefined]);\n      this.flush();\n    }\n  }\n}\n","var constants = require('constants')\n\nvar origCwd = process.cwd\nvar cwd = null\n\nvar platform = process.env.GRACEFUL_FS_PLATFORM || process.platform\n\nprocess.cwd = function() {\n  if (!cwd)\n    cwd = origCwd.call(process)\n  return cwd\n}\ntry {\n  process.cwd()\n} catch (er) {}\n\n// This check is needed until node.js 12 is required\nif (typeof process.chdir === 'function') {\n  var chdir = process.chdir\n  process.chdir = function (d) {\n    cwd = null\n    chdir.call(process, d)\n  }\n  if (Object.setPrototypeOf) Object.setPrototypeOf(process.chdir, chdir)\n}\n\nmodule.exports = patch\n\nfunction patch (fs) {\n  // (re-)implement some things that are known busted or missing.\n\n  // lchmod, broken prior to 0.6.2\n  // back-port the fix here.\n  if (constants.hasOwnProperty('O_SYMLINK') &&\n      process.version.match(/^v0\\.6\\.[0-2]|^v0\\.5\\./)) {\n    patchLchmod(fs)\n  }\n\n  // lutimes implementation, or no-op\n  if (!fs.lutimes) {\n    patchLutimes(fs)\n  }\n\n  // https://github.com/isaacs/node-graceful-fs/issues/4\n  // Chown should not fail on einval or eperm if non-root.\n  // It should not fail on enosys ever, as this just indicates\n  // that a fs doesn't support the intended operation.\n\n  fs.chown = chownFix(fs.chown)\n  fs.fchown = chownFix(fs.fchown)\n  fs.lchown = chownFix(fs.lchown)\n\n  fs.chmod = chmodFix(fs.chmod)\n  fs.fchmod = chmodFix(fs.fchmod)\n  fs.lchmod = chmodFix(fs.lchmod)\n\n  fs.chownSync = chownFixSync(fs.chownSync)\n  fs.fchownSync = chownFixSync(fs.fchownSync)\n  fs.lchownSync = chownFixSync(fs.lchownSync)\n\n  fs.chmodSync = chmodFixSync(fs.chmodSync)\n  fs.fchmodSync = chmodFixSync(fs.fchmodSync)\n  fs.lchmodSync = chmodFixSync(fs.lchmodSync)\n\n  fs.stat = statFix(fs.stat)\n  fs.fstat = statFix(fs.fstat)\n  fs.lstat = statFix(fs.lstat)\n\n  fs.statSync = statFixSync(fs.statSync)\n  fs.fstatSync = statFixSync(fs.fstatSync)\n  fs.lstatSync = statFixSync(fs.lstatSync)\n\n  // if lchmod/lchown do not exist, then make them no-ops\n  if (!fs.lchmod) {\n    fs.lchmod = function (path, mode, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchmodSync = function () {}\n  }\n  if (!fs.lchown) {\n    fs.lchown = function (path, uid, gid, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchownSync = function () {}\n  }\n\n  // on Windows, A/V software can lock the directory, causing this\n  // to fail with an EACCES or EPERM if the directory contains newly\n  // created files.  Try again on failure, for up to 60 seconds.\n\n  // Set the timeout this long because some Windows Anti-Virus, such as Parity\n  // bit9, may lock files for up to a minute, causing npm package install\n  // failures. Also, take care to yield the scheduler. Windows scheduling gives\n  // CPU to a busy looping process, which can cause the program causing the lock\n  // contention to be starved of CPU by node, so the contention doesn't resolve.\n  if (platform === \"win32\") {\n    fs.rename = (function (fs$rename) { return function (from, to, cb) {\n      var start = Date.now()\n      var backoff = 0;\n      fs$rename(from, to, function CB (er) {\n        if (er\n            && (er.code === \"EACCES\" || er.code === \"EPERM\")\n            && Date.now() - start < 60000) {\n          setTimeout(function() {\n            fs.stat(to, function (stater, st) {\n              if (stater && stater.code === \"ENOENT\")\n                fs$rename(from, to, CB);\n              else\n                cb(er)\n            })\n          }, backoff)\n          if (backoff < 100)\n            backoff += 10;\n          return;\n        }\n        if (cb) cb(er)\n      })\n    }})(fs.rename)\n  }\n\n  // if read() returns EAGAIN, then just try it again.\n  fs.read = (function (fs$read) {\n    function read (fd, buffer, offset, length, position, callback_) {\n      var callback\n      if (callback_ && typeof callback_ === 'function') {\n        var eagCounter = 0\n        callback = function (er, _, __) {\n          if (er && er.code === 'EAGAIN' && eagCounter < 10) {\n            eagCounter ++\n            return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n          }\n          callback_.apply(this, arguments)\n        }\n      }\n      return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n    }\n\n    // This ensures `util.promisify` works as it does for native `fs.read`.\n    if (Object.setPrototypeOf) Object.setPrototypeOf(read, fs$read)\n    return read\n  })(fs.read)\n\n  fs.readSync = (function (fs$readSync) { return function (fd, buffer, offset, length, position) {\n    var eagCounter = 0\n    while (true) {\n      try {\n        return fs$readSync.call(fs, fd, buffer, offset, length, position)\n      } catch (er) {\n        if (er.code === 'EAGAIN' && eagCounter < 10) {\n          eagCounter ++\n          continue\n        }\n        throw er\n      }\n    }\n  }})(fs.readSync)\n\n  function patchLchmod (fs) {\n    fs.lchmod = function (path, mode, callback) {\n      fs.open( path\n             , constants.O_WRONLY | constants.O_SYMLINK\n             , mode\n             , function (err, fd) {\n        if (err) {\n          if (callback) callback(err)\n          return\n        }\n        // prefer to return the chmod error, if one occurs,\n        // but still try to close, and report closing errors if they occur.\n        fs.fchmod(fd, mode, function (err) {\n          fs.close(fd, function(err2) {\n            if (callback) callback(err || err2)\n          })\n        })\n      })\n    }\n\n    fs.lchmodSync = function (path, mode) {\n      var fd = fs.openSync(path, constants.O_WRONLY | constants.O_SYMLINK, mode)\n\n      // prefer to return the chmod error, if one occurs,\n      // but still try to close, and report closing errors if they occur.\n      var threw = true\n      var ret\n      try {\n        ret = fs.fchmodSync(fd, mode)\n        threw = false\n      } finally {\n        if (threw) {\n          try {\n            fs.closeSync(fd)\n          } catch (er) {}\n        } else {\n          fs.closeSync(fd)\n        }\n      }\n      return ret\n    }\n  }\n\n  function patchLutimes (fs) {\n    if (constants.hasOwnProperty(\"O_SYMLINK\")) {\n      fs.lutimes = function (path, at, mt, cb) {\n        fs.open(path, constants.O_SYMLINK, function (er, fd) {\n          if (er) {\n            if (cb) cb(er)\n            return\n          }\n          fs.futimes(fd, at, mt, function (er) {\n            fs.close(fd, function (er2) {\n              if (cb) cb(er || er2)\n            })\n          })\n        })\n      }\n\n      fs.lutimesSync = function (path, at, mt) {\n        var fd = fs.openSync(path, constants.O_SYMLINK)\n        var ret\n        var threw = true\n        try {\n          ret = fs.futimesSync(fd, at, mt)\n          threw = false\n        } finally {\n          if (threw) {\n            try {\n              fs.closeSync(fd)\n            } catch (er) {}\n          } else {\n            fs.closeSync(fd)\n          }\n        }\n        return ret\n      }\n\n    } else {\n      fs.lutimes = function (_a, _b, _c, cb) { if (cb) process.nextTick(cb) }\n      fs.lutimesSync = function () {}\n    }\n  }\n\n  function chmodFix (orig) {\n    if (!orig) return orig\n    return function (target, mode, cb) {\n      return orig.call(fs, target, mode, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chmodFixSync (orig) {\n    if (!orig) return orig\n    return function (target, mode) {\n      try {\n        return orig.call(fs, target, mode)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n\n  function chownFix (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid, cb) {\n      return orig.call(fs, target, uid, gid, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chownFixSync (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid) {\n      try {\n        return orig.call(fs, target, uid, gid)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n  function statFix (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options, cb) {\n      if (typeof options === 'function') {\n        cb = options\n        options = null\n      }\n      function callback (er, stats) {\n        if (stats) {\n          if (stats.uid < 0) stats.uid += 0x100000000\n          if (stats.gid < 0) stats.gid += 0x100000000\n        }\n        if (cb) cb.apply(this, arguments)\n      }\n      return options ? orig.call(fs, target, options, callback)\n        : orig.call(fs, target, callback)\n    }\n  }\n\n  function statFixSync (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options) {\n      var stats = options ? orig.call(fs, target, options)\n        : orig.call(fs, target)\n      if (stats.uid < 0) stats.uid += 0x100000000\n      if (stats.gid < 0) stats.gid += 0x100000000\n      return stats;\n    }\n  }\n\n  // ENOSYS means that the fs doesn't support the op. Just ignore\n  // that, because it doesn't matter.\n  //\n  // if there's no getuid, or if getuid() is something other\n  // than 0, and the error is EINVAL or EPERM, then just ignore\n  // it.\n  //\n  // This specific case is a silent failure in cp, install, tar,\n  // and most other unix tools that manage permissions.\n  //\n  // When running as root, or if other types of errors are\n  // encountered, then it's strict.\n  function chownErOk (er) {\n    if (!er)\n      return true\n\n    if (er.code === \"ENOSYS\")\n      return true\n\n    var nonroot = !process.getuid || process.getuid() !== 0\n    if (nonroot) {\n      if (er.code === \"EINVAL\" || er.code === \"EPERM\")\n        return true\n    }\n\n    return false\n  }\n}\n","'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n","var createError = require('http-errors')\nvar eql = require('deep-equal')\n\nmodule.exports = assert\n\nfunction assert (value, status, msg, opts) {\n  if (value) return\n  throw createError(status, msg, opts)\n}\n\nassert.equal = function (a, b, status, msg, opts) {\n  assert(a == b, status, msg, opts) // eslint-disable-line eqeqeq\n}\n\nassert.notEqual = function (a, b, status, msg, opts) {\n  assert(a != b, status, msg, opts) // eslint-disable-line eqeqeq\n}\n\nassert.ok = function (value, status, msg, opts) {\n  assert(value, status, msg, opts)\n}\n\nassert.strictEqual = function (a, b, status, msg, opts) {\n  assert(a === b, status, msg, opts)\n}\n\nassert.notStrictEqual = function (a, b, status, msg, opts) {\n  assert(a !== b, status, msg, opts)\n}\n\nassert.deepEqual = function (a, b, status, msg, opts) {\n  assert(eql(a, b), status, msg, opts)\n}\n\nassert.notDeepEqual = function (a, b, status, msg, opts) {\n  assert(!eql(a, b), status, msg, opts)\n}\n","/*!\n * http-errors\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar deprecate = require('depd')('http-errors')\nvar setPrototypeOf = require('setprototypeof')\nvar statuses = require('statuses')\nvar inherits = require('inherits')\nvar toIdentifier = require('toidentifier')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = createError\nmodule.exports.HttpError = createHttpErrorConstructor()\n\n// Populate exports for all constructors\npopulateConstructorExports(module.exports, statuses.codes, module.exports.HttpError)\n\n/**\n * Get the code class of a status code.\n * @private\n */\n\nfunction codeClass (status) {\n  return Number(String(status).charAt(0) + '00')\n}\n\n/**\n * Create a new HTTP Error.\n *\n * @returns {Error}\n * @public\n */\n\nfunction createError () {\n  // so much arity going on ~_~\n  var err\n  var msg\n  var status = 500\n  var props = {}\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = arguments[i]\n    if (arg instanceof Error) {\n      err = arg\n      status = err.status || err.statusCode || status\n      continue\n    }\n    switch (typeof arg) {\n      case 'string':\n        msg = arg\n        break\n      case 'number':\n        status = arg\n        if (i !== 0) {\n          deprecate('non-first-argument status code; replace with createError(' + arg + ', ...)')\n        }\n        break\n      case 'object':\n        props = arg\n        break\n    }\n  }\n\n  if (typeof status === 'number' && (status < 400 || status >= 600)) {\n    deprecate('non-error status code; use only 4xx or 5xx status codes')\n  }\n\n  if (typeof status !== 'number' ||\n    (!statuses[status] && (status < 400 || status >= 600))) {\n    status = 500\n  }\n\n  // constructor\n  var HttpError = createError[status] || createError[codeClass(status)]\n\n  if (!err) {\n    // create error\n    err = HttpError\n      ? new HttpError(msg)\n      : new Error(msg || statuses[status])\n    Error.captureStackTrace(err, createError)\n  }\n\n  if (!HttpError || !(err instanceof HttpError) || err.status !== status) {\n    // add properties to generic error\n    err.expose = status < 500\n    err.status = err.statusCode = status\n  }\n\n  for (var key in props) {\n    if (key !== 'status' && key !== 'statusCode') {\n      err[key] = props[key]\n    }\n  }\n\n  return err\n}\n\n/**\n * Create HTTP error abstract base class.\n * @private\n */\n\nfunction createHttpErrorConstructor () {\n  function HttpError () {\n    throw new TypeError('cannot construct abstract class')\n  }\n\n  inherits(HttpError, Error)\n\n  return HttpError\n}\n\n/**\n * Create a constructor for a client error.\n * @private\n */\n\nfunction createClientErrorConstructor (HttpError, name, code) {\n  var className = name.match(/Error$/) ? name : name + 'Error'\n\n  function ClientError (message) {\n    // create the error object\n    var msg = message != null ? message : statuses[code]\n    var err = new Error(msg)\n\n    // capture a stack trace to the construction point\n    Error.captureStackTrace(err, ClientError)\n\n    // adjust the [[Prototype]]\n    setPrototypeOf(err, ClientError.prototype)\n\n    // redefine the error message\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    })\n\n    // redefine the error name\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    return err\n  }\n\n  inherits(ClientError, HttpError)\n  nameFunc(ClientError, className)\n\n  ClientError.prototype.status = code\n  ClientError.prototype.statusCode = code\n  ClientError.prototype.expose = true\n\n  return ClientError\n}\n\n/**\n * Create a constructor for a server error.\n * @private\n */\n\nfunction createServerErrorConstructor (HttpError, name, code) {\n  var className = name.match(/Error$/) ? name : name + 'Error'\n\n  function ServerError (message) {\n    // create the error object\n    var msg = message != null ? message : statuses[code]\n    var err = new Error(msg)\n\n    // capture a stack trace to the construction point\n    Error.captureStackTrace(err, ServerError)\n\n    // adjust the [[Prototype]]\n    setPrototypeOf(err, ServerError.prototype)\n\n    // redefine the error message\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    })\n\n    // redefine the error name\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    return err\n  }\n\n  inherits(ServerError, HttpError)\n  nameFunc(ServerError, className)\n\n  ServerError.prototype.status = code\n  ServerError.prototype.statusCode = code\n  ServerError.prototype.expose = false\n\n  return ServerError\n}\n\n/**\n * Set the name of a function, if possible.\n * @private\n */\n\nfunction nameFunc (func, name) {\n  var desc = Object.getOwnPropertyDescriptor(func, 'name')\n\n  if (desc && desc.configurable) {\n    desc.value = name\n    Object.defineProperty(func, 'name', desc)\n  }\n}\n\n/**\n * Populate the exports object with constructors for every error class.\n * @private\n */\n\nfunction populateConstructorExports (exports, codes, HttpError) {\n  codes.forEach(function forEachCode (code) {\n    var CodeError\n    var name = toIdentifier(statuses[code])\n\n    switch (codeClass(code)) {\n      case 400:\n        CodeError = createClientErrorConstructor(HttpError, name, code)\n        break\n      case 500:\n        CodeError = createServerErrorConstructor(HttpError, name, code)\n        break\n    }\n\n    if (CodeError) {\n      // export the constructor\n      exports[code] = CodeError\n      exports[name] = CodeError\n    }\n  })\n\n  // backwards-compatibility\n  exports[\"I'mateapot\"] = deprecate.function(exports.ImATeapot,\n    '\"I\\'mateapot\"; use \"ImATeapot\" instead')\n}\n","try {\n  var util = require('util');\n  /* istanbul ignore next */\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  /* istanbul ignore next */\n  module.exports = require('./inherits_browser.js');\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","'use strict';\n\nvar toStr = Object.prototype.toString;\nvar fnToStr = Function.prototype.toString;\nvar isFnRegex = /^\\s*(?:function)?\\*/;\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\nvar getProto = Object.getPrototypeOf;\nvar getGeneratorFunc = function () { // eslint-disable-line consistent-return\n\tif (!hasToStringTag) {\n\t\treturn false;\n\t}\n\ttry {\n\t\treturn Function('return function*() {}')();\n\t} catch (e) {\n\t}\n};\nvar generatorFunc = getGeneratorFunc();\nvar GeneratorFunction = generatorFunc ? getProto(generatorFunc) : {};\n\nmodule.exports = function isGeneratorFunction(fn) {\n\tif (typeof fn !== 'function') {\n\t\treturn false;\n\t}\n\tif (isFnRegex.test(fnToStr.call(fn))) {\n\t\treturn true;\n\t}\n\tif (!hasToStringTag) {\n\t\tvar str = toStr.call(fn);\n\t\treturn str === '[object GeneratorFunction]';\n\t}\n\treturn getProto(fn) === GeneratorFunction;\n};\n","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","/*!\n * keygrip\n * Copyright(c) 2011-2014 Jed Schmidt\n * MIT Licensed\n */\n\n'use strict'\n\nvar compare = require('tsscmp')\nvar crypto = require(\"crypto\")\n  \nfunction Keygrip(keys, algorithm, encoding) {\n  if (!algorithm) algorithm = \"sha1\";\n  if (!encoding) encoding = \"base64\";\n  if (!(this instanceof Keygrip)) return new Keygrip(keys, algorithm, encoding)\n\n  if (!keys || !(0 in keys)) {\n    throw new Error(\"Keys must be provided.\")\n  }\n\n  function sign(data, key) {\n    return crypto\n      .createHmac(algorithm, key)\n      .update(data).digest(encoding)\n      .replace(/\\/|\\+|=/g, function(x) {\n        return ({ \"/\": \"_\", \"+\": \"-\", \"=\": \"\" })[x]\n      })\n  }\n\n  this.sign = function(data){ return sign(data, keys[0]) }\n\n  this.verify = function(data, digest) {\n    return this.index(data, digest) > -1\n  }\n\n  this.index = function(data, digest) {\n    for (var i = 0, l = keys.length; i < l; i++) {\n      if (compare(digest, sign(data, keys[i]))) {\n        return i\n      }\n    }\n\n    return -1\n  }\n}\n\nKeygrip.sign = Keygrip.verify = Keygrip.index = function() {\n  throw new Error(\"Usage: require('keygrip')(<array-of-keys>)\")\n}\n\nmodule.exports = Keygrip\n","'use strict'\n\n/**\n * Expose compositor.\n */\n\nmodule.exports = compose\n\n/**\n * Compose `middleware` returning\n * a fully valid middleware comprised\n * of all those which are passed.\n *\n * @param {Array} middleware\n * @return {Function}\n * @api public\n */\n\nfunction compose (middleware) {\n  if (!Array.isArray(middleware)) throw new TypeError('Middleware stack must be an array!')\n  for (const fn of middleware) {\n    if (typeof fn !== 'function') throw new TypeError('Middleware must be composed of functions!')\n  }\n\n  /**\n   * @param {Object} context\n   * @return {Promise}\n   * @api public\n   */\n\n  return function (context, next) {\n    // last called middleware #\n    let index = -1\n    return dispatch(0)\n    function dispatch (i) {\n      if (i <= index) return Promise.reject(new Error('next() called multiple times'))\n      index = i\n      let fn = middleware[i]\n      if (i === middleware.length) fn = next\n      if (!fn) return Promise.resolve()\n      try {\n        return Promise.resolve(fn(context, dispatch.bind(null, i + 1)));\n      } catch (err) {\n        return Promise.reject(err)\n      }\n    }\n  }\n}\n","'use strict'\n\nconst co = require('co')\nconst compose = require('koa-compose')\n\nmodule.exports = convert\n\nfunction convert (mw) {\n  if (typeof mw !== 'function') {\n    throw new TypeError('middleware must be a function')\n  }\n  if (mw.constructor.name !== 'GeneratorFunction') {\n    // assume it's Promise-based middleware\n    return mw\n  }\n  const converted = function (ctx, next) {\n    return co.call(ctx, mw.call(ctx, createGenerator(next)))\n  }\n  converted._name = mw._name || mw.name\n  return converted\n}\n\nfunction * createGenerator (next) {\n  return yield next()\n}\n\n// convert.compose(mw, mw, mw)\n// convert.compose([mw, mw, mw])\nconvert.compose = function (arr) {\n  if (!Array.isArray(arr)) {\n    arr = Array.from(arguments)\n  }\n  return compose(arr.map(convert))\n}\n\nconvert.back = function (mw) {\n  if (typeof mw !== 'function') {\n    throw new TypeError('middleware must be a function')\n  }\n  if (mw.constructor.name === 'GeneratorFunction') {\n    // assume it's generator middleware\n    return mw\n  }\n  const converted = function * (next) {\n    let ctx = this\n    let called = false\n    // no need try...catch here, it's ok even `mw()` throw exception\n    yield Promise.resolve(mw(ctx, function () {\n      if (called) {\n        // guard against multiple next() calls\n        // https://github.com/koajs/compose/blob/4e3e96baf58b817d71bd44a8c0d78bb42623aa95/index.js#L36\n        return Promise.reject(new Error('next() called multiple times'))\n      }\n      called = true\n      return co.call(ctx, next)\n    }))\n  }\n  converted._name = mw._name || mw.name\n  return converted\n}\n","'use strict'\n\nconst Promise = require('any-promise')\n\n/**\n * Expose compositor.\n */\n\nmodule.exports = compose\n\n/**\n * Compose `middleware` returning\n * a fully valid middleware comprised\n * of all those which are passed.\n *\n * @param {Array} middleware\n * @return {Function}\n * @api public\n */\n\nfunction compose (middleware) {\n  if (!Array.isArray(middleware)) throw new TypeError('Middleware stack must be an array!')\n  for (const fn of middleware) {\n    if (typeof fn !== 'function') throw new TypeError('Middleware must be composed of functions!')\n  }\n\n  /**\n   * @param {Object} context\n   * @return {Promise}\n   * @api public\n   */\n\n  return function (context, next) {\n    // last called middleware #\n    let index = -1\n    return dispatch(0)\n    function dispatch (i) {\n      if (i <= index) return Promise.reject(new Error('next() called multiple times'))\n      index = i\n      let fn = middleware[i]\n      if (i === middleware.length) fn = next\n      if (!fn) return Promise.resolve()\n      try {\n        return Promise.resolve(fn(context, function next () {\n          return dispatch(i + 1)\n        }))\n      } catch (err) {\n        return Promise.reject(err)\n      }\n    }\n  }\n}\n","var debug = require('debug')('koa-router');\nvar pathToRegExp = require('path-to-regexp');\nvar uri = require('urijs');\n\nmodule.exports = Layer;\n\n/**\n * Initialize a new routing Layer with given `method`, `path`, and `middleware`.\n *\n * @param {String|RegExp} path Path string or regular expression.\n * @param {Array} methods Array of HTTP verbs.\n * @param {Array} middleware Layer callback/middleware or series of.\n * @param {Object=} opts\n * @param {String=} opts.name route name\n * @param {String=} opts.sensitive case sensitive (default: false)\n * @param {String=} opts.strict require the trailing slash (default: false)\n * @returns {Layer}\n * @private\n */\n\nfunction Layer(path, methods, middleware, opts) {\n  this.opts = opts || {};\n  this.name = this.opts.name || null;\n  this.methods = [];\n  this.paramNames = [];\n  this.stack = Array.isArray(middleware) ? middleware : [middleware];\n\n  for(var i = 0; i < methods.length; i++) {\n    var l = this.methods.push(methods[i].toUpperCase());\n    if (this.methods[l-1] === 'GET') {\n       this.methods.unshift('HEAD');\n    }\n  }\n\n  // ensure middleware is a function\n  for (var i = 0; i < this.stack.length; i++) {\n    var fn = this.stack[i];\n    var type = (typeof fn);\n    if (type !== 'function') {\n      throw new Error(\n        methods.toString() + \" `\" + (this.opts.name || path) +\"`: `middleware` \"\n        + \"must be a function, not `\" + type + \"`\"\n      );\n    }\n  }\n\n  this.path = path;\n  this.regexp = pathToRegExp(path, this.paramNames, this.opts);\n\n  debug('defined route %s %s', this.methods, this.opts.prefix + this.path);\n};\n\n/**\n * Returns whether request `path` matches route.\n *\n * @param {String} path\n * @returns {Boolean}\n * @private\n */\n\nLayer.prototype.match = function (path) {\n  return this.regexp.test(path);\n};\n\n/**\n * Returns map of URL parameters for given `path` and `paramNames`.\n *\n * @param {String} path\n * @param {Array.<String>} captures\n * @param {Object=} existingParams\n * @returns {Object}\n * @private\n */\n\nLayer.prototype.params = function (path, captures, existingParams) {\n  var params = existingParams || {};\n\n  for (var len = captures.length, i=0; i<len; i++) {\n    if (this.paramNames[i]) {\n      var c = captures[i];\n      params[this.paramNames[i].name] = c ? safeDecodeURIComponent(c) : c;\n    }\n  }\n\n  return params;\n};\n\n/**\n * Returns array of regexp url path captures.\n *\n * @param {String} path\n * @returns {Array.<String>}\n * @private\n */\n\nLayer.prototype.captures = function (path) {\n  if (this.opts.ignoreCaptures) return [];\n  return path.match(this.regexp).slice(1);\n};\n\n/**\n * Generate URL for route using given `params`.\n *\n * @example\n *\n * ```javascript\n * const route = new Layer('/users/:id', ['GET'], fn);\n *\n * route.url({ id: 123 }); // => \"/users/123\"\n * ```\n *\n * @param {Object} params url parameters\n * @returns {String}\n * @private\n */\n\nLayer.prototype.url = function (params, options) {\n  var args = params;\n  var url = this.path.replace(/\\(\\.\\*\\)/g, '');\n  var toPath = pathToRegExp.compile(url);\n  var replaced;\n\n  if (typeof params != 'object') {\n    args = Array.prototype.slice.call(arguments);\n    if (typeof args[args.length - 1] == 'object') {\n      options = args[args.length - 1];\n      args = args.slice(0, args.length - 1);\n    }\n  }\n\n  var tokens = pathToRegExp.parse(url);\n  var replace = {};\n\n  if (args instanceof Array) {\n    for (var len = tokens.length, i=0, j=0; i<len; i++) {\n      if (tokens[i].name) replace[tokens[i].name] = args[j++];\n    }\n  } else if (tokens.some(token => token.name)) {\n    replace = params;\n  } else {\n    options = params;\n  }\n\n  replaced = toPath(replace);\n\n  if (options && options.query) {\n    var replaced = new uri(replaced)\n    replaced.search(options.query);\n    return replaced.toString();\n  }\n\n  return replaced;\n};\n\n/**\n * Run validations on route named parameters.\n *\n * @example\n *\n * ```javascript\n * router\n *   .param('user', function (id, ctx, next) {\n *     ctx.user = users[id];\n *     if (!user) return ctx.status = 404;\n *     next();\n *   })\n *   .get('/users/:user', function (ctx, next) {\n *     ctx.body = ctx.user;\n *   });\n * ```\n *\n * @param {String} param\n * @param {Function} middleware\n * @returns {Layer}\n * @private\n */\n\nLayer.prototype.param = function (param, fn) {\n  var stack = this.stack;\n  var params = this.paramNames;\n  var middleware = function (ctx, next) {\n    return fn.call(this, ctx.params[param], ctx, next);\n  };\n  middleware.param = param;\n\n  var names = params.map(function (p) {\n    return p.name;\n  });\n\n  var x = names.indexOf(param);\n  if (x > -1) {\n    // iterate through the stack, to figure out where to place the handler fn\n    stack.some(function (fn, i) {\n      // param handlers are always first, so when we find an fn w/o a param property, stop here\n      // if the param handler at this part of the stack comes after the one we are adding, stop here\n      if (!fn.param || names.indexOf(fn.param) > x) {\n        // inject this param handler right before the current item\n        stack.splice(i, 0, middleware);\n        return true; // then break the loop\n      }\n    });\n  }\n\n  return this;\n};\n\n/**\n * Prefix route path.\n *\n * @param {String} prefix\n * @returns {Layer}\n * @private\n */\n\nLayer.prototype.setPrefix = function (prefix) {\n  if (this.path) {\n    this.path = prefix + this.path;\n    this.paramNames = [];\n    this.regexp = pathToRegExp(this.path, this.paramNames, this.opts);\n  }\n\n  return this;\n};\n\n/**\n * Safe decodeURIComponent, won't throw any error.\n * If `decodeURIComponent` error happen, just return the original value.\n *\n * @param {String} text\n * @returns {String} URL decode original string.\n * @private\n */\n\nfunction safeDecodeURIComponent(text) {\n  try {\n    return decodeURIComponent(text);\n  } catch (e) {\n    return text;\n  }\n}\n","/**\n * RESTful resource routing middleware for koa.\n *\n * @author Alex Mingoia <talk@alexmingoia.com>\n * @link https://github.com/alexmingoia/koa-router\n */\n\nvar debug = require('debug')('koa-router');\nvar compose = require('koa-compose');\nvar HttpError = require('http-errors');\nvar methods = require('methods');\nvar Layer = require('./layer');\n\n/**\n * @module koa-router\n */\n\nmodule.exports = Router;\n\n/**\n * Create a new router.\n *\n * @example\n *\n * Basic usage:\n *\n * ```javascript\n * const Koa = require('koa');\n * const Router = require('@koa/router');\n *\n * const app = new Koa();\n * const router = new Router();\n *\n * router.get('/', (ctx, next) => {\n *   // ctx.router available\n * });\n *\n * app\n *   .use(router.routes())\n *   .use(router.allowedMethods());\n * ```\n *\n * @alias module:koa-router\n * @param {Object=} opts\n * @param {String=} opts.prefix prefix router paths\n * @constructor\n */\n\nfunction Router(opts) {\n  if (!(this instanceof Router)) {\n    return new Router(opts);\n  }\n\n  this.opts = opts || {};\n  this.methods = this.opts.methods || [\n    'HEAD',\n    'OPTIONS',\n    'GET',\n    'PUT',\n    'PATCH',\n    'POST',\n    'DELETE'\n  ];\n\n  this.params = {};\n  this.stack = [];\n};\n\n/**\n * Create `router.verb()` methods, where *verb* is one of the HTTP verbs such\n * as `router.get()` or `router.post()`.\n *\n * Match URL patterns to callback functions or controller actions using `router.verb()`,\n * where **verb** is one of the HTTP verbs such as `router.get()` or `router.post()`.\n *\n * Additionaly, `router.all()` can be used to match against all methods.\n *\n * ```javascript\n * router\n *   .get('/', (ctx, next) => {\n *     ctx.body = 'Hello World!';\n *   })\n *   .post('/users', (ctx, next) => {\n *     // ...\n *   })\n *   .put('/users/:id', (ctx, next) => {\n *     // ...\n *   })\n *   .del('/users/:id', (ctx, next) => {\n *     // ...\n *   })\n *   .all('/users/:id', (ctx, next) => {\n *     // ...\n *   });\n * ```\n *\n * When a route is matched, its path is available at `ctx._matchedRoute` and if named,\n * the name is available at `ctx._matchedRouteName`\n *\n * Route paths will be translated to regular expressions using\n * [path-to-regexp](https://github.com/pillarjs/path-to-regexp).\n *\n * Query strings will not be considered when matching requests.\n *\n * #### Named routes\n *\n * Routes can optionally have names. This allows generation of URLs and easy\n * renaming of URLs during development.\n *\n * ```javascript\n * router.get('user', '/users/:id', (ctx, next) => {\n *  // ...\n * });\n *\n * router.url('user', 3);\n * // => \"/users/3\"\n * ```\n *\n * #### Multiple middleware\n *\n * Multiple middleware may be given:\n *\n * ```javascript\n * router.get(\n *   '/users/:id',\n *   (ctx, next) => {\n *     return User.findOne(ctx.params.id).then(function(user) {\n *       ctx.user = user;\n *       next();\n *     });\n *   },\n *   ctx => {\n *     console.log(ctx.user);\n *     // => { id: 17, name: \"Alex\" }\n *   }\n * );\n * ```\n *\n * ### Nested routers\n *\n * Nesting routers is supported:\n *\n * ```javascript\n * const forums = new Router();\n * const posts = new Router();\n *\n * posts.get('/', (ctx, next) => {...});\n * posts.get('/:pid', (ctx, next) => {...});\n * forums.use('/forums/:fid/posts', posts.routes(), posts.allowedMethods());\n *\n * // responds to \"/forums/123/posts\" and \"/forums/123/posts/123\"\n * app.use(forums.routes());\n * ```\n *\n * #### Router prefixes\n *\n * Route paths can be prefixed at the router level:\n *\n * ```javascript\n * const router = new Router({\n *   prefix: '/users'\n * });\n *\n * router.get('/', ...); // responds to \"/users\"\n * router.get('/:id', ...); // responds to \"/users/:id\"\n * ```\n *\n * #### URL parameters\n *\n * Named route parameters are captured and added to `ctx.params`.\n *\n * ```javascript\n * router.get('/:category/:title', (ctx, next) => {\n *   console.log(ctx.params);\n *   // => { category: 'programming', title: 'how-to-node' }\n * });\n * ```\n *\n * The [path-to-regexp](https://github.com/pillarjs/path-to-regexp) module is\n * used to convert paths to regular expressions.\n *\n * @name get|put|post|patch|delete|del\n * @memberof module:koa-router.prototype\n * @param {String} path\n * @param {Function=} middleware route middleware(s)\n * @param {Function} callback route callback\n * @returns {Router}\n */\n\nfor (var i = 0; i < methods.length; i++) {\n  function setMethodVerb(method) {\n    Router.prototype[method] = function(name, path, middleware) {\n      var middleware;\n\n      if (typeof path === \"string\" || path instanceof RegExp) {\n        middleware = Array.prototype.slice.call(arguments, 2);\n      } else {\n        middleware = Array.prototype.slice.call(arguments, 1);\n        path = name;\n        name = null;\n      }\n\n      this.register(path, [method], middleware, {\n        name: name\n      });\n\n      return this;\n    };\n  }\n  setMethodVerb(methods[i]);\n}\n\n// Alias for `router.delete()` because delete is a reserved word\nRouter.prototype.del = Router.prototype['delete'];\n\n/**\n * Use given middleware.\n *\n * Middleware run in the order they are defined by `.use()`. They are invoked\n * sequentially, requests start at the first middleware and work their way\n * \"down\" the middleware stack.\n *\n * @example\n *\n * ```javascript\n * // session middleware will run before authorize\n * router\n *   .use(session())\n *   .use(authorize());\n *\n * // use middleware only with given path\n * router.use('/users', userAuth());\n *\n * // or with an array of paths\n * router.use(['/users', '/admin'], userAuth());\n *\n * app.use(router.routes());\n * ```\n *\n * @param {String=} path\n * @param {Function} middleware\n * @param {Function=} ...\n * @returns {Router}\n */\n\nRouter.prototype.use = function () {\n  var router = this;\n  var middleware = Array.prototype.slice.call(arguments);\n  var path;\n\n  // support array of paths\n  if (Array.isArray(middleware[0]) && typeof middleware[0][0] === 'string') {\n    var arrPaths = middleware[0];\n    for (var i = 0; i < arrPaths.length; i++) {\n      var p = arrPaths[i];\n      router.use.apply(router, [p].concat(middleware.slice(1)));\n    }\n    return this;\n  }\n\n  var hasPath = typeof middleware[0] === 'string';\n  if (hasPath) {\n    path = middleware.shift();\n  }\n\n  for (var i = 0; i < middleware.length; i++) {\n    var m = middleware[i];\n    if (m.router) {\n      var cloneRouter = Object.assign(Object.create(Router.prototype), m.router, {\n        stack: m.router.stack.slice(0)\n      });\n\n      for (var j = 0; j < cloneRouter.stack.length; j++) {\n        var nestedLayer = cloneRouter.stack[j];\n        var cloneLayer = Object.assign(\n          Object.create(Layer.prototype),\n          nestedLayer\n        );\n\n        if (path) cloneLayer.setPrefix(path);\n        if (router.opts.prefix) cloneLayer.setPrefix(router.opts.prefix);\n        router.stack.push(cloneLayer);\n        cloneRouter.stack[j] = cloneLayer;\n      }\n\n      if (router.params) {\n        function setRouterParams(paramArr) {\n          var routerParams = paramArr;\n          for (var j = 0; j < routerParams.length; j++) {\n            var key = routerParams[j];\n            cloneRouter.param(key, router.params[key]);\n          }\n        }\n        setRouterParams(Object.keys(router.params));\n      }\n    } else {\n      router.register(path || '(.*)', [], m, { end: false, ignoreCaptures: !hasPath });\n    }\n  }\n\n  return this;\n};\n\n/**\n * Set the path prefix for a Router instance that was already initialized.\n *\n * @example\n *\n * ```javascript\n * router.prefix('/things/:thing_id')\n * ```\n *\n * @param {String} prefix\n * @returns {Router}\n */\n\nRouter.prototype.prefix = function (prefix) {\n  prefix = prefix.replace(/\\/$/, '');\n\n  this.opts.prefix = prefix;\n\n  for (var i = 0; i < this.stack.length; i++) {\n    var route = this.stack[i];\n    route.setPrefix(prefix);\n  }\n  \n  return this;\n};\n\n/**\n * Returns router middleware which dispatches a route matching the request.\n *\n * @returns {Function}\n */\n\nRouter.prototype.routes = Router.prototype.middleware = function () {\n  var router = this;\n\n  var dispatch = function dispatch(ctx, next) {\n    debug('%s %s', ctx.method, ctx.path);\n\n    var path = router.opts.routerPath || ctx.routerPath || ctx.path;\n    var matched = router.match(path, ctx.method);\n    var layerChain, layer, i;\n\n    if (ctx.matched) {\n      ctx.matched.push.apply(ctx.matched, matched.path);\n    } else {\n      ctx.matched = matched.path;\n    }\n\n    ctx.router = router;\n\n    if (!matched.route) return next();\n\n    var matchedLayers = matched.pathAndMethod\n    var mostSpecificLayer = matchedLayers[matchedLayers.length - 1]\n    ctx._matchedRoute = mostSpecificLayer.path;\n    if (mostSpecificLayer.name) {\n      ctx._matchedRouteName = mostSpecificLayer.name;\n    }\n\n    layerChain = matchedLayers.reduce(function(memo, layer) {\n      memo.push(function(ctx, next) {\n        ctx.captures = layer.captures(path, ctx.captures);\n        ctx.params = layer.params(path, ctx.captures, ctx.params);\n        ctx.routerName = layer.name;\n        return next();\n      });\n      return memo.concat(layer.stack);\n    }, []);\n\n    return compose(layerChain)(ctx, next);\n  };\n\n  dispatch.router = this;\n\n  return dispatch;\n};\n\n/**\n * Returns separate middleware for responding to `OPTIONS` requests with\n * an `Allow` header containing the allowed methods, as well as responding\n * with `405 Method Not Allowed` and `501 Not Implemented` as appropriate.\n *\n * @example\n *\n * ```javascript\n * const Koa = require('koa');\n * const Router = require('@koa/router');\n *\n * const app = new Koa();\n * const router = new Router();\n *\n * app.use(router.routes());\n * app.use(router.allowedMethods());\n * ```\n *\n * **Example with [Boom](https://github.com/hapijs/boom)**\n *\n * ```javascript\n * const Koa = require('koa');\n * const Router = require('@koa/router');\n * const Boom = require('boom');\n *\n * const app = new Koa();\n * const router = new Router();\n *\n * app.use(router.routes());\n * app.use(router.allowedMethods({\n *   throw: true,\n *   notImplemented: () => new Boom.notImplemented(),\n *   methodNotAllowed: () => new Boom.methodNotAllowed()\n * }));\n * ```\n *\n * @param {Object=} options\n * @param {Boolean=} options.throw throw error instead of setting status and header\n * @param {Function=} options.notImplemented throw the returned value in place of the default NotImplemented error\n * @param {Function=} options.methodNotAllowed throw the returned value in place of the default MethodNotAllowed error\n * @returns {Function}\n */\n\nRouter.prototype.allowedMethods = function (options) {\n  options = options || {};\n  var implemented = this.methods;\n\n  return function allowedMethods(ctx, next) {\n    return next().then(function() {\n      var allowed = {};\n\n      if (!ctx.status || ctx.status === 404) {\n        for (var i = 0; i < ctx.matched.length; i++) {\n          var route = ctx.matched[i];\n          for (var j = 0; j < route.methods.length; j++) {\n            var method = route.methods[j];\n              allowed[method] = method\n          }\n        }\n\n        var allowedArr = Object.keys(allowed);\n\n        if (!~implemented.indexOf(ctx.method)) {\n          if (options.throw) {\n            var notImplementedThrowable;\n            if (typeof options.notImplemented === 'function') {\n              notImplementedThrowable = options.notImplemented(); // set whatever the user returns from their function\n            } else {\n              notImplementedThrowable = new HttpError.NotImplemented();\n            }\n            throw notImplementedThrowable;\n          } else {\n            ctx.status = 501;\n            ctx.set('Allow', allowedArr.join(', '));\n          }\n        } else if (allowedArr.length) {\n          if (ctx.method === 'OPTIONS') {\n            ctx.status = 200;\n            ctx.body = '';\n            ctx.set('Allow', allowedArr.join(', '));\n          } else if (!allowed[ctx.method]) {\n            if (options.throw) {\n              var notAllowedThrowable;\n              if (typeof options.methodNotAllowed === 'function') {\n                notAllowedThrowable = options.methodNotAllowed(); // set whatever the user returns from their function\n              } else {\n                notAllowedThrowable = new HttpError.MethodNotAllowed();\n              }\n              throw notAllowedThrowable;\n            } else {\n              ctx.status = 405;\n              ctx.set('Allow', allowedArr.join(', '));\n            }\n          }\n        }\n      }\n    });\n  };\n};\n\n/**\n * Register route with all methods.\n *\n * @param {String} name Optional.\n * @param {String} path\n * @param {Function=} middleware You may also pass multiple middleware.\n * @param {Function} callback\n * @returns {Router}\n * @private\n */\n\nRouter.prototype.all = function (name, path, middleware) {\n  var middleware;\n\n  if (typeof path === 'string') {\n    middleware = Array.prototype.slice.call(arguments, 2);\n  } else {\n    middleware = Array.prototype.slice.call(arguments, 1);\n    path = name;\n    name = null;\n  }\n\n  this.register(path, methods, middleware, {\n    name: name\n  });\n\n  return this;\n};\n\n/**\n * Redirect `source` to `destination` URL with optional 30x status `code`.\n *\n * Both `source` and `destination` can be route names.\n *\n * ```javascript\n * router.redirect('/login', 'sign-in');\n * ```\n *\n * This is equivalent to:\n *\n * ```javascript\n * router.all('/login', ctx => {\n *   ctx.redirect('/sign-in');\n *   ctx.status = 301;\n * });\n * ```\n *\n * @param {String} source URL or route name.\n * @param {String} destination URL or route name.\n * @param {Number=} code HTTP status code (default: 301).\n * @returns {Router}\n */\n\nRouter.prototype.redirect = function (source, destination, code) {\n  // lookup source route by name\n  if (source[0] !== '/') {\n    source = this.url(source);\n  }\n\n  // lookup destination route by name\n  if (destination[0] !== '/') {\n    destination = this.url(destination);\n  }\n\n  return this.all(source, ctx => {\n    ctx.redirect(destination);\n    ctx.status = code || 301;\n  });\n};\n\n/**\n * Create and register a route.\n *\n * @param {String} path Path string.\n * @param {Array.<String>} methods Array of HTTP verbs.\n * @param {Function} middleware Multiple middleware also accepted.\n * @returns {Layer}\n * @private\n */\n\nRouter.prototype.register = function (path, methods, middleware, opts) {\n  opts = opts || {};\n\n  var router = this;\n  var stack = this.stack;\n\n  // support array of paths\n  if (Array.isArray(path)) {\n    for (var i = 0; i < path.length; i++) {\n      var curPath = path[i];\n      router.register.call(router, curPath, methods, middleware, opts);\n    }\n\n    return this;\n  }\n\n  // create route\n  var route = new Layer(path, methods, middleware, {\n    end: opts.end === false ? opts.end : true,\n    name: opts.name,\n    sensitive: opts.sensitive || this.opts.sensitive || false,\n    strict: opts.strict || this.opts.strict || false,\n    prefix: opts.prefix || this.opts.prefix || \"\",\n    ignoreCaptures: opts.ignoreCaptures\n  });\n\n  if (this.opts.prefix) {\n    route.setPrefix(this.opts.prefix);\n  }\n\n  // add parameter middleware\n  for (var i = 0; i < Object.keys(this.params).length; i++) {\n    var param = Object.keys(this.params)[i];\n    route.param(param, this.params[param]);\n  }\n\n  stack.push(route);\n\n  return route;\n};\n\n/**\n * Lookup route with given `name`.\n *\n * @param {String} name\n * @returns {Layer|false}\n */\n\nRouter.prototype.route = function (name) {\n  var routes = this.stack;\n\n  for (var len = routes.length, i=0; i<len; i++) {\n    if (routes[i].name && routes[i].name === name) {\n      return routes[i];\n    }\n  }\n\n  return false;\n};\n\n/**\n * Generate URL for route. Takes a route name and map of named `params`.\n *\n * @example\n *\n * ```javascript\n * router.get('user', '/users/:id', (ctx, next) => {\n *   // ...\n * });\n *\n * router.url('user', 3);\n * // => \"/users/3\"\n *\n * router.url('user', { id: 3 });\n * // => \"/users/3\"\n *\n * router.use((ctx, next) => {\n *   // redirect to named route\n *   ctx.redirect(ctx.router.url('sign-in'));\n * })\n *\n * router.url('user', { id: 3 }, { query: { limit: 1 } });\n * // => \"/users/3?limit=1\"\n *\n * router.url('user', { id: 3 }, { query: \"limit=1\" });\n * // => \"/users/3?limit=1\"\n * ```\n *\n * @param {String} name route name\n * @param {Object} params url parameters\n * @param {Object} [options] options parameter\n * @param {Object|String} [options.query] query options\n * @returns {String|Error}\n */\n\nRouter.prototype.url = function (name, params) {\n  var route = this.route(name);\n\n  if (route) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return route.url.apply(route, args);\n  }\n\n  return new Error(\"No route found for name: \" + name);\n};\n\n/**\n * Match given `path` and return corresponding routes.\n *\n * @param {String} path\n * @param {String} method\n * @returns {Object.<path, pathAndMethod>} returns layers that matched path and\n * path and method.\n * @private\n */\n\nRouter.prototype.match = function (path, method) {\n  var layers = this.stack;\n  var layer;\n  var matched = {\n    path: [],\n    pathAndMethod: [],\n    route: false\n  };\n\n  for (var len = layers.length, i = 0; i < len; i++) {\n    layer = layers[i];\n\n    debug('test %s %s', layer.path, layer.regexp);\n\n    if (layer.match(path)) {\n      matched.path.push(layer);\n\n      if (layer.methods.length === 0 || ~layer.methods.indexOf(method)) {\n        matched.pathAndMethod.push(layer);\n        if (layer.methods.length) matched.route = true;\n      }\n    }\n  }\n\n  return matched;\n};\n\n/**\n * Run middleware for named route parameters. Useful for auto-loading or\n * validation.\n *\n * @example\n *\n * ```javascript\n * router\n *   .param('user', (id, ctx, next) => {\n *     ctx.user = users[id];\n *     if (!ctx.user) return ctx.status = 404;\n *     return next();\n *   })\n *   .get('/users/:user', ctx => {\n *     ctx.body = ctx.user;\n *   })\n *   .get('/users/:user/friends', ctx => {\n *     return ctx.user.getFriends().then(function(friends) {\n *       ctx.body = friends;\n *     });\n *   })\n *   // /users/3 => {\"id\": 3, \"name\": \"Alex\"}\n *   // /users/3/friends => [{\"id\": 4, \"name\": \"TJ\"}]\n * ```\n *\n * @param {String} param\n * @param {Function} middleware\n * @returns {Router}\n */\n\nRouter.prototype.param = function(param, middleware) {\n  this.params[param] = middleware;\n  for (var i = 0; i < this.stack.length; i++) {\n    var route = this.stack[i];\n    route.param(param, middleware);\n  }\n\n  return this;\n};\n\n/**\n * Generate URL from url pattern and given `params`.\n *\n * @example\n *\n * ```javascript\n * const url = Router.url('/users/:id', {id: 1});\n * // => \"/users/1\"\n * ```\n *\n * @param {String} path url pattern\n * @param {Object} params url parameters\n * @returns {String}\n */\nRouter.url = function (path) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return Layer.prototype.url.apply({ path: path }, args);\n};\n","/**\n * Module dependencies.\n */\n\nconst debug = require('debug')('koa-send')\nconst resolvePath = require('resolve-path')\nconst createError = require('http-errors')\nconst assert = require('assert')\nconst fs = require('mz/fs')\n\nconst {\n  normalize,\n  basename,\n  extname,\n  resolve,\n  parse,\n  sep\n} = require('path')\n\n/**\n * Expose `send()`.\n */\n\nmodule.exports = send\n\n/**\n * Send file at `path` with the\n * given `options` to the koa `ctx`.\n *\n * @param {Context} ctx\n * @param {String} path\n * @param {Object} [opts]\n * @return {Function}\n * @api public\n */\n\nasync function send (ctx, path, opts = {}) {\n  assert(ctx, 'koa context required')\n  assert(path, 'pathname required')\n\n  // options\n  debug('send \"%s\" %j', path, opts)\n  const root = opts.root ? normalize(resolve(opts.root)) : ''\n  const trailingSlash = path[path.length - 1] === '/'\n  path = path.substr(parse(path).root.length)\n  const index = opts.index\n  const maxage = opts.maxage || opts.maxAge || 0\n  const immutable = opts.immutable || false\n  const hidden = opts.hidden || false\n  const format = opts.format !== false\n  const extensions = Array.isArray(opts.extensions) ? opts.extensions : false\n  const brotli = opts.brotli !== false\n  const gzip = opts.gzip !== false\n  const setHeaders = opts.setHeaders\n\n  if (setHeaders && typeof setHeaders !== 'function') {\n    throw new TypeError('option setHeaders must be function')\n  }\n\n  // normalize path\n  path = decode(path)\n\n  if (path === -1) return ctx.throw(400, 'failed to decode')\n\n  // index file support\n  if (index && trailingSlash) path += index\n\n  path = resolvePath(root, path)\n\n  // hidden file support, ignore\n  if (!hidden && isHidden(root, path)) return\n\n  let encodingExt = ''\n  // serve brotli file when possible otherwise gzipped file when possible\n  if (ctx.acceptsEncodings('br', 'identity') === 'br' && brotli && (await fs.exists(path + '.br'))) {\n    path = path + '.br'\n    ctx.set('Content-Encoding', 'br')\n    ctx.res.removeHeader('Content-Length')\n    encodingExt = '.br'\n  } else if (ctx.acceptsEncodings('gzip', 'identity') === 'gzip' && gzip && (await fs.exists(path + '.gz'))) {\n    path = path + '.gz'\n    ctx.set('Content-Encoding', 'gzip')\n    ctx.res.removeHeader('Content-Length')\n    encodingExt = '.gz'\n  }\n\n  if (extensions && !/\\.[^/]*$/.exec(path)) {\n    const list = [].concat(extensions)\n    for (let i = 0; i < list.length; i++) {\n      let ext = list[i]\n      if (typeof ext !== 'string') {\n        throw new TypeError('option extensions must be array of strings or false')\n      }\n      if (!/^\\./.exec(ext)) ext = '.' + ext\n      if (await fs.exists(path + ext)) {\n        path = path + ext\n        break\n      }\n    }\n  }\n\n  // stat\n  let stats\n  try {\n    stats = await fs.stat(path)\n\n    // Format the path to serve static file servers\n    // and not require a trailing slash for directories,\n    // so that you can do both `/directory` and `/directory/`\n    if (stats.isDirectory()) {\n      if (format && index) {\n        path += '/' + index\n        stats = await fs.stat(path)\n      } else {\n        return\n      }\n    }\n  } catch (err) {\n    const notfound = ['ENOENT', 'ENAMETOOLONG', 'ENOTDIR']\n    if (notfound.includes(err.code)) {\n      throw createError(404, err)\n    }\n    err.status = 500\n    throw err\n  }\n\n  if (setHeaders) setHeaders(ctx.res, path, stats)\n\n  // stream\n  ctx.set('Content-Length', stats.size)\n  if (!ctx.response.get('Last-Modified')) ctx.set('Last-Modified', stats.mtime.toUTCString())\n  if (!ctx.response.get('Cache-Control')) {\n    const directives = ['max-age=' + (maxage / 1000 | 0)]\n    if (immutable) {\n      directives.push('immutable')\n    }\n    ctx.set('Cache-Control', directives.join(','))\n  }\n  if (!ctx.type) ctx.type = type(path, encodingExt)\n  ctx.body = fs.createReadStream(path)\n\n  return path\n}\n\n/**\n * Check if it's hidden.\n */\n\nfunction isHidden (root, path) {\n  path = path.substr(root.length).split(sep)\n  for (let i = 0; i < path.length; i++) {\n    if (path[i][0] === '.') return true\n  }\n  return false\n}\n\n/**\n * File type.\n */\n\nfunction type (file, ext) {\n  return ext !== '' ? extname(basename(file, ext)) : extname(file)\n}\n\n/**\n * Decode `path`.\n */\n\nfunction decode (path) {\n  try {\n    return decodeURIComponent(path)\n  } catch (err) {\n    return -1\n  }\n}\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console;\n\n  // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};\n\n","\"use strict\";\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;\n\n","\"use strict\";\n\n/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n\n","\"use strict\";\n\n/**\n * Module dependencies.\n */\nvar tty = require('tty');\n\nvar util = require('util');\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n  // Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n  // eslint-disable-next-line import/no-extraneous-dependencies\n  var supportsColor = require('supports-color');\n\n  if (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n    exports.colors = [20, 21, 26, 27, 32, 33, 38, 39, 40, 41, 42, 43, 44, 45, 56, 57, 62, 63, 68, 69, 74, 75, 76, 77, 78, 79, 80, 81, 92, 93, 98, 99, 112, 113, 128, 129, 134, 135, 148, 149, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 178, 179, 184, 185, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 214, 215, 220, 221];\n  }\n} catch (error) {} // Swallow - we only care if `supports-color` is available; it doesn't have to be.\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // Camel-case\n  var prop = key.substring(6).toLowerCase().replace(/_([a-z])/g, function (_, k) {\n    return k.toUpperCase();\n  }); // Coerce string value into JS value\n\n  var val = process.env[key];\n\n  if (/^(yes|on|true|enabled)$/i.test(val)) {\n    val = true;\n  } else if (/^(no|off|false|disabled)$/i.test(val)) {\n    val = false;\n  } else if (val === 'null') {\n    val = null;\n  } else {\n    val = Number(val);\n  }\n\n  obj[prop] = val;\n  return obj;\n}, {});\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts ? Boolean(exports.inspectOpts.colors) : tty.isatty(process.stderr.fd);\n}\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  var name = this.namespace,\n      useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var colorCode = \"\\x1B[3\" + (c < 8 ? c : '8;5;' + c);\n    var prefix = \"  \".concat(colorCode, \";1m\").concat(name, \" \\x1B[0m\");\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push(colorCode + 'm+' + module.exports.humanize(this.diff) + \"\\x1B[0m\");\n  } else {\n    args[0] = getDate() + name + ' ' + args[0];\n  }\n}\n\nfunction getDate() {\n  if (exports.inspectOpts.hideDate) {\n    return '';\n  }\n\n  return new Date().toISOString() + ' ';\n}\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\n\nfunction log() {\n  return process.stderr.write(util.format.apply(util, arguments) + '\\n');\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  if (namespaces) {\n    process.env.DEBUG = namespaces;\n  } else {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  return process.env.DEBUG;\n}\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\n\nfunction init(debug) {\n  debug.inspectOpts = {};\n  var keys = Object.keys(exports.inspectOpts);\n\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts).replace(/\\s*\\n\\s*/g, ' ');\n};\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\n\nformatters.O = function (v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n","\n'use strict';\n\n/**\n * Module dependencies.\n */\n\nconst isGeneratorFunction = require('is-generator-function');\nconst debug = require('debug')('koa:application');\nconst onFinished = require('on-finished');\nconst response = require('./response');\nconst compose = require('koa-compose');\nconst context = require('./context');\nconst request = require('./request');\nconst statuses = require('statuses');\nconst Emitter = require('events');\nconst util = require('util');\nconst Stream = require('stream');\nconst http = require('http');\nconst only = require('only');\nconst convert = require('koa-convert');\nconst deprecate = require('depd')('koa');\nconst { HttpError } = require('http-errors');\n\n/**\n * Expose `Application` class.\n * Inherits from `Emitter.prototype`.\n */\n\nmodule.exports = class Application extends Emitter {\n  /**\n   * Initialize a new `Application`.\n   *\n   * @api public\n   */\n\n  /**\n    *\n    * @param {object} [options] Application options\n    * @param {string} [options.env='development'] Environment\n    * @param {string[]} [options.keys] Signed cookie keys\n    * @param {boolean} [options.proxy] Trust proxy headers\n    * @param {number} [options.subdomainOffset] Subdomain offset\n    * @param {boolean} [options.proxyIpHeader] proxy ip header, default to X-Forwarded-For\n    * @param {boolean} [options.maxIpsCount] max ips read from proxy ip header, default to 0 (means infinity)\n    *\n    */\n\n  constructor(options) {\n    super();\n    options = options || {};\n    this.proxy = options.proxy || false;\n    this.subdomainOffset = options.subdomainOffset || 2;\n    this.proxyIpHeader = options.proxyIpHeader || 'X-Forwarded-For';\n    this.maxIpsCount = options.maxIpsCount || 0;\n    this.env = options.env || process.env.NODE_ENV || 'development';\n    if (options.keys) this.keys = options.keys;\n    this.middleware = [];\n    this.context = Object.create(context);\n    this.request = Object.create(request);\n    this.response = Object.create(response);\n    if (util.inspect.custom) {\n      this[util.inspect.custom] = this.inspect;\n    }\n  }\n\n  /**\n   * Shorthand for:\n   *\n   *    http.createServer(app.callback()).listen(...)\n   *\n   * @param {Mixed} ...\n   * @return {Server}\n   * @api public\n   */\n\n  listen(...args) {\n    debug('listen');\n    const server = http.createServer(this.callback());\n    return server.listen(...args);\n  }\n\n  /**\n   * Return JSON representation.\n   * We only bother showing settings.\n   *\n   * @return {Object}\n   * @api public\n   */\n\n  toJSON() {\n    return only(this, [\n      'subdomainOffset',\n      'proxy',\n      'env'\n    ]);\n  }\n\n  /**\n   * Inspect implementation.\n   *\n   * @return {Object}\n   * @api public\n   */\n\n  inspect() {\n    return this.toJSON();\n  }\n\n  /**\n   * Use the given middleware `fn`.\n   *\n   * Old-style middleware will be converted.\n   *\n   * @param {Function} fn\n   * @return {Application} self\n   * @api public\n   */\n\n  use(fn) {\n    if (typeof fn !== 'function') throw new TypeError('middleware must be a function!');\n    if (isGeneratorFunction(fn)) {\n      deprecate('Support for generators will be removed in v3. ' +\n                'See the documentation for examples of how to convert old middleware ' +\n                'https://github.com/koajs/koa/blob/master/docs/migration.md');\n      fn = convert(fn);\n    }\n    debug('use %s', fn._name || fn.name || '-');\n    this.middleware.push(fn);\n    return this;\n  }\n\n  /**\n   * Return a request handler callback\n   * for node's native http server.\n   *\n   * @return {Function}\n   * @api public\n   */\n\n  callback() {\n    const fn = compose(this.middleware);\n\n    if (!this.listenerCount('error')) this.on('error', this.onerror);\n\n    const handleRequest = (req, res) => {\n      const ctx = this.createContext(req, res);\n      return this.handleRequest(ctx, fn);\n    };\n\n    return handleRequest;\n  }\n\n  /**\n   * Handle request in callback.\n   *\n   * @api private\n   */\n\n  handleRequest(ctx, fnMiddleware) {\n    const res = ctx.res;\n    res.statusCode = 404;\n    const onerror = err => ctx.onerror(err);\n    const handleResponse = () => respond(ctx);\n    onFinished(res, onerror);\n    return fnMiddleware(ctx).then(handleResponse).catch(onerror);\n  }\n\n  /**\n   * Initialize a new context.\n   *\n   * @api private\n   */\n\n  createContext(req, res) {\n    const context = Object.create(this.context);\n    const request = context.request = Object.create(this.request);\n    const response = context.response = Object.create(this.response);\n    context.app = request.app = response.app = this;\n    context.req = request.req = response.req = req;\n    context.res = request.res = response.res = res;\n    request.ctx = response.ctx = context;\n    request.response = response;\n    response.request = request;\n    context.originalUrl = request.originalUrl = req.url;\n    context.state = {};\n    return context;\n  }\n\n  /**\n   * Default error handler.\n   *\n   * @param {Error} err\n   * @api private\n   */\n\n  onerror(err) {\n    if (!(err instanceof Error)) throw new TypeError(util.format('non-error thrown: %j', err));\n\n    if (404 == err.status || err.expose) return;\n    if (this.silent) return;\n\n    const msg = err.stack || err.toString();\n    console.error();\n    console.error(msg.replace(/^/gm, '  '));\n    console.error();\n  }\n};\n\n/**\n * Response helper.\n */\n\nfunction respond(ctx) {\n  // allow bypassing koa\n  if (false === ctx.respond) return;\n\n  if (!ctx.writable) return;\n\n  const res = ctx.res;\n  let body = ctx.body;\n  const code = ctx.status;\n\n  // ignore body\n  if (statuses.empty[code]) {\n    // strip headers\n    ctx.body = null;\n    return res.end();\n  }\n\n  if ('HEAD' === ctx.method) {\n    if (!res.headersSent && !ctx.response.has('Content-Length')) {\n      const { length } = ctx.response;\n      if (Number.isInteger(length)) ctx.length = length;\n    }\n    return res.end();\n  }\n\n  // status body\n  if (null == body) {\n    if (ctx.req.httpVersionMajor >= 2) {\n      body = String(code);\n    } else {\n      body = ctx.message || String(code);\n    }\n    if (!res.headersSent) {\n      ctx.type = 'text';\n      ctx.length = Buffer.byteLength(body);\n    }\n    return res.end(body);\n  }\n\n  // responses\n  if (Buffer.isBuffer(body)) return res.end(body);\n  if ('string' == typeof body) return res.end(body);\n  if (body instanceof Stream) return body.pipe(res);\n\n  // body: json\n  body = JSON.stringify(body);\n  if (!res.headersSent) {\n    ctx.length = Buffer.byteLength(body);\n  }\n  res.end(body);\n}\n\n/**\n * Make HttpError available to consumers of the library so that consumers don't\n * have a direct dependency upon `http-errors`\n */\nmodule.exports.HttpError = HttpError;\n","\n'use strict';\n\n/**\n * Module dependencies.\n */\n\nconst util = require('util');\nconst createError = require('http-errors');\nconst httpAssert = require('http-assert');\nconst delegate = require('delegates');\nconst statuses = require('statuses');\nconst Cookies = require('cookies');\n\nconst COOKIES = Symbol('context#cookies');\n\n/**\n * Context prototype.\n */\n\nconst proto = module.exports = {\n\n  /**\n   * util.inspect() implementation, which\n   * just returns the JSON output.\n   *\n   * @return {Object}\n   * @api public\n   */\n\n  inspect() {\n    if (this === proto) return this;\n    return this.toJSON();\n  },\n\n  /**\n   * Return JSON representation.\n   *\n   * Here we explicitly invoke .toJSON() on each\n   * object, as iteration will otherwise fail due\n   * to the getters and cause utilities such as\n   * clone() to fail.\n   *\n   * @return {Object}\n   * @api public\n   */\n\n  toJSON() {\n    return {\n      request: this.request.toJSON(),\n      response: this.response.toJSON(),\n      app: this.app.toJSON(),\n      originalUrl: this.originalUrl,\n      req: '<original node req>',\n      res: '<original node res>',\n      socket: '<original node socket>'\n    };\n  },\n\n  /**\n   * Similar to .throw(), adds assertion.\n   *\n   *    this.assert(this.user, 401, 'Please login!');\n   *\n   * See: https://github.com/jshttp/http-assert\n   *\n   * @param {Mixed} test\n   * @param {Number} status\n   * @param {String} message\n   * @api public\n   */\n\n  assert: httpAssert,\n\n  /**\n   * Throw an error with `status` (default 500) and\n   * `msg`. Note that these are user-level\n   * errors, and the message may be exposed to the client.\n   *\n   *    this.throw(403)\n   *    this.throw(400, 'name required')\n   *    this.throw('something exploded')\n   *    this.throw(new Error('invalid'))\n   *    this.throw(400, new Error('invalid'))\n   *\n   * See: https://github.com/jshttp/http-errors\n   *\n   * Note: `status` should only be passed as the first parameter.\n   *\n   * @param {String|Number|Error} err, msg or status\n   * @param {String|Number|Error} [err, msg or status]\n   * @param {Object} [props]\n   * @api public\n   */\n\n  throw(...args) {\n    throw createError(...args);\n  },\n\n  /**\n   * Default error handling.\n   *\n   * @param {Error} err\n   * @api private\n   */\n\n  onerror(err) {\n    // don't do anything if there is no error.\n    // this allows you to pass `this.onerror`\n    // to node-style callbacks.\n    if (null == err) return;\n\n    if (!(err instanceof Error)) err = new Error(util.format('non-error thrown: %j', err));\n\n    let headerSent = false;\n    if (this.headerSent || !this.writable) {\n      headerSent = err.headerSent = true;\n    }\n\n    // delegate\n    this.app.emit('error', err, this);\n\n    // nothing we can do here other\n    // than delegate to the app-level\n    // handler and log.\n    if (headerSent) {\n      return;\n    }\n\n    const { res } = this;\n\n    // first unset all headers\n    /* istanbul ignore else */\n    if (typeof res.getHeaderNames === 'function') {\n      res.getHeaderNames().forEach(name => res.removeHeader(name));\n    } else {\n      res._headers = {}; // Node < 7.7\n    }\n\n    // then set those specified\n    this.set(err.headers);\n\n    // force text/plain\n    this.type = 'text';\n\n    // ENOENT support\n    if ('ENOENT' == err.code) err.status = 404;\n\n    // default to 500\n    if ('number' != typeof err.status || !statuses[err.status]) err.status = 500;\n\n    // respond\n    const code = statuses[err.status];\n    const msg = err.expose ? err.message : code;\n    this.status = err.status;\n    this.length = Buffer.byteLength(msg);\n    res.end(msg);\n  },\n\n  get cookies() {\n    if (!this[COOKIES]) {\n      this[COOKIES] = new Cookies(this.req, this.res, {\n        keys: this.app.keys,\n        secure: this.request.secure\n      });\n    }\n    return this[COOKIES];\n  },\n\n  set cookies(_cookies) {\n    this[COOKIES] = _cookies;\n  }\n};\n\n/**\n * Custom inspection implementation for newer Node.js versions.\n *\n * @return {Object}\n * @api public\n */\n\n/* istanbul ignore else */\nif (util.inspect.custom) {\n  module.exports[util.inspect.custom] = module.exports.inspect;\n}\n\n/**\n * Response delegation.\n */\n\ndelegate(proto, 'response')\n  .method('attachment')\n  .method('redirect')\n  .method('remove')\n  .method('vary')\n  .method('has')\n  .method('set')\n  .method('append')\n  .method('flushHeaders')\n  .access('status')\n  .access('message')\n  .access('body')\n  .access('length')\n  .access('type')\n  .access('lastModified')\n  .access('etag')\n  .getter('headerSent')\n  .getter('writable');\n\n/**\n * Request delegation.\n */\n\ndelegate(proto, 'request')\n  .method('acceptsLanguages')\n  .method('acceptsEncodings')\n  .method('acceptsCharsets')\n  .method('accepts')\n  .method('get')\n  .method('is')\n  .access('querystring')\n  .access('idempotent')\n  .access('socket')\n  .access('search')\n  .access('method')\n  .access('query')\n  .access('path')\n  .access('url')\n  .access('accept')\n  .getter('origin')\n  .getter('href')\n  .getter('subdomains')\n  .getter('protocol')\n  .getter('host')\n  .getter('hostname')\n  .getter('URL')\n  .getter('header')\n  .getter('headers')\n  .getter('secure')\n  .getter('stale')\n  .getter('fresh')\n  .getter('ips')\n  .getter('ip');\n","\n'use strict';\n\n/**\n * Module dependencies.\n */\n\nconst URL = require('url').URL;\nconst net = require('net');\nconst accepts = require('accepts');\nconst contentType = require('content-type');\nconst stringify = require('url').format;\nconst parse = require('parseurl');\nconst qs = require('querystring');\nconst typeis = require('type-is');\nconst fresh = require('fresh');\nconst only = require('only');\nconst util = require('util');\n\nconst IP = Symbol('context#ip');\n\n/**\n * Prototype.\n */\n\nmodule.exports = {\n\n  /**\n   * Return request header.\n   *\n   * @return {Object}\n   * @api public\n   */\n\n  get header() {\n    return this.req.headers;\n  },\n\n  /**\n   * Set request header.\n   *\n   * @api public\n   */\n\n  set header(val) {\n    this.req.headers = val;\n  },\n\n  /**\n   * Return request header, alias as request.header\n   *\n   * @return {Object}\n   * @api public\n   */\n\n  get headers() {\n    return this.req.headers;\n  },\n\n  /**\n   * Set request header, alias as request.header\n   *\n   * @api public\n   */\n\n  set headers(val) {\n    this.req.headers = val;\n  },\n\n  /**\n   * Get request URL.\n   *\n   * @return {String}\n   * @api public\n   */\n\n  get url() {\n    return this.req.url;\n  },\n\n  /**\n   * Set request URL.\n   *\n   * @api public\n   */\n\n  set url(val) {\n    this.req.url = val;\n  },\n\n  /**\n   * Get origin of URL.\n   *\n   * @return {String}\n   * @api public\n   */\n\n  get origin() {\n    return `${this.protocol}://${this.host}`;\n  },\n\n  /**\n   * Get full request URL.\n   *\n   * @return {String}\n   * @api public\n   */\n\n  get href() {\n    // support: `GET http://example.com/foo`\n    if (/^https?:\\/\\//i.test(this.originalUrl)) return this.originalUrl;\n    return this.origin + this.originalUrl;\n  },\n\n  /**\n   * Get request method.\n   *\n   * @return {String}\n   * @api public\n   */\n\n  get method() {\n    return this.req.method;\n  },\n\n  /**\n   * Set request method.\n   *\n   * @param {String} val\n   * @api public\n   */\n\n  set method(val) {\n    this.req.method = val;\n  },\n\n  /**\n   * Get request pathname.\n   *\n   * @return {String}\n   * @api public\n   */\n\n  get path() {\n    return parse(this.req).pathname;\n  },\n\n  /**\n   * Set pathname, retaining the query-string when present.\n   *\n   * @param {String} path\n   * @api public\n   */\n\n  set path(path) {\n    const url = parse(this.req);\n    if (url.pathname === path) return;\n\n    url.pathname = path;\n    url.path = null;\n\n    this.url = stringify(url);\n  },\n\n  /**\n   * Get parsed query-string.\n   *\n   * @return {Object}\n   * @api public\n   */\n\n  get query() {\n    const str = this.querystring;\n    const c = this._querycache = this._querycache || {};\n    return c[str] || (c[str] = qs.parse(str));\n  },\n\n  /**\n   * Set query-string as an object.\n   *\n   * @param {Object} obj\n   * @api public\n   */\n\n  set query(obj) {\n    this.querystring = qs.stringify(obj);\n  },\n\n  /**\n   * Get query string.\n   *\n   * @return {String}\n   * @api public\n   */\n\n  get querystring() {\n    if (!this.req) return '';\n    return parse(this.req).query || '';\n  },\n\n  /**\n   * Set querystring.\n   *\n   * @param {String} str\n   * @api public\n   */\n\n  set querystring(str) {\n    const url = parse(this.req);\n    if (url.search === `?${str}`) return;\n\n    url.search = str;\n    url.path = null;\n\n    this.url = stringify(url);\n  },\n\n  /**\n   * Get the search string. Same as the querystring\n   * except it includes the leading ?.\n   *\n   * @return {String}\n   * @api public\n   */\n\n  get search() {\n    if (!this.querystring) return '';\n    return `?${this.querystring}`;\n  },\n\n  /**\n   * Set the search string. Same as\n   * request.querystring= but included for ubiquity.\n   *\n   * @param {String} str\n   * @api public\n   */\n\n  set search(str) {\n    this.querystring = str;\n  },\n\n  /**\n   * Parse the \"Host\" header field host\n   * and support X-Forwarded-Host when a\n   * proxy is enabled.\n   *\n   * @return {String} hostname:port\n   * @api public\n   */\n\n  get host() {\n    const proxy = this.app.proxy;\n    let host = proxy && this.get('X-Forwarded-Host');\n    if (!host) {\n      if (this.req.httpVersionMajor >= 2) host = this.get(':authority');\n      if (!host) host = this.get('Host');\n    }\n    if (!host) return '';\n    return host.split(/\\s*,\\s*/, 1)[0];\n  },\n\n  /**\n   * Parse the \"Host\" header field hostname\n   * and support X-Forwarded-Host when a\n   * proxy is enabled.\n   *\n   * @return {String} hostname\n   * @api public\n   */\n\n  get hostname() {\n    const host = this.host;\n    if (!host) return '';\n    if ('[' == host[0]) return this.URL.hostname || ''; // IPv6\n    return host.split(':', 1)[0];\n  },\n\n  /**\n   * Get WHATWG parsed URL.\n   * Lazily memoized.\n   *\n   * @return {URL|Object}\n   * @api public\n   */\n\n  get URL() {\n    /* istanbul ignore else */\n    if (!this.memoizedURL) {\n      const originalUrl = this.originalUrl || ''; // avoid undefined in template string\n      try {\n        this.memoizedURL = new URL(`${this.origin}${originalUrl}`);\n      } catch (err) {\n        this.memoizedURL = Object.create(null);\n      }\n    }\n    return this.memoizedURL;\n  },\n\n  /**\n   * Check if the request is fresh, aka\n   * Last-Modified and/or the ETag\n   * still match.\n   *\n   * @return {Boolean}\n   * @api public\n   */\n\n  get fresh() {\n    const method = this.method;\n    const s = this.ctx.status;\n\n    // GET or HEAD for weak freshness validation only\n    if ('GET' != method && 'HEAD' != method) return false;\n\n    // 2xx or 304 as per rfc2616 14.26\n    if ((s >= 200 && s < 300) || 304 == s) {\n      return fresh(this.header, this.response.header);\n    }\n\n    return false;\n  },\n\n  /**\n   * Check if the request is stale, aka\n   * \"Last-Modified\" and / or the \"ETag\" for the\n   * resource has changed.\n   *\n   * @return {Boolean}\n   * @api public\n   */\n\n  get stale() {\n    return !this.fresh;\n  },\n\n  /**\n   * Check if the request is idempotent.\n   *\n   * @return {Boolean}\n   * @api public\n   */\n\n  get idempotent() {\n    const methods = ['GET', 'HEAD', 'PUT', 'DELETE', 'OPTIONS', 'TRACE'];\n    return !!~methods.indexOf(this.method);\n  },\n\n  /**\n   * Return the request socket.\n   *\n   * @return {Connection}\n   * @api public\n   */\n\n  get socket() {\n    return this.req.socket;\n  },\n\n  /**\n   * Get the charset when present or undefined.\n   *\n   * @return {String}\n   * @api public\n   */\n\n  get charset() {\n    try {\n      const { parameters } = contentType.parse(this.req);\n      return parameters.charset || '';\n    } catch (e) {\n      return '';\n    }\n  },\n\n  /**\n   * Return parsed Content-Length when present.\n   *\n   * @return {Number}\n   * @api public\n   */\n\n  get length() {\n    const len = this.get('Content-Length');\n    if (len == '') return;\n    return ~~len;\n  },\n\n  /**\n   * Return the protocol string \"http\" or \"https\"\n   * when requested with TLS. When the proxy setting\n   * is enabled the \"X-Forwarded-Proto\" header\n   * field will be trusted. If you're running behind\n   * a reverse proxy that supplies https for you this\n   * may be enabled.\n   *\n   * @return {String}\n   * @api public\n   */\n\n  get protocol() {\n    if (this.socket.encrypted) return 'https';\n    if (!this.app.proxy) return 'http';\n    const proto = this.get('X-Forwarded-Proto');\n    return proto ? proto.split(/\\s*,\\s*/, 1)[0] : 'http';\n  },\n\n  /**\n   * Short-hand for:\n   *\n   *    this.protocol == 'https'\n   *\n   * @return {Boolean}\n   * @api public\n   */\n\n  get secure() {\n    return 'https' == this.protocol;\n  },\n\n  /**\n   * When `app.proxy` is `true`, parse\n   * the \"X-Forwarded-For\" ip address list.\n   *\n   * For example if the value were \"client, proxy1, proxy2\"\n   * you would receive the array `[\"client\", \"proxy1\", \"proxy2\"]`\n   * where \"proxy2\" is the furthest down-stream.\n   *\n   * @return {Array}\n   * @api public\n   */\n\n  get ips() {\n    const proxy = this.app.proxy;\n    const val = this.get(this.app.proxyIpHeader);\n    let ips = proxy && val\n      ? val.split(/\\s*,\\s*/)\n      : [];\n    if (this.app.maxIpsCount > 0) {\n      ips = ips.slice(-this.app.maxIpsCount);\n    }\n    return ips;\n  },\n\n  /**\n   * Return request's remote address\n   * When `app.proxy` is `true`, parse\n   * the \"X-Forwarded-For\" ip address list and return the first one\n   *\n   * @return {String}\n   * @api public\n   */\n\n  get ip() {\n    if (!this[IP]) {\n      this[IP] = this.ips[0] || this.socket.remoteAddress || '';\n    }\n    return this[IP];\n  },\n\n  set ip(_ip) {\n    this[IP] = _ip;\n  },\n\n  /**\n   * Return subdomains as an array.\n   *\n   * Subdomains are the dot-separated parts of the host before the main domain\n   * of the app. By default, the domain of the app is assumed to be the last two\n   * parts of the host. This can be changed by setting `app.subdomainOffset`.\n   *\n   * For example, if the domain is \"tobi.ferrets.example.com\":\n   * If `app.subdomainOffset` is not set, this.subdomains is\n   * `[\"ferrets\", \"tobi\"]`.\n   * If `app.subdomainOffset` is 3, this.subdomains is `[\"tobi\"]`.\n   *\n   * @return {Array}\n   * @api public\n   */\n\n  get subdomains() {\n    const offset = this.app.subdomainOffset;\n    const hostname = this.hostname;\n    if (net.isIP(hostname)) return [];\n    return hostname\n      .split('.')\n      .reverse()\n      .slice(offset);\n  },\n\n  /**\n   * Get accept object.\n   * Lazily memoized.\n   *\n   * @return {Object}\n   * @api private\n   */\n  get accept() {\n    return this._accept || (this._accept = accepts(this.req));\n  },\n\n  /**\n   * Set accept object.\n   *\n   * @param {Object}\n   * @api private\n   */\n  set accept(obj) {\n    this._accept = obj;\n  },\n\n  /**\n   * Check if the given `type(s)` is acceptable, returning\n   * the best match when true, otherwise `false`, in which\n   * case you should respond with 406 \"Not Acceptable\".\n   *\n   * The `type` value may be a single mime type string\n   * such as \"application/json\", the extension name\n   * such as \"json\" or an array `[\"json\", \"html\", \"text/plain\"]`. When a list\n   * or array is given the _best_ match, if any is returned.\n   *\n   * Examples:\n   *\n   *     // Accept: text/html\n   *     this.accepts('html');\n   *     // => \"html\"\n   *\n   *     // Accept: text/*, application/json\n   *     this.accepts('html');\n   *     // => \"html\"\n   *     this.accepts('text/html');\n   *     // => \"text/html\"\n   *     this.accepts('json', 'text');\n   *     // => \"json\"\n   *     this.accepts('application/json');\n   *     // => \"application/json\"\n   *\n   *     // Accept: text/*, application/json\n   *     this.accepts('image/png');\n   *     this.accepts('png');\n   *     // => false\n   *\n   *     // Accept: text/*;q=.5, application/json\n   *     this.accepts(['html', 'json']);\n   *     this.accepts('html', 'json');\n   *     // => \"json\"\n   *\n   * @param {String|Array} type(s)...\n   * @return {String|Array|false}\n   * @api public\n   */\n\n  accepts(...args) {\n    return this.accept.types(...args);\n  },\n\n  /**\n   * Return accepted encodings or best fit based on `encodings`.\n   *\n   * Given `Accept-Encoding: gzip, deflate`\n   * an array sorted by quality is returned:\n   *\n   *     ['gzip', 'deflate']\n   *\n   * @param {String|Array} encoding(s)...\n   * @return {String|Array}\n   * @api public\n   */\n\n  acceptsEncodings(...args) {\n    return this.accept.encodings(...args);\n  },\n\n  /**\n   * Return accepted charsets or best fit based on `charsets`.\n   *\n   * Given `Accept-Charset: utf-8, iso-8859-1;q=0.2, utf-7;q=0.5`\n   * an array sorted by quality is returned:\n   *\n   *     ['utf-8', 'utf-7', 'iso-8859-1']\n   *\n   * @param {String|Array} charset(s)...\n   * @return {String|Array}\n   * @api public\n   */\n\n  acceptsCharsets(...args) {\n    return this.accept.charsets(...args);\n  },\n\n  /**\n   * Return accepted languages or best fit based on `langs`.\n   *\n   * Given `Accept-Language: en;q=0.8, es, pt`\n   * an array sorted by quality is returned:\n   *\n   *     ['es', 'pt', 'en']\n   *\n   * @param {String|Array} lang(s)...\n   * @return {Array|String}\n   * @api public\n   */\n\n  acceptsLanguages(...args) {\n    return this.accept.languages(...args);\n  },\n\n  /**\n   * Check if the incoming request contains the \"Content-Type\"\n   * header field, and it contains any of the give mime `type`s.\n   * If there is no request body, `null` is returned.\n   * If there is no content type, `false` is returned.\n   * Otherwise, it returns the first `type` that matches.\n   *\n   * Examples:\n   *\n   *     // With Content-Type: text/html; charset=utf-8\n   *     this.is('html'); // => 'html'\n   *     this.is('text/html'); // => 'text/html'\n   *     this.is('text/*', 'application/json'); // => 'text/html'\n   *\n   *     // When Content-Type is application/json\n   *     this.is('json', 'urlencoded'); // => 'json'\n   *     this.is('application/json'); // => 'application/json'\n   *     this.is('html', 'application/*'); // => 'application/json'\n   *\n   *     this.is('html'); // => false\n   *\n   * @param {String|String[]} [type]\n   * @param {String[]} [types]\n   * @return {String|false|null}\n   * @api public\n   */\n\n  is(type, ...types) {\n    return typeis(this.req, type, ...types);\n  },\n\n  /**\n   * Return the request mime type void of\n   * parameters such as \"charset\".\n   *\n   * @return {String}\n   * @api public\n   */\n\n  get type() {\n    const type = this.get('Content-Type');\n    if (!type) return '';\n    return type.split(';')[0];\n  },\n\n  /**\n   * Return request header.\n   *\n   * The `Referrer` header field is special-cased,\n   * both `Referrer` and `Referer` are interchangeable.\n   *\n   * Examples:\n   *\n   *     this.get('Content-Type');\n   *     // => \"text/plain\"\n   *\n   *     this.get('content-type');\n   *     // => \"text/plain\"\n   *\n   *     this.get('Something');\n   *     // => ''\n   *\n   * @param {String} field\n   * @return {String}\n   * @api public\n   */\n\n  get(field) {\n    const req = this.req;\n    switch (field = field.toLowerCase()) {\n      case 'referer':\n      case 'referrer':\n        return req.headers.referrer || req.headers.referer || '';\n      default:\n        return req.headers[field] || '';\n    }\n  },\n\n  /**\n   * Inspect implementation.\n   *\n   * @return {Object}\n   * @api public\n   */\n\n  inspect() {\n    if (!this.req) return;\n    return this.toJSON();\n  },\n\n  /**\n   * Return JSON representation.\n   *\n   * @return {Object}\n   * @api public\n   */\n\n  toJSON() {\n    return only(this, [\n      'method',\n      'url',\n      'header'\n    ]);\n  }\n};\n\n/**\n * Custom inspection implementation for newer Node.js versions.\n *\n * @return {Object}\n * @api public\n */\n\n/* istanbul ignore else */\nif (util.inspect.custom) {\n  module.exports[util.inspect.custom] = module.exports.inspect;\n}\n","\n'use strict';\n\n/**\n * Module dependencies.\n */\n\nconst contentDisposition = require('content-disposition');\nconst ensureErrorHandler = require('error-inject');\nconst getType = require('cache-content-type');\nconst onFinish = require('on-finished');\nconst escape = require('escape-html');\nconst typeis = require('type-is').is;\nconst statuses = require('statuses');\nconst destroy = require('destroy');\nconst assert = require('assert');\nconst extname = require('path').extname;\nconst vary = require('vary');\nconst only = require('only');\nconst util = require('util');\nconst encodeUrl = require('encodeurl');\nconst Stream = require('stream');\n\n/**\n * Prototype.\n */\n\nmodule.exports = {\n\n  /**\n   * Return the request socket.\n   *\n   * @return {Connection}\n   * @api public\n   */\n\n  get socket() {\n    return this.res.socket;\n  },\n\n  /**\n   * Return response header.\n   *\n   * @return {Object}\n   * @api public\n   */\n\n  get header() {\n    const { res } = this;\n    return typeof res.getHeaders === 'function'\n      ? res.getHeaders()\n      : res._headers || {}; // Node < 7.7\n  },\n\n  /**\n   * Return response header, alias as response.header\n   *\n   * @return {Object}\n   * @api public\n   */\n\n  get headers() {\n    return this.header;\n  },\n\n  /**\n   * Get response status code.\n   *\n   * @return {Number}\n   * @api public\n   */\n\n  get status() {\n    return this.res.statusCode;\n  },\n\n  /**\n   * Set response status code.\n   *\n   * @param {Number} code\n   * @api public\n   */\n\n  set status(code) {\n    if (this.headerSent) return;\n\n    assert(Number.isInteger(code), 'status code must be a number');\n    assert(code >= 100 && code <= 999, `invalid status code: ${code}`);\n    this._explicitStatus = true;\n    this.res.statusCode = code;\n    if (this.req.httpVersionMajor < 2) this.res.statusMessage = statuses[code];\n    if (this.body && statuses.empty[code]) this.body = null;\n  },\n\n  /**\n   * Get response status message\n   *\n   * @return {String}\n   * @api public\n   */\n\n  get message() {\n    return this.res.statusMessage || statuses[this.status];\n  },\n\n  /**\n   * Set response status message\n   *\n   * @param {String} msg\n   * @api public\n   */\n\n  set message(msg) {\n    this.res.statusMessage = msg;\n  },\n\n  /**\n   * Get response body.\n   *\n   * @return {Mixed}\n   * @api public\n   */\n\n  get body() {\n    return this._body;\n  },\n\n  /**\n   * Set response body.\n   *\n   * @param {String|Buffer|Object|Stream} val\n   * @api public\n   */\n\n  set body(val) {\n    const original = this._body;\n    this._body = val;\n\n    // no content\n    if (null == val) {\n      if (!statuses.empty[this.status]) this.status = 204;\n      this.remove('Content-Type');\n      this.remove('Content-Length');\n      this.remove('Transfer-Encoding');\n      return;\n    }\n\n    // set the status\n    if (!this._explicitStatus) this.status = 200;\n\n    // set the content-type only if not yet set\n    const setType = !this.has('Content-Type');\n\n    // string\n    if ('string' == typeof val) {\n      if (setType) this.type = /^\\s*</.test(val) ? 'html' : 'text';\n      this.length = Buffer.byteLength(val);\n      return;\n    }\n\n    // buffer\n    if (Buffer.isBuffer(val)) {\n      if (setType) this.type = 'bin';\n      this.length = val.length;\n      return;\n    }\n\n    // stream\n    if ('function' == typeof val.pipe) {\n      onFinish(this.res, destroy.bind(null, val));\n      ensureErrorHandler(val, err => this.ctx.onerror(err));\n\n      // overwriting\n      if (null != original && original != val) this.remove('Content-Length');\n\n      if (setType) this.type = 'bin';\n      return;\n    }\n\n    // json\n    this.remove('Content-Length');\n    this.type = 'json';\n  },\n\n  /**\n   * Set Content-Length field to `n`.\n   *\n   * @param {Number} n\n   * @api public\n   */\n\n  set length(n) {\n    this.set('Content-Length', n);\n  },\n\n  /**\n   * Return parsed response Content-Length when present.\n   *\n   * @return {Number}\n   * @api public\n   */\n\n  get length() {\n    if (this.has('Content-Length')) {\n      return parseInt(this.get('Content-Length'), 10) || 0;\n    }\n\n    const { body } = this;\n    if (!body || body instanceof Stream) return undefined;\n    if ('string' === typeof body) return Buffer.byteLength(body);\n    if (Buffer.isBuffer(body)) return body.length;\n    return Buffer.byteLength(JSON.stringify(body));\n  },\n\n  /**\n   * Check if a header has been written to the socket.\n   *\n   * @return {Boolean}\n   * @api public\n   */\n\n  get headerSent() {\n    return this.res.headersSent;\n  },\n\n  /**\n   * Vary on `field`.\n   *\n   * @param {String} field\n   * @api public\n   */\n\n  vary(field) {\n    if (this.headerSent) return;\n\n    vary(this.res, field);\n  },\n\n  /**\n   * Perform a 302 redirect to `url`.\n   *\n   * The string \"back\" is special-cased\n   * to provide Referrer support, when Referrer\n   * is not present `alt` or \"/\" is used.\n   *\n   * Examples:\n   *\n   *    this.redirect('back');\n   *    this.redirect('back', '/index.html');\n   *    this.redirect('/login');\n   *    this.redirect('http://google.com');\n   *\n   * @param {String} url\n   * @param {String} [alt]\n   * @api public\n   */\n\n  redirect(url, alt) {\n    // location\n    if ('back' == url) url = this.ctx.get('Referrer') || alt || '/';\n    this.set('Location', encodeUrl(url));\n\n    // status\n    if (!statuses.redirect[this.status]) this.status = 302;\n\n    // html\n    if (this.ctx.accepts('html')) {\n      url = escape(url);\n      this.type = 'text/html; charset=utf-8';\n      this.body = `Redirecting to <a href=\"${url}\">${url}</a>.`;\n      return;\n    }\n\n    // text\n    this.type = 'text/plain; charset=utf-8';\n    this.body = `Redirecting to ${url}.`;\n  },\n\n  /**\n   * Set Content-Disposition header to \"attachment\" with optional `filename`.\n   *\n   * @param {String} filename\n   * @api public\n   */\n\n  attachment(filename, options) {\n    if (filename) this.type = extname(filename);\n    this.set('Content-Disposition', contentDisposition(filename, options));\n  },\n\n  /**\n   * Set Content-Type response header with `type` through `mime.lookup()`\n   * when it does not contain a charset.\n   *\n   * Examples:\n   *\n   *     this.type = '.html';\n   *     this.type = 'html';\n   *     this.type = 'json';\n   *     this.type = 'application/json';\n   *     this.type = 'png';\n   *\n   * @param {String} type\n   * @api public\n   */\n\n  set type(type) {\n    type = getType(type);\n    if (type) {\n      this.set('Content-Type', type);\n    } else {\n      this.remove('Content-Type');\n    }\n  },\n\n  /**\n   * Set the Last-Modified date using a string or a Date.\n   *\n   *     this.response.lastModified = new Date();\n   *     this.response.lastModified = '2013-09-13';\n   *\n   * @param {String|Date} type\n   * @api public\n   */\n\n  set lastModified(val) {\n    if ('string' == typeof val) val = new Date(val);\n    this.set('Last-Modified', val.toUTCString());\n  },\n\n  /**\n   * Get the Last-Modified date in Date form, if it exists.\n   *\n   * @return {Date}\n   * @api public\n   */\n\n  get lastModified() {\n    const date = this.get('last-modified');\n    if (date) return new Date(date);\n  },\n\n  /**\n   * Set the ETag of a response.\n   * This will normalize the quotes if necessary.\n   *\n   *     this.response.etag = 'md5hashsum';\n   *     this.response.etag = '\"md5hashsum\"';\n   *     this.response.etag = 'W/\"123456789\"';\n   *\n   * @param {String} etag\n   * @api public\n   */\n\n  set etag(val) {\n    if (!/^(W\\/)?\"/.test(val)) val = `\"${val}\"`;\n    this.set('ETag', val);\n  },\n\n  /**\n   * Get the ETag of a response.\n   *\n   * @return {String}\n   * @api public\n   */\n\n  get etag() {\n    return this.get('ETag');\n  },\n\n  /**\n   * Return the response mime type void of\n   * parameters such as \"charset\".\n   *\n   * @return {String}\n   * @api public\n   */\n\n  get type() {\n    const type = this.get('Content-Type');\n    if (!type) return '';\n    return type.split(';', 1)[0];\n  },\n\n  /**\n   * Check whether the response is one of the listed types.\n   * Pretty much the same as `this.request.is()`.\n   *\n   * @param {String|String[]} [type]\n   * @param {String[]} [types]\n   * @return {String|false}\n   * @api public\n   */\n\n  is(type, ...types) {\n    return typeis(this.type, type, ...types);\n  },\n\n  /**\n   * Return response header.\n   *\n   * Examples:\n   *\n   *     this.get('Content-Type');\n   *     // => \"text/plain\"\n   *\n   *     this.get('content-type');\n   *     // => \"text/plain\"\n   *\n   * @param {String} field\n   * @return {String}\n   * @api public\n   */\n\n  get(field) {\n    return this.header[field.toLowerCase()] || '';\n  },\n\n  /**\n   * Returns true if the header identified by name is currently set in the outgoing headers.\n   * The header name matching is case-insensitive.\n   *\n   * Examples:\n   *\n   *     this.has('Content-Type');\n   *     // => true\n   *\n   *     this.get('content-type');\n   *     // => true\n   *\n   * @param {String} field\n   * @return {boolean}\n   * @api public\n   */\n  has(field) {\n    return typeof this.res.hasHeader === 'function'\n      ? this.res.hasHeader(field)\n      // Node < 7.7\n      : field.toLowerCase() in this.headers;\n  },\n\n  /**\n   * Set header `field` to `val`, or pass\n   * an object of header fields.\n   *\n   * Examples:\n   *\n   *    this.set('Foo', ['bar', 'baz']);\n   *    this.set('Accept', 'application/json');\n   *    this.set({ Accept: 'text/plain', 'X-API-Key': 'tobi' });\n   *\n   * @param {String|Object|Array} field\n   * @param {String} val\n   * @api public\n   */\n\n  set(field, val) {\n    if (this.headerSent) return;\n\n    if (2 == arguments.length) {\n      if (Array.isArray(val)) val = val.map(v => typeof v === 'string' ? v : String(v));\n      else if (typeof val !== 'string') val = String(val);\n      this.res.setHeader(field, val);\n    } else {\n      for (const key in field) {\n        this.set(key, field[key]);\n      }\n    }\n  },\n\n  /**\n   * Append additional header `field` with value `val`.\n   *\n   * Examples:\n   *\n   * ```\n   * this.append('Link', ['<http://localhost/>', '<http://localhost:3000/>']);\n   * this.append('Set-Cookie', 'foo=bar; Path=/; HttpOnly');\n   * this.append('Warning', '199 Miscellaneous warning');\n   * ```\n   *\n   * @param {String} field\n   * @param {String|Array} val\n   * @api public\n   */\n\n  append(field, val) {\n    const prev = this.get(field);\n\n    if (prev) {\n      val = Array.isArray(prev)\n        ? prev.concat(val)\n        : [prev].concat(val);\n    }\n\n    return this.set(field, val);\n  },\n\n  /**\n   * Remove header `field`.\n   *\n   * @param {String} name\n   * @api public\n   */\n\n  remove(field) {\n    if (this.headerSent) return;\n\n    this.res.removeHeader(field);\n  },\n\n  /**\n   * Checks if the request is writable.\n   * Tests for the existence of the socket\n   * as node sometimes does not set it.\n   *\n   * @return {Boolean}\n   * @api private\n   */\n\n  get writable() {\n    // can't write any more after response finished\n    // response.writableEnded is available since Node > 12.9\n    // https://nodejs.org/api/http.html#http_response_writableended\n    // response.finished is undocumented feature of previous Node versions\n    // https://stackoverflow.com/questions/16254385/undocumented-response-finished-in-node-js\n    if (this.res.writableEnded || this.res.finished) return false;\n\n    const socket = this.res.socket;\n    // There are already pending outgoing res, but still writable\n    // https://github.com/nodejs/node/blob/v4.4.7/lib/_http_server.js#L486\n    if (!socket) return true;\n    return socket.writable;\n  },\n\n  /**\n   * Inspect implementation.\n   *\n   * @return {Object}\n   * @api public\n   */\n\n  inspect() {\n    if (!this.res) return;\n    const o = this.toJSON();\n    o.body = this.body;\n    return o;\n  },\n\n  /**\n   * Return JSON representation.\n   *\n   * @return {Object}\n   * @api public\n   */\n\n  toJSON() {\n    return only(this, [\n      'status',\n      'message',\n      'header'\n    ]);\n  },\n\n  /**\n   * Flush any set headers, and begin the body\n   */\n  flushHeaders() {\n    this.res.flushHeaders();\n  }\n};\n\n/**\n * Custom inspection implementation for newer Node.js versions.\n *\n * @return {Object}\n * @api public\n */\nif (util.inspect.custom) {\n  module.exports[util.inspect.custom] = module.exports.inspect;\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',\n  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',\n  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',\n  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',\n  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',\n  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',\n  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',\n  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',\n  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',\n  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',\n  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * Active `debug` instances.\n */\nexports.instances = [];\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  var prevTime;\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n  debug.destroy = destroy;\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  exports.instances.push(debug);\n\n  return debug;\n}\n\nfunction destroy () {\n  var index = exports.instances.indexOf(this);\n  if (index !== -1) {\n    exports.instances.splice(index, 1);\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var i;\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n\n  for (i = 0; i < exports.instances.length; i++) {\n    var instance = exports.instances[i];\n    instance.enabled = exports.enabled(instance.namespace);\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  if (name[name.length - 1] === '*') {\n    return true;\n  }\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [ 6, 2, 3, 4, 5, 1 ];\n\ntry {\n  var supportsColor = require('supports-color');\n  if (supportsColor && supportsColor.level >= 2) {\n    exports.colors = [\n      20, 21, 26, 27, 32, 33, 38, 39, 40, 41, 42, 43, 44, 45, 56, 57, 62, 63, 68,\n      69, 74, 75, 76, 77, 78, 79, 80, 81, 92, 93, 98, 99, 112, 113, 128, 129, 134,\n      135, 148, 149, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171,\n      172, 173, 178, 179, 184, 185, 196, 197, 198, 199, 200, 201, 202, 203, 204,\n      205, 206, 207, 208, 209, 214, 215, 220, 221\n    ];\n  }\n} catch (err) {\n  // swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(process.stderr.fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var colorCode = '\\u001b[3' + (c < 8 ? c : '8;5;' + c);\n    var prefix = '  ' + colorCode + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push(colorCode + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = getDate() + name + ' ' + args[0];\n  }\n}\n\nfunction getDate() {\n  if (exports.inspectOpts.hideDate) {\n    return '';\n  } else {\n    return new Date().toISOString() + ' ';\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log() {\n  return process.stderr.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","/**\n * CORS middleware for koa2\n *\n * @param {Object} [options]\n *  - {String|Function(ctx)} origin `Access-Control-Allow-Origin`, default is request Origin header\n *  - {Array} exposeHeaders `Access-Control-Expose-Headers`\n *  - {String|Number} maxAge `Access-Control-Max-Age` in seconds\n *  - {Boolean} credentials `Access-Control-Allow-Credentials`\n *  - {Array} allowMethods `Access-Control-Allow-Methods`,\n *    default is ['GET', 'PUT', 'POST', 'PATCH', 'DELETE', 'HEAD', 'OPTIONS']\n *  - {Array} allowHeaders `Access-Control-Allow-Headers`\n * @return {Function}\n * @api public\n */\nmodule.exports = function crossOrigin(options = {}) {\n  const defaultOptions = {\n    allowMethods: ['GET', 'PUT', 'POST', 'PATCH', 'DELETE', 'HEAD', 'OPTIONS']\n  };\n\n  // set defaultOptions to options\n  options = Object.assign({}, defaultOptions, options); // eslint-disable-line no-param-reassign\n\n  // eslint-disable-next-line consistent-return\n  return async function cors(ctx, next) {\n    // always set vary Origin Header\n    // https://github.com/rs/cors/issues/10\n    ctx.vary('Origin');\n\n    let origin;\n    if (typeof options.origin === 'function') {\n      origin = options.origin(ctx);\n    } else {\n      origin = options.origin || ctx.get('Origin') || '*';\n    }\n    if (!origin) {\n      return await next();\n    }\n\n    // Access-Control-Allow-Origin\n    ctx.set('Access-Control-Allow-Origin', origin);\n\n    if (ctx.method === 'OPTIONS') {\n      // Preflight Request\n      if (!ctx.get('Access-Control-Request-Method')) {\n        return await next();\n      }\n\n      // Access-Control-Max-Age\n      if (options.maxAge) {\n        ctx.set('Access-Control-Max-Age', String(options.maxAge));\n      }\n\n      // Access-Control-Allow-Credentials\n      if (options.credentials === true) {\n        // When used as part of a response to a preflight request,\n        // this indicates whether or not the actual request can be made using credentials.\n        ctx.set('Access-Control-Allow-Credentials', 'true');\n      }\n\n      // Access-Control-Allow-Methods\n      if (options.allowMethods) {\n        ctx.set('Access-Control-Allow-Methods', options.allowMethods.join(','));\n      }\n\n      // Access-Control-Allow-Headers\n      if (options.allowHeaders) {\n        ctx.set('Access-Control-Allow-Headers', options.allowHeaders.join(','));\n      } else {\n        ctx.set('Access-Control-Allow-Headers', ctx.get('Access-Control-Request-Headers'));\n      }\n\n      ctx.status = 204; // No Content\n    } else {\n      // Request\n      // Access-Control-Allow-Credentials\n      if (options.credentials === true) {\n        if (origin === '*') {\n          // `credentials` can't be true when the `origin` is set to `*`\n          ctx.remove('Access-Control-Allow-Credentials');\n        } else {\n          ctx.set('Access-Control-Allow-Credentials', 'true');\n        }\n      }\n\n      // Access-Control-Expose-Headers\n      if (options.exposeHeaders) {\n        ctx.set('Access-Control-Expose-Headers', options.exposeHeaders.join(','));\n      }\n\n      try {\n        await next();\n      } catch (err) {\n        throw err;\n      }\n    }\n  };\n};","/*!\n * media-typer\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * RegExp to match *( \";\" parameter ) in RFC 2616 sec 3.7\n *\n * parameter     = token \"=\" ( token | quoted-string )\n * token         = 1*<any CHAR except CTLs or separators>\n * separators    = \"(\" | \")\" | \"<\" | \">\" | \"@\"\n *               | \",\" | \";\" | \":\" | \"\\\" | <\">\n *               | \"/\" | \"[\" | \"]\" | \"?\" | \"=\"\n *               | \"{\" | \"}\" | SP | HT\n * quoted-string = ( <\"> *(qdtext | quoted-pair ) <\"> )\n * qdtext        = <any TEXT except <\">>\n * quoted-pair   = \"\\\" CHAR\n * CHAR          = <any US-ASCII character (octets 0 - 127)>\n * TEXT          = <any OCTET except CTLs, but including LWS>\n * LWS           = [CRLF] 1*( SP | HT )\n * CRLF          = CR LF\n * CR            = <US-ASCII CR, carriage return (13)>\n * LF            = <US-ASCII LF, linefeed (10)>\n * SP            = <US-ASCII SP, space (32)>\n * SHT           = <US-ASCII HT, horizontal-tab (9)>\n * CTL           = <any US-ASCII control character (octets 0 - 31) and DEL (127)>\n * OCTET         = <any 8-bit sequence of data>\n */\nvar paramRegExp = /; *([!#$%&'\\*\\+\\-\\.0-9A-Z\\^_`a-z\\|~]+) *= *(\"(?:[ !\\u0023-\\u005b\\u005d-\\u007e\\u0080-\\u00ff]|\\\\[\\u0020-\\u007e])*\"|[!#$%&'\\*\\+\\-\\.0-9A-Z\\^_`a-z\\|~]+) */g;\nvar textRegExp = /^[\\u0020-\\u007e\\u0080-\\u00ff]+$/\nvar tokenRegExp = /^[!#$%&'\\*\\+\\-\\.0-9A-Z\\^_`a-z\\|~]+$/\n\n/**\n * RegExp to match quoted-pair in RFC 2616\n *\n * quoted-pair = \"\\\" CHAR\n * CHAR        = <any US-ASCII character (octets 0 - 127)>\n */\nvar qescRegExp = /\\\\([\\u0000-\\u007f])/g;\n\n/**\n * RegExp to match chars that must be quoted-pair in RFC 2616\n */\nvar quoteRegExp = /([\\\\\"])/g;\n\n/**\n * RegExp to match type in RFC 6838\n *\n * type-name = restricted-name\n * subtype-name = restricted-name\n * restricted-name = restricted-name-first *126restricted-name-chars\n * restricted-name-first  = ALPHA / DIGIT\n * restricted-name-chars  = ALPHA / DIGIT / \"!\" / \"#\" /\n *                          \"$\" / \"&\" / \"-\" / \"^\" / \"_\"\n * restricted-name-chars =/ \".\" ; Characters before first dot always\n *                              ; specify a facet name\n * restricted-name-chars =/ \"+\" ; Characters after last plus always\n *                              ; specify a structured syntax suffix\n * ALPHA =  %x41-5A / %x61-7A   ; A-Z / a-z\n * DIGIT =  %x30-39             ; 0-9\n */\nvar subtypeNameRegExp = /^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/\nvar typeNameRegExp = /^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/\nvar typeRegExp = /^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;\n\n/**\n * Module exports.\n */\n\nexports.format = format\nexports.parse = parse\n\n/**\n * Format object to media type.\n *\n * @param {object} obj\n * @return {string}\n * @api public\n */\n\nfunction format(obj) {\n  if (!obj || typeof obj !== 'object') {\n    throw new TypeError('argument obj is required')\n  }\n\n  var parameters = obj.parameters\n  var subtype = obj.subtype\n  var suffix = obj.suffix\n  var type = obj.type\n\n  if (!type || !typeNameRegExp.test(type)) {\n    throw new TypeError('invalid type')\n  }\n\n  if (!subtype || !subtypeNameRegExp.test(subtype)) {\n    throw new TypeError('invalid subtype')\n  }\n\n  // format as type/subtype\n  var string = type + '/' + subtype\n\n  // append +suffix\n  if (suffix) {\n    if (!typeNameRegExp.test(suffix)) {\n      throw new TypeError('invalid suffix')\n    }\n\n    string += '+' + suffix\n  }\n\n  // append parameters\n  if (parameters && typeof parameters === 'object') {\n    var param\n    var params = Object.keys(parameters).sort()\n\n    for (var i = 0; i < params.length; i++) {\n      param = params[i]\n\n      if (!tokenRegExp.test(param)) {\n        throw new TypeError('invalid parameter name')\n      }\n\n      string += '; ' + param + '=' + qstring(parameters[param])\n    }\n  }\n\n  return string\n}\n\n/**\n * Parse media type to object.\n *\n * @param {string|object} string\n * @return {Object}\n * @api public\n */\n\nfunction parse(string) {\n  if (!string) {\n    throw new TypeError('argument string is required')\n  }\n\n  // support req/res-like objects as argument\n  if (typeof string === 'object') {\n    string = getcontenttype(string)\n  }\n\n  if (typeof string !== 'string') {\n    throw new TypeError('argument string is required to be a string')\n  }\n\n  var index = string.indexOf(';')\n  var type = index !== -1\n    ? string.substr(0, index)\n    : string\n\n  var key\n  var match\n  var obj = splitType(type)\n  var params = {}\n  var value\n\n  paramRegExp.lastIndex = index\n\n  while (match = paramRegExp.exec(string)) {\n    if (match.index !== index) {\n      throw new TypeError('invalid parameter format')\n    }\n\n    index += match[0].length\n    key = match[1].toLowerCase()\n    value = match[2]\n\n    if (value[0] === '\"') {\n      // remove quotes and escapes\n      value = value\n        .substr(1, value.length - 2)\n        .replace(qescRegExp, '$1')\n    }\n\n    params[key] = value\n  }\n\n  if (index !== -1 && index !== string.length) {\n    throw new TypeError('invalid parameter format')\n  }\n\n  obj.parameters = params\n\n  return obj\n}\n\n/**\n * Get content-type from req/res objects.\n *\n * @param {object}\n * @return {Object}\n * @api private\n */\n\nfunction getcontenttype(obj) {\n  if (typeof obj.getHeader === 'function') {\n    // res-like\n    return obj.getHeader('content-type')\n  }\n\n  if (typeof obj.headers === 'object') {\n    // req-like\n    return obj.headers && obj.headers['content-type']\n  }\n}\n\n/**\n * Quote a string if necessary.\n *\n * @param {string} val\n * @return {string}\n * @api private\n */\n\nfunction qstring(val) {\n  var str = String(val)\n\n  // no need to quote tokens\n  if (tokenRegExp.test(str)) {\n    return str\n  }\n\n  if (str.length > 0 && !textRegExp.test(str)) {\n    throw new TypeError('invalid parameter value')\n  }\n\n  return '\"' + str.replace(quoteRegExp, '\\\\$1') + '\"'\n}\n\n/**\n * Simply \"type/subtype+siffx\" into parts.\n *\n * @param {string} string\n * @return {Object}\n * @api private\n */\n\nfunction splitType(string) {\n  var match = typeRegExp.exec(string.toLowerCase())\n\n  if (!match) {\n    throw new TypeError('invalid media type')\n  }\n\n  var type = match[1]\n  var subtype = match[2]\n  var suffix\n\n  // suffix after last +\n  var index = subtype.lastIndexOf('+')\n  if (index !== -1) {\n    suffix = subtype.substr(index + 1)\n    subtype = subtype.substr(0, index)\n  }\n\n  var obj = {\n    type: type,\n    subtype: subtype,\n    suffix: suffix\n  }\n\n  return obj\n}\n","/*!\n * methods\n * Copyright(c) 2013-2014 TJ Holowaychuk\n * Copyright(c) 2015-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar http = require('http');\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = getCurrentNodeMethods() || getBasicNodeMethods();\n\n/**\n * Get the current Node.js methods.\n * @private\n */\n\nfunction getCurrentNodeMethods() {\n  return http.METHODS && http.METHODS.map(function lowerCaseMethod(method) {\n    return method.toLowerCase();\n  });\n}\n\n/**\n * Get the \"basic\" Node.js methods, a snapshot from Node.js 0.10.\n * @private\n */\n\nfunction getBasicNodeMethods() {\n  return [\n    'get',\n    'post',\n    'put',\n    'head',\n    'delete',\n    'options',\n    'trace',\n    'copy',\n    'lock',\n    'mkcol',\n    'move',\n    'purge',\n    'propfind',\n    'proppatch',\n    'unlock',\n    'report',\n    'mkactivity',\n    'checkout',\n    'merge',\n    'm-search',\n    'notify',\n    'subscribe',\n    'unsubscribe',\n    'patch',\n    'search',\n    'connect'\n  ];\n}\n","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1\n    ? exports.lookup(str)\n    : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .substr(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  // source preference (least -> most)\n  var preference = ['nginx', 'apache', undefined, 'iana']\n\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n\n      if (types[extension]) {\n        var from = preference.indexOf(db[types[extension]].source)\n        var to = preference.indexOf(mime.source)\n\n        if (types[extension] !== 'application/octet-stream' &&\n          (from > to || (from === to && types[extension].substr(0, 12) === 'application/'))) {\n          // skip the remapping\n          continue\n        }\n      }\n\n      // set the extension -> mime\n      types[extension] = type\n    }\n  })\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\nvar Promise = require('any-promise')\nvar fs\ntry {\n  fs = require('graceful-fs')\n} catch(err) {\n  fs = require('fs')\n}\n\nvar api = [\n  'appendFile',\n  'chmod',\n  'chown',\n  'close',\n  'fchmod',\n  'fchown',\n  'fdatasync',\n  'fstat',\n  'fsync',\n  'ftruncate',\n  'futimes',\n  'lchown',\n  'link',\n  'lstat',\n  'mkdir',\n  'open',\n  'read',\n  'readFile',\n  'readdir',\n  'readlink',\n  'realpath',\n  'rename',\n  'rmdir',\n  'stat',\n  'symlink',\n  'truncate',\n  'unlink',\n  'utimes',\n  'write',\n  'writeFile'\n]\n\ntypeof fs.access === 'function' && api.push('access')\ntypeof fs.copyFile === 'function' && api.push('copyFile')\ntypeof fs.mkdtemp === 'function' && api.push('mkdtemp')\n\nrequire('thenify-all').withCallback(fs, exports, api)\n\nexports.exists = function (filename, callback) {\n  // callback\n  if (typeof callback === 'function') {\n    return fs.stat(filename, function (err) {\n      callback(null, !err);\n    })\n  }\n  // or promise\n  return new Promise(function (resolve) {\n    fs.stat(filename, function (err) {\n      resolve(!err)\n    })\n  })\n}\n","/*!\n * negotiator\n * Copyright(c) 2012 Federico Romero\n * Copyright(c) 2012-2014 Isaac Z. Schlueter\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Cached loaded submodules.\n * @private\n */\n\nvar modules = Object.create(null);\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = Negotiator;\nmodule.exports.Negotiator = Negotiator;\n\n/**\n * Create a Negotiator instance from a request.\n * @param {object} request\n * @public\n */\n\nfunction Negotiator(request) {\n  if (!(this instanceof Negotiator)) {\n    return new Negotiator(request);\n  }\n\n  this.request = request;\n}\n\nNegotiator.prototype.charset = function charset(available) {\n  var set = this.charsets(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.charsets = function charsets(available) {\n  var preferredCharsets = loadModule('charset').preferredCharsets;\n  return preferredCharsets(this.request.headers['accept-charset'], available);\n};\n\nNegotiator.prototype.encoding = function encoding(available) {\n  var set = this.encodings(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.encodings = function encodings(available) {\n  var preferredEncodings = loadModule('encoding').preferredEncodings;\n  return preferredEncodings(this.request.headers['accept-encoding'], available);\n};\n\nNegotiator.prototype.language = function language(available) {\n  var set = this.languages(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.languages = function languages(available) {\n  var preferredLanguages = loadModule('language').preferredLanguages;\n  return preferredLanguages(this.request.headers['accept-language'], available);\n};\n\nNegotiator.prototype.mediaType = function mediaType(available) {\n  var set = this.mediaTypes(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.mediaTypes = function mediaTypes(available) {\n  var preferredMediaTypes = loadModule('mediaType').preferredMediaTypes;\n  return preferredMediaTypes(this.request.headers.accept, available);\n};\n\n// Backwards compatibility\nNegotiator.prototype.preferredCharset = Negotiator.prototype.charset;\nNegotiator.prototype.preferredCharsets = Negotiator.prototype.charsets;\nNegotiator.prototype.preferredEncoding = Negotiator.prototype.encoding;\nNegotiator.prototype.preferredEncodings = Negotiator.prototype.encodings;\nNegotiator.prototype.preferredLanguage = Negotiator.prototype.language;\nNegotiator.prototype.preferredLanguages = Negotiator.prototype.languages;\nNegotiator.prototype.preferredMediaType = Negotiator.prototype.mediaType;\nNegotiator.prototype.preferredMediaTypes = Negotiator.prototype.mediaTypes;\n\n/**\n * Load the given module.\n * @private\n */\n\nfunction loadModule(moduleName) {\n  var module = modules[moduleName];\n\n  if (module !== undefined) {\n    return module;\n  }\n\n  // This uses a switch for static require analysis\n  switch (moduleName) {\n    case 'charset':\n      module = require('./lib/charset');\n      break;\n    case 'encoding':\n      module = require('./lib/encoding');\n      break;\n    case 'language':\n      module = require('./lib/language');\n      break;\n    case 'mediaType':\n      module = require('./lib/mediaType');\n      break;\n    default:\n      throw new Error('Cannot find module \\'' + moduleName + '\\'');\n  }\n\n  // Store to prevent invoking require()\n  modules[moduleName] = module;\n\n  return module;\n}\n","/**\n * negotiator\n * Copyright(c) 2012 Isaac Z. Schlueter\n * Copyright(c) 2014 Federico Romero\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = preferredCharsets;\nmodule.exports.preferredCharsets = preferredCharsets;\n\n/**\n * Module variables.\n * @private\n */\n\nvar simpleCharsetRegExp = /^\\s*([^\\s;]+)\\s*(?:;(.*))?$/;\n\n/**\n * Parse the Accept-Charset header.\n * @private\n */\n\nfunction parseAcceptCharset(accept) {\n  var accepts = accept.split(',');\n\n  for (var i = 0, j = 0; i < accepts.length; i++) {\n    var charset = parseCharset(accepts[i].trim(), i);\n\n    if (charset) {\n      accepts[j++] = charset;\n    }\n  }\n\n  // trim accepts\n  accepts.length = j;\n\n  return accepts;\n}\n\n/**\n * Parse a charset from the Accept-Charset header.\n * @private\n */\n\nfunction parseCharset(str, i) {\n  var match = simpleCharsetRegExp.exec(str);\n  if (!match) return null;\n\n  var charset = match[1];\n  var q = 1;\n  if (match[2]) {\n    var params = match[2].split(';')\n    for (var j = 0; j < params.length; j++) {\n      var p = params[j].trim().split('=');\n      if (p[0] === 'q') {\n        q = parseFloat(p[1]);\n        break;\n      }\n    }\n  }\n\n  return {\n    charset: charset,\n    q: q,\n    i: i\n  };\n}\n\n/**\n * Get the priority of a charset.\n * @private\n */\n\nfunction getCharsetPriority(charset, accepted, index) {\n  var priority = {o: -1, q: 0, s: 0};\n\n  for (var i = 0; i < accepted.length; i++) {\n    var spec = specify(charset, accepted[i], index);\n\n    if (spec && (priority.s - spec.s || priority.q - spec.q || priority.o - spec.o) < 0) {\n      priority = spec;\n    }\n  }\n\n  return priority;\n}\n\n/**\n * Get the specificity of the charset.\n * @private\n */\n\nfunction specify(charset, spec, index) {\n  var s = 0;\n  if(spec.charset.toLowerCase() === charset.toLowerCase()){\n    s |= 1;\n  } else if (spec.charset !== '*' ) {\n    return null\n  }\n\n  return {\n    i: index,\n    o: spec.i,\n    q: spec.q,\n    s: s\n  }\n}\n\n/**\n * Get the preferred charsets from an Accept-Charset header.\n * @public\n */\n\nfunction preferredCharsets(accept, provided) {\n  // RFC 2616 sec 14.2: no header = *\n  var accepts = parseAcceptCharset(accept === undefined ? '*' : accept || '');\n\n  if (!provided) {\n    // sorted list of all charsets\n    return accepts\n      .filter(isQuality)\n      .sort(compareSpecs)\n      .map(getFullCharset);\n  }\n\n  var priorities = provided.map(function getPriority(type, index) {\n    return getCharsetPriority(type, accepts, index);\n  });\n\n  // sorted list of accepted charsets\n  return priorities.filter(isQuality).sort(compareSpecs).map(function getCharset(priority) {\n    return provided[priorities.indexOf(priority)];\n  });\n}\n\n/**\n * Compare two specs.\n * @private\n */\n\nfunction compareSpecs(a, b) {\n  return (b.q - a.q) || (b.s - a.s) || (a.o - b.o) || (a.i - b.i) || 0;\n}\n\n/**\n * Get full charset string.\n * @private\n */\n\nfunction getFullCharset(spec) {\n  return spec.charset;\n}\n\n/**\n * Check if a spec has any quality.\n * @private\n */\n\nfunction isQuality(spec) {\n  return spec.q > 0;\n}\n","/**\n * negotiator\n * Copyright(c) 2012 Isaac Z. Schlueter\n * Copyright(c) 2014 Federico Romero\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = preferredEncodings;\nmodule.exports.preferredEncodings = preferredEncodings;\n\n/**\n * Module variables.\n * @private\n */\n\nvar simpleEncodingRegExp = /^\\s*([^\\s;]+)\\s*(?:;(.*))?$/;\n\n/**\n * Parse the Accept-Encoding header.\n * @private\n */\n\nfunction parseAcceptEncoding(accept) {\n  var accepts = accept.split(',');\n  var hasIdentity = false;\n  var minQuality = 1;\n\n  for (var i = 0, j = 0; i < accepts.length; i++) {\n    var encoding = parseEncoding(accepts[i].trim(), i);\n\n    if (encoding) {\n      accepts[j++] = encoding;\n      hasIdentity = hasIdentity || specify('identity', encoding);\n      minQuality = Math.min(minQuality, encoding.q || 1);\n    }\n  }\n\n  if (!hasIdentity) {\n    /*\n     * If identity doesn't explicitly appear in the accept-encoding header,\n     * it's added to the list of acceptable encoding with the lowest q\n     */\n    accepts[j++] = {\n      encoding: 'identity',\n      q: minQuality,\n      i: i\n    };\n  }\n\n  // trim accepts\n  accepts.length = j;\n\n  return accepts;\n}\n\n/**\n * Parse an encoding from the Accept-Encoding header.\n * @private\n */\n\nfunction parseEncoding(str, i) {\n  var match = simpleEncodingRegExp.exec(str);\n  if (!match) return null;\n\n  var encoding = match[1];\n  var q = 1;\n  if (match[2]) {\n    var params = match[2].split(';');\n    for (var j = 0; j < params.length; j++) {\n      var p = params[j].trim().split('=');\n      if (p[0] === 'q') {\n        q = parseFloat(p[1]);\n        break;\n      }\n    }\n  }\n\n  return {\n    encoding: encoding,\n    q: q,\n    i: i\n  };\n}\n\n/**\n * Get the priority of an encoding.\n * @private\n */\n\nfunction getEncodingPriority(encoding, accepted, index) {\n  var priority = {o: -1, q: 0, s: 0};\n\n  for (var i = 0; i < accepted.length; i++) {\n    var spec = specify(encoding, accepted[i], index);\n\n    if (spec && (priority.s - spec.s || priority.q - spec.q || priority.o - spec.o) < 0) {\n      priority = spec;\n    }\n  }\n\n  return priority;\n}\n\n/**\n * Get the specificity of the encoding.\n * @private\n */\n\nfunction specify(encoding, spec, index) {\n  var s = 0;\n  if(spec.encoding.toLowerCase() === encoding.toLowerCase()){\n    s |= 1;\n  } else if (spec.encoding !== '*' ) {\n    return null\n  }\n\n  return {\n    i: index,\n    o: spec.i,\n    q: spec.q,\n    s: s\n  }\n};\n\n/**\n * Get the preferred encodings from an Accept-Encoding header.\n * @public\n */\n\nfunction preferredEncodings(accept, provided) {\n  var accepts = parseAcceptEncoding(accept || '');\n\n  if (!provided) {\n    // sorted list of all encodings\n    return accepts\n      .filter(isQuality)\n      .sort(compareSpecs)\n      .map(getFullEncoding);\n  }\n\n  var priorities = provided.map(function getPriority(type, index) {\n    return getEncodingPriority(type, accepts, index);\n  });\n\n  // sorted list of accepted encodings\n  return priorities.filter(isQuality).sort(compareSpecs).map(function getEncoding(priority) {\n    return provided[priorities.indexOf(priority)];\n  });\n}\n\n/**\n * Compare two specs.\n * @private\n */\n\nfunction compareSpecs(a, b) {\n  return (b.q - a.q) || (b.s - a.s) || (a.o - b.o) || (a.i - b.i) || 0;\n}\n\n/**\n * Get full encoding string.\n * @private\n */\n\nfunction getFullEncoding(spec) {\n  return spec.encoding;\n}\n\n/**\n * Check if a spec has any quality.\n * @private\n */\n\nfunction isQuality(spec) {\n  return spec.q > 0;\n}\n","/**\n * negotiator\n * Copyright(c) 2012 Isaac Z. Schlueter\n * Copyright(c) 2014 Federico Romero\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = preferredLanguages;\nmodule.exports.preferredLanguages = preferredLanguages;\n\n/**\n * Module variables.\n * @private\n */\n\nvar simpleLanguageRegExp = /^\\s*([^\\s\\-;]+)(?:-([^\\s;]+))?\\s*(?:;(.*))?$/;\n\n/**\n * Parse the Accept-Language header.\n * @private\n */\n\nfunction parseAcceptLanguage(accept) {\n  var accepts = accept.split(',');\n\n  for (var i = 0, j = 0; i < accepts.length; i++) {\n    var language = parseLanguage(accepts[i].trim(), i);\n\n    if (language) {\n      accepts[j++] = language;\n    }\n  }\n\n  // trim accepts\n  accepts.length = j;\n\n  return accepts;\n}\n\n/**\n * Parse a language from the Accept-Language header.\n * @private\n */\n\nfunction parseLanguage(str, i) {\n  var match = simpleLanguageRegExp.exec(str);\n  if (!match) return null;\n\n  var prefix = match[1],\n    suffix = match[2],\n    full = prefix;\n\n  if (suffix) full += \"-\" + suffix;\n\n  var q = 1;\n  if (match[3]) {\n    var params = match[3].split(';')\n    for (var j = 0; j < params.length; j++) {\n      var p = params[j].split('=');\n      if (p[0] === 'q') q = parseFloat(p[1]);\n    }\n  }\n\n  return {\n    prefix: prefix,\n    suffix: suffix,\n    q: q,\n    i: i,\n    full: full\n  };\n}\n\n/**\n * Get the priority of a language.\n * @private\n */\n\nfunction getLanguagePriority(language, accepted, index) {\n  var priority = {o: -1, q: 0, s: 0};\n\n  for (var i = 0; i < accepted.length; i++) {\n    var spec = specify(language, accepted[i], index);\n\n    if (spec && (priority.s - spec.s || priority.q - spec.q || priority.o - spec.o) < 0) {\n      priority = spec;\n    }\n  }\n\n  return priority;\n}\n\n/**\n * Get the specificity of the language.\n * @private\n */\n\nfunction specify(language, spec, index) {\n  var p = parseLanguage(language)\n  if (!p) return null;\n  var s = 0;\n  if(spec.full.toLowerCase() === p.full.toLowerCase()){\n    s |= 4;\n  } else if (spec.prefix.toLowerCase() === p.full.toLowerCase()) {\n    s |= 2;\n  } else if (spec.full.toLowerCase() === p.prefix.toLowerCase()) {\n    s |= 1;\n  } else if (spec.full !== '*' ) {\n    return null\n  }\n\n  return {\n    i: index,\n    o: spec.i,\n    q: spec.q,\n    s: s\n  }\n};\n\n/**\n * Get the preferred languages from an Accept-Language header.\n * @public\n */\n\nfunction preferredLanguages(accept, provided) {\n  // RFC 2616 sec 14.4: no header = *\n  var accepts = parseAcceptLanguage(accept === undefined ? '*' : accept || '');\n\n  if (!provided) {\n    // sorted list of all languages\n    return accepts\n      .filter(isQuality)\n      .sort(compareSpecs)\n      .map(getFullLanguage);\n  }\n\n  var priorities = provided.map(function getPriority(type, index) {\n    return getLanguagePriority(type, accepts, index);\n  });\n\n  // sorted list of accepted languages\n  return priorities.filter(isQuality).sort(compareSpecs).map(function getLanguage(priority) {\n    return provided[priorities.indexOf(priority)];\n  });\n}\n\n/**\n * Compare two specs.\n * @private\n */\n\nfunction compareSpecs(a, b) {\n  return (b.q - a.q) || (b.s - a.s) || (a.o - b.o) || (a.i - b.i) || 0;\n}\n\n/**\n * Get full language string.\n * @private\n */\n\nfunction getFullLanguage(spec) {\n  return spec.full;\n}\n\n/**\n * Check if a spec has any quality.\n * @private\n */\n\nfunction isQuality(spec) {\n  return spec.q > 0;\n}\n","/**\n * negotiator\n * Copyright(c) 2012 Isaac Z. Schlueter\n * Copyright(c) 2014 Federico Romero\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = preferredMediaTypes;\nmodule.exports.preferredMediaTypes = preferredMediaTypes;\n\n/**\n * Module variables.\n * @private\n */\n\nvar simpleMediaTypeRegExp = /^\\s*([^\\s\\/;]+)\\/([^;\\s]+)\\s*(?:;(.*))?$/;\n\n/**\n * Parse the Accept header.\n * @private\n */\n\nfunction parseAccept(accept) {\n  var accepts = splitMediaTypes(accept);\n\n  for (var i = 0, j = 0; i < accepts.length; i++) {\n    var mediaType = parseMediaType(accepts[i].trim(), i);\n\n    if (mediaType) {\n      accepts[j++] = mediaType;\n    }\n  }\n\n  // trim accepts\n  accepts.length = j;\n\n  return accepts;\n}\n\n/**\n * Parse a media type from the Accept header.\n * @private\n */\n\nfunction parseMediaType(str, i) {\n  var match = simpleMediaTypeRegExp.exec(str);\n  if (!match) return null;\n\n  var params = Object.create(null);\n  var q = 1;\n  var subtype = match[2];\n  var type = match[1];\n\n  if (match[3]) {\n    var kvps = splitParameters(match[3]).map(splitKeyValuePair);\n\n    for (var j = 0; j < kvps.length; j++) {\n      var pair = kvps[j];\n      var key = pair[0].toLowerCase();\n      var val = pair[1];\n\n      // get the value, unwrapping quotes\n      var value = val && val[0] === '\"' && val[val.length - 1] === '\"'\n        ? val.substr(1, val.length - 2)\n        : val;\n\n      if (key === 'q') {\n        q = parseFloat(value);\n        break;\n      }\n\n      // store parameter\n      params[key] = value;\n    }\n  }\n\n  return {\n    type: type,\n    subtype: subtype,\n    params: params,\n    q: q,\n    i: i\n  };\n}\n\n/**\n * Get the priority of a media type.\n * @private\n */\n\nfunction getMediaTypePriority(type, accepted, index) {\n  var priority = {o: -1, q: 0, s: 0};\n\n  for (var i = 0; i < accepted.length; i++) {\n    var spec = specify(type, accepted[i], index);\n\n    if (spec && (priority.s - spec.s || priority.q - spec.q || priority.o - spec.o) < 0) {\n      priority = spec;\n    }\n  }\n\n  return priority;\n}\n\n/**\n * Get the specificity of the media type.\n * @private\n */\n\nfunction specify(type, spec, index) {\n  var p = parseMediaType(type);\n  var s = 0;\n\n  if (!p) {\n    return null;\n  }\n\n  if(spec.type.toLowerCase() == p.type.toLowerCase()) {\n    s |= 4\n  } else if(spec.type != '*') {\n    return null;\n  }\n\n  if(spec.subtype.toLowerCase() == p.subtype.toLowerCase()) {\n    s |= 2\n  } else if(spec.subtype != '*') {\n    return null;\n  }\n\n  var keys = Object.keys(spec.params);\n  if (keys.length > 0) {\n    if (keys.every(function (k) {\n      return spec.params[k] == '*' || (spec.params[k] || '').toLowerCase() == (p.params[k] || '').toLowerCase();\n    })) {\n      s |= 1\n    } else {\n      return null\n    }\n  }\n\n  return {\n    i: index,\n    o: spec.i,\n    q: spec.q,\n    s: s,\n  }\n}\n\n/**\n * Get the preferred media types from an Accept header.\n * @public\n */\n\nfunction preferredMediaTypes(accept, provided) {\n  // RFC 2616 sec 14.2: no header = */*\n  var accepts = parseAccept(accept === undefined ? '*/*' : accept || '');\n\n  if (!provided) {\n    // sorted list of all types\n    return accepts\n      .filter(isQuality)\n      .sort(compareSpecs)\n      .map(getFullType);\n  }\n\n  var priorities = provided.map(function getPriority(type, index) {\n    return getMediaTypePriority(type, accepts, index);\n  });\n\n  // sorted list of accepted types\n  return priorities.filter(isQuality).sort(compareSpecs).map(function getType(priority) {\n    return provided[priorities.indexOf(priority)];\n  });\n}\n\n/**\n * Compare two specs.\n * @private\n */\n\nfunction compareSpecs(a, b) {\n  return (b.q - a.q) || (b.s - a.s) || (a.o - b.o) || (a.i - b.i) || 0;\n}\n\n/**\n * Get full type string.\n * @private\n */\n\nfunction getFullType(spec) {\n  return spec.type + '/' + spec.subtype;\n}\n\n/**\n * Check if a spec has any quality.\n * @private\n */\n\nfunction isQuality(spec) {\n  return spec.q > 0;\n}\n\n/**\n * Count the number of quotes in a string.\n * @private\n */\n\nfunction quoteCount(string) {\n  var count = 0;\n  var index = 0;\n\n  while ((index = string.indexOf('\"', index)) !== -1) {\n    count++;\n    index++;\n  }\n\n  return count;\n}\n\n/**\n * Split a key value pair.\n * @private\n */\n\nfunction splitKeyValuePair(str) {\n  var index = str.indexOf('=');\n  var key;\n  var val;\n\n  if (index === -1) {\n    key = str;\n  } else {\n    key = str.substr(0, index);\n    val = str.substr(index + 1);\n  }\n\n  return [key, val];\n}\n\n/**\n * Split an Accept header into media types.\n * @private\n */\n\nfunction splitMediaTypes(accept) {\n  var accepts = accept.split(',');\n\n  for (var i = 1, j = 0; i < accepts.length; i++) {\n    if (quoteCount(accepts[j]) % 2 == 0) {\n      accepts[++j] = accepts[i];\n    } else {\n      accepts[j] += ',' + accepts[i];\n    }\n  }\n\n  // trim accepts\n  accepts.length = j + 1;\n\n  return accepts;\n}\n\n/**\n * Split a string of parameters.\n * @private\n */\n\nfunction splitParameters(str) {\n  var parameters = str.split(';');\n\n  for (var i = 1, j = 0; i < parameters.length; i++) {\n    if (quoteCount(parameters[j]) % 2 == 0) {\n      parameters[++j] = parameters[i];\n    } else {\n      parameters[j] += ';' + parameters[i];\n    }\n  }\n\n  // trim parameters\n  parameters.length = j + 1;\n\n  for (var i = 0; i < parameters.length; i++) {\n    parameters[i] = parameters[i].trim();\n  }\n\n  return parameters;\n}\n","/*!\n * on-finished\n * Copyright(c) 2013 Jonathan Ong\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = onFinished\nmodule.exports.isFinished = isFinished\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar first = require('ee-first')\n\n/**\n * Variables.\n * @private\n */\n\n/* istanbul ignore next */\nvar defer = typeof setImmediate === 'function'\n  ? setImmediate\n  : function(fn){ process.nextTick(fn.bind.apply(fn, arguments)) }\n\n/**\n * Invoke callback when the response has finished, useful for\n * cleaning up resources afterwards.\n *\n * @param {object} msg\n * @param {function} listener\n * @return {object}\n * @public\n */\n\nfunction onFinished(msg, listener) {\n  if (isFinished(msg) !== false) {\n    defer(listener, null, msg)\n    return msg\n  }\n\n  // attach the listener to the message\n  attachListener(msg, listener)\n\n  return msg\n}\n\n/**\n * Determine if message is already finished.\n *\n * @param {object} msg\n * @return {boolean}\n * @public\n */\n\nfunction isFinished(msg) {\n  var socket = msg.socket\n\n  if (typeof msg.finished === 'boolean') {\n    // OutgoingMessage\n    return Boolean(msg.finished || (socket && !socket.writable))\n  }\n\n  if (typeof msg.complete === 'boolean') {\n    // IncomingMessage\n    return Boolean(msg.upgrade || !socket || !socket.readable || (msg.complete && !msg.readable))\n  }\n\n  // don't know\n  return undefined\n}\n\n/**\n * Attach a finished listener to the message.\n *\n * @param {object} msg\n * @param {function} callback\n * @private\n */\n\nfunction attachFinishedListener(msg, callback) {\n  var eeMsg\n  var eeSocket\n  var finished = false\n\n  function onFinish(error) {\n    eeMsg.cancel()\n    eeSocket.cancel()\n\n    finished = true\n    callback(error)\n  }\n\n  // finished on first message event\n  eeMsg = eeSocket = first([[msg, 'end', 'finish']], onFinish)\n\n  function onSocket(socket) {\n    // remove listener\n    msg.removeListener('socket', onSocket)\n\n    if (finished) return\n    if (eeMsg !== eeSocket) return\n\n    // finished on first socket event\n    eeSocket = first([[socket, 'error', 'close']], onFinish)\n  }\n\n  if (msg.socket) {\n    // socket already assigned\n    onSocket(msg.socket)\n    return\n  }\n\n  // wait for socket to be assigned\n  msg.on('socket', onSocket)\n\n  if (msg.socket === undefined) {\n    // node.js 0.8 patch\n    patchAssignSocket(msg, onSocket)\n  }\n}\n\n/**\n * Attach the listener to the message.\n *\n * @param {object} msg\n * @return {function}\n * @private\n */\n\nfunction attachListener(msg, listener) {\n  var attached = msg.__onFinished\n\n  // create a private single listener with queue\n  if (!attached || !attached.queue) {\n    attached = msg.__onFinished = createListener(msg)\n    attachFinishedListener(msg, attached)\n  }\n\n  attached.queue.push(listener)\n}\n\n/**\n * Create listener on message.\n *\n * @param {object} msg\n * @return {function}\n * @private\n */\n\nfunction createListener(msg) {\n  function listener(err) {\n    if (msg.__onFinished === listener) msg.__onFinished = null\n    if (!listener.queue) return\n\n    var queue = listener.queue\n    listener.queue = null\n\n    for (var i = 0; i < queue.length; i++) {\n      queue[i](err, msg)\n    }\n  }\n\n  listener.queue = []\n\n  return listener\n}\n\n/**\n * Patch ServerResponse.prototype.assignSocket for node.js 0.8.\n *\n * @param {ServerResponse} res\n * @param {function} callback\n * @private\n */\n\nfunction patchAssignSocket(res, callback) {\n  var assignSocket = res.assignSocket\n\n  if (typeof assignSocket !== 'function') return\n\n  // res.on('socket', callback) is broken in 0.8\n  res.assignSocket = function _assignSocket(socket) {\n    assignSocket.call(this, socket)\n    callback(socket)\n  }\n}\n","\nmodule.exports = function(obj, keys){\n  obj = obj || {};\n  if ('string' == typeof keys) keys = keys.split(/ +/);\n  return keys.reduce(function(ret, key){\n    if (null == obj[key]) return ret;\n    ret[key] = obj[key];\n    return ret;\n  }, {});\n};\n","/*!\n * parseurl\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar url = require('url')\nvar parse = url.parse\nvar Url = url.Url\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = parseurl\nmodule.exports.original = originalurl\n\n/**\n * Parse the `req` url with memoization.\n *\n * @param {ServerRequest} req\n * @return {Object}\n * @public\n */\n\nfunction parseurl (req) {\n  var url = req.url\n\n  if (url === undefined) {\n    // URL is undefined\n    return undefined\n  }\n\n  var parsed = req._parsedUrl\n\n  if (fresh(url, parsed)) {\n    // Return cached URL parse\n    return parsed\n  }\n\n  // Parse the URL\n  parsed = fastparse(url)\n  parsed._raw = url\n\n  return (req._parsedUrl = parsed)\n};\n\n/**\n * Parse the `req` original url with fallback and memoization.\n *\n * @param {ServerRequest} req\n * @return {Object}\n * @public\n */\n\nfunction originalurl (req) {\n  var url = req.originalUrl\n\n  if (typeof url !== 'string') {\n    // Fallback\n    return parseurl(req)\n  }\n\n  var parsed = req._parsedOriginalUrl\n\n  if (fresh(url, parsed)) {\n    // Return cached URL parse\n    return parsed\n  }\n\n  // Parse the URL\n  parsed = fastparse(url)\n  parsed._raw = url\n\n  return (req._parsedOriginalUrl = parsed)\n};\n\n/**\n * Parse the `str` url with fast-path short-cut.\n *\n * @param {string} str\n * @return {Object}\n * @private\n */\n\nfunction fastparse (str) {\n  if (typeof str !== 'string' || str.charCodeAt(0) !== 0x2f /* / */) {\n    return parse(str)\n  }\n\n  var pathname = str\n  var query = null\n  var search = null\n\n  // This takes the regexp from https://github.com/joyent/node/pull/7878\n  // Which is /^(\\/[^?#\\s]*)(\\?[^#\\s]*)?$/\n  // And unrolls it into a for loop\n  for (var i = 1; i < str.length; i++) {\n    switch (str.charCodeAt(i)) {\n      case 0x3f: /* ?  */\n        if (search === null) {\n          pathname = str.substring(0, i)\n          query = str.substring(i + 1)\n          search = str.substring(i)\n        }\n        break\n      case 0x09: /* \\t */\n      case 0x0a: /* \\n */\n      case 0x0c: /* \\f */\n      case 0x0d: /* \\r */\n      case 0x20: /*    */\n      case 0x23: /* #  */\n      case 0xa0:\n      case 0xfeff:\n        return parse(str)\n    }\n  }\n\n  var url = Url !== undefined\n    ? new Url()\n    : {}\n\n  url.path = str\n  url.href = str\n  url.pathname = pathname\n\n  if (search !== null) {\n    url.query = query\n    url.search = search\n  }\n\n  return url\n}\n\n/**\n * Determine if parsed is still fresh for url.\n *\n * @param {string} url\n * @param {object} parsedUrl\n * @return {boolean}\n * @private\n */\n\nfunction fresh (url, parsedUrl) {\n  return typeof parsedUrl === 'object' &&\n    parsedUrl !== null &&\n    (Url === undefined || parsedUrl instanceof Url) &&\n    parsedUrl._raw === url\n}\n","'use strict';\n\nfunction posix(path) {\n\treturn path.charAt(0) === '/';\n}\n\nfunction win32(path) {\n\t// https://github.com/nodejs/node/blob/b3fcc245fb25539909ef1d5eaa01dbf92e168633/lib/path.js#L56\n\tvar splitDeviceRe = /^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?([\\s\\S]*?)$/;\n\tvar result = splitDeviceRe.exec(path);\n\tvar device = result[1] || '';\n\tvar isUnc = Boolean(device && device.charAt(1) !== ':');\n\n\t// UNC paths are always absolute\n\treturn Boolean(result[2] || isUnc);\n}\n\nmodule.exports = process.platform === 'win32' ? win32 : posix;\nmodule.exports.posix = posix;\nmodule.exports.win32 = win32;\n","var isarray = require('isarray')\n\n/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = options && options.delimiter || '/'\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      continue\n    }\n\n    var next = str[index]\n    var prefix = res[2]\n    var name = res[3]\n    var capture = res[4]\n    var group = res[5]\n    var modifier = res[6]\n    var asterisk = res[7]\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n    }\n\n    var partial = prefix != null && next != null && next !== prefix\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = res[2] || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      asterisk: !!asterisk,\n      pattern: pattern ? escapeGroup(pattern) : (asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?')\n    })\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index)\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path)\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options), options)\n}\n\n/**\n * Prettier encoding of URI path segments.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeURIComponentPretty (str) {\n  return encodeURI(str).replace(/[\\/?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeAsterisk (str) {\n  return encodeURI(str).replace(/[?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens, options) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$', flags(options))\n    }\n  }\n\n  return function (obj, opts) {\n    var path = ''\n    var data = obj || {}\n    var options = opts || {}\n    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n\n        continue\n      }\n\n      var value = data[token.name]\n      var segment\n\n      if (value == null) {\n        if (token.optional) {\n          // Prepend partial segment prefixes.\n          if (token.partial) {\n            path += token.prefix\n          }\n\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received `' + JSON.stringify(value) + '`')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j])\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received `' + JSON.stringify(segment) + '`')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      segment = token.asterisk ? encodeAsterisk(value) : encode(value)\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {!RegExp} re\n * @param  {Array}   keys\n * @return {!RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options && options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {!Array}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        asterisk: false,\n        pattern: null\n      })\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array}   keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options))\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {!Array}  keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}          tokens\n * @param  {(Array|Object)=} keys\n * @param  {Object=}         options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  var strict = options.strict\n  var end = options.end !== false\n  var route = ''\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var prefix = escapeString(token.prefix)\n      var capture = '(?:' + token.pattern + ')'\n\n      keys.push(token)\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*'\n      }\n\n      if (token.optional) {\n        if (!token.partial) {\n          capture = '(?:' + prefix + '(' + capture + '))?'\n        } else {\n          capture = prefix + '(' + capture + ')?'\n        }\n      } else {\n        capture = prefix + '(' + capture + ')'\n      }\n\n      route += capture\n    }\n  }\n\n  var delimiter = escapeString(options.delimiter || '/')\n  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?'\n  }\n\n  if (end) {\n    route += '$'\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)'\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys)\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {(Array|Object)=}       keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, /** @type {!Array} */ (keys))\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), /** @type {!Array} */ (keys), options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), /** @type {!Array} */ (keys), options)\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","/*!\n * resolve-path\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2018 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar createError = require('http-errors')\nvar join = require('path').join\nvar normalize = require('path').normalize\nvar pathIsAbsolute = require('path-is-absolute')\nvar resolve = require('path').resolve\nvar sep = require('path').sep\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = resolvePath\n\n/**\n * Module variables.\n * @private\n */\n\nvar UP_PATH_REGEXP = /(?:^|[\\\\/])\\.\\.(?:[\\\\/]|$)/\n\n/**\n * Resolve relative path against a root path\n *\n * @param {string} rootPath\n * @param {string} relativePath\n * @return {string}\n * @public\n */\n\nfunction resolvePath (rootPath, relativePath) {\n  var path = relativePath\n  var root = rootPath\n\n  // root is optional, similar to root.resolve\n  if (arguments.length === 1) {\n    path = rootPath\n    root = process.cwd()\n  }\n\n  if (root == null) {\n    throw new TypeError('argument rootPath is required')\n  }\n\n  if (typeof root !== 'string') {\n    throw new TypeError('argument rootPath must be a string')\n  }\n\n  if (path == null) {\n    throw new TypeError('argument relativePath is required')\n  }\n\n  if (typeof path !== 'string') {\n    throw new TypeError('argument relativePath must be a string')\n  }\n\n  // containing NULL bytes is malicious\n  if (path.indexOf('\\0') !== -1) {\n    throw createError(400, 'Malicious Path')\n  }\n\n  // path should never be absolute\n  if (pathIsAbsolute.posix(path) || pathIsAbsolute.win32(path)) {\n    throw createError(400, 'Malicious Path')\n  }\n\n  // path outside root\n  if (UP_PATH_REGEXP.test(normalize('.' + sep + path))) {\n    throw createError(403)\n  }\n\n  // join the relative path\n  return normalize(join(resolve(root), path))\n}\n","/*!\n * http-errors\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar deprecate = require('depd')('http-errors')\nvar setPrototypeOf = require('setprototypeof')\nvar statuses = require('statuses')\nvar inherits = require('inherits')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = createError\nmodule.exports.HttpError = createHttpErrorConstructor()\n\n// Populate exports for all constructors\npopulateConstructorExports(module.exports, statuses.codes, module.exports.HttpError)\n\n/**\n * Get the code class of a status code.\n * @private\n */\n\nfunction codeClass (status) {\n  return Number(String(status).charAt(0) + '00')\n}\n\n/**\n * Create a new HTTP Error.\n *\n * @returns {Error}\n * @public\n */\n\nfunction createError () {\n  // so much arity going on ~_~\n  var err\n  var msg\n  var status = 500\n  var props = {}\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = arguments[i]\n    if (arg instanceof Error) {\n      err = arg\n      status = err.status || err.statusCode || status\n      continue\n    }\n    switch (typeof arg) {\n      case 'string':\n        msg = arg\n        break\n      case 'number':\n        status = arg\n        if (i !== 0) {\n          deprecate('non-first-argument status code; replace with createError(' + arg + ', ...)')\n        }\n        break\n      case 'object':\n        props = arg\n        break\n    }\n  }\n\n  if (typeof status === 'number' && (status < 400 || status >= 600)) {\n    deprecate('non-error status code; use only 4xx or 5xx status codes')\n  }\n\n  if (typeof status !== 'number' ||\n    (!statuses[status] && (status < 400 || status >= 600))) {\n    status = 500\n  }\n\n  // constructor\n  var HttpError = createError[status] || createError[codeClass(status)]\n\n  if (!err) {\n    // create error\n    err = HttpError\n      ? new HttpError(msg)\n      : new Error(msg || statuses[status])\n    Error.captureStackTrace(err, createError)\n  }\n\n  if (!HttpError || !(err instanceof HttpError) || err.status !== status) {\n    // add properties to generic error\n    err.expose = status < 500\n    err.status = err.statusCode = status\n  }\n\n  for (var key in props) {\n    if (key !== 'status' && key !== 'statusCode') {\n      err[key] = props[key]\n    }\n  }\n\n  return err\n}\n\n/**\n * Create HTTP error abstract base class.\n * @private\n */\n\nfunction createHttpErrorConstructor () {\n  function HttpError () {\n    throw new TypeError('cannot construct abstract class')\n  }\n\n  inherits(HttpError, Error)\n\n  return HttpError\n}\n\n/**\n * Create a constructor for a client error.\n * @private\n */\n\nfunction createClientErrorConstructor (HttpError, name, code) {\n  var className = name.match(/Error$/) ? name : name + 'Error'\n\n  function ClientError (message) {\n    // create the error object\n    var msg = message != null ? message : statuses[code]\n    var err = new Error(msg)\n\n    // capture a stack trace to the construction point\n    Error.captureStackTrace(err, ClientError)\n\n    // adjust the [[Prototype]]\n    setPrototypeOf(err, ClientError.prototype)\n\n    // redefine the error message\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    })\n\n    // redefine the error name\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    return err\n  }\n\n  inherits(ClientError, HttpError)\n\n  ClientError.prototype.status = code\n  ClientError.prototype.statusCode = code\n  ClientError.prototype.expose = true\n\n  return ClientError\n}\n\n/**\n * Create a constructor for a server error.\n * @private\n */\n\nfunction createServerErrorConstructor (HttpError, name, code) {\n  var className = name.match(/Error$/) ? name : name + 'Error'\n\n  function ServerError (message) {\n    // create the error object\n    var msg = message != null ? message : statuses[code]\n    var err = new Error(msg)\n\n    // capture a stack trace to the construction point\n    Error.captureStackTrace(err, ServerError)\n\n    // adjust the [[Prototype]]\n    setPrototypeOf(err, ServerError.prototype)\n\n    // redefine the error message\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    })\n\n    // redefine the error name\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    return err\n  }\n\n  inherits(ServerError, HttpError)\n\n  ServerError.prototype.status = code\n  ServerError.prototype.statusCode = code\n  ServerError.prototype.expose = false\n\n  return ServerError\n}\n\n/**\n * Populate the exports object with constructors for every error class.\n * @private\n */\n\nfunction populateConstructorExports (exports, codes, HttpError) {\n  codes.forEach(function forEachCode (code) {\n    var CodeError\n    var name = toIdentifier(statuses[code])\n\n    switch (codeClass(code)) {\n      case 400:\n        CodeError = createClientErrorConstructor(HttpError, name, code)\n        break\n      case 500:\n        CodeError = createServerErrorConstructor(HttpError, name, code)\n        break\n    }\n\n    if (CodeError) {\n      // export the constructor\n      exports[code] = CodeError\n      exports[name] = CodeError\n    }\n  })\n\n  // backwards-compatibility\n  exports[\"I'mateapot\"] = deprecate.function(exports.ImATeapot,\n    '\"I\\'mateapot\"; use \"ImATeapot\" instead')\n}\n\n/**\n * Convert a string of words to a JavaScript identifier.\n * @private\n */\n\nfunction toIdentifier (str) {\n  return str.split(' ').map(function (token) {\n    return token.slice(0, 1).toUpperCase() + token.slice(1)\n  }).join('').replace(/[^ _0-9a-z]/gi, '')\n}\n","try {\n  var util = require('util');\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  module.exports = require('./inherits_browser.js');\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","module.exports = Object.setPrototypeOf || ({__proto__:[]} instanceof Array ? setProtoOf : mixinProperties);\n\nfunction setProtoOf(obj, proto) {\n\tobj.__proto__ = proto;\n\treturn obj;\n}\n\nfunction mixinProperties(obj, proto) {\n\tfor (var prop in proto) {\n\t\tif (!obj.hasOwnProperty(prop)) {\n\t\t\tobj[prop] = proto[prop];\n\t\t}\n\t}\n\treturn obj;\n}\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","'use strict'\n/* eslint no-proto: 0 */\nmodule.exports = Object.setPrototypeOf || ({ __proto__: [] } instanceof Array ? setProtoOf : mixinProperties)\n\nfunction setProtoOf (obj, proto) {\n  obj.__proto__ = proto\n  return obj\n}\n\nfunction mixinProperties (obj, proto) {\n  for (var prop in proto) {\n    if (!obj.hasOwnProperty(prop)) {\n      obj[prop] = proto[prop]\n    }\n  }\n  return obj\n}\n","/*!\n * statuses\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar codes = require('./codes.json')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = status\n\n// status code to message map\nstatus.STATUS_CODES = codes\n\n// array of status codes\nstatus.codes = populateStatusesMap(status, codes)\n\n// status codes for redirects\nstatus.redirect = {\n  300: true,\n  301: true,\n  302: true,\n  303: true,\n  305: true,\n  307: true,\n  308: true\n}\n\n// status codes for empty bodies\nstatus.empty = {\n  204: true,\n  205: true,\n  304: true\n}\n\n// status codes for when you should retry the request\nstatus.retry = {\n  502: true,\n  503: true,\n  504: true\n}\n\n/**\n * Populate the statuses map for given codes.\n * @private\n */\n\nfunction populateStatusesMap (statuses, codes) {\n  var arr = []\n\n  Object.keys(codes).forEach(function forEachCode (code) {\n    var message = codes[code]\n    var status = Number(code)\n\n    // Populate properties\n    statuses[status] = message\n    statuses[message] = status\n    statuses[message.toLowerCase()] = status\n\n    // Add to array\n    arr.push(status)\n  })\n\n  return arr\n}\n\n/**\n * Get the status code.\n *\n * Given a number, this will throw if it is not a known status\n * code, otherwise the code will be returned. Given a string,\n * the string will be parsed for a number and return the code\n * if valid, otherwise will lookup the code assuming this is\n * the status message.\n *\n * @param {string|number} code\n * @returns {number}\n * @public\n */\n\nfunction status (code) {\n  if (typeof code === 'number') {\n    if (!status[code]) throw new Error('invalid status code: ' + code)\n    return code\n  }\n\n  if (typeof code !== 'string') {\n    throw new TypeError('code must be a number or string')\n  }\n\n  // '403'\n  var n = parseInt(code, 10)\n  if (!isNaN(n)) {\n    if (!status[n]) throw new Error('invalid status code: ' + n)\n    return n\n  }\n\n  n = status[code.toLowerCase()]\n  if (!n) throw new Error('invalid status message: \"' + code + '\"')\n  return n\n}\n","'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n","\nvar thenify = require('thenify')\n\nmodule.exports = thenifyAll\nthenifyAll.withCallback = withCallback\nthenifyAll.thenify = thenify\n\n/**\n * Promisifies all the selected functions in an object.\n *\n * @param {Object} source the source object for the async functions\n * @param {Object} [destination] the destination to set all the promisified methods\n * @param {Array} [methods] an array of method names of `source`\n * @return {Object}\n * @api public\n */\n\nfunction thenifyAll(source, destination, methods) {\n  return promisifyAll(source, destination, methods, thenify)\n}\n\n/**\n * Promisifies all the selected functions in an object and backward compatible with callback.\n *\n * @param {Object} source the source object for the async functions\n * @param {Object} [destination] the destination to set all the promisified methods\n * @param {Array} [methods] an array of method names of `source`\n * @return {Object}\n * @api public\n */\n\nfunction withCallback(source, destination, methods) {\n  return promisifyAll(source, destination, methods, thenify.withCallback)\n}\n\nfunction promisifyAll(source, destination, methods, promisify) {\n  if (!destination) {\n    destination = {};\n    methods = Object.keys(source)\n  }\n\n  if (Array.isArray(destination)) {\n    methods = destination\n    destination = {}\n  }\n\n  if (!methods) {\n    methods = Object.keys(source)\n  }\n\n  if (typeof source === 'function') destination = promisify(source)\n\n  methods.forEach(function (name) {\n    // promisify only if it's a function\n    if (typeof source[name] === 'function') destination[name] = promisify(source[name])\n  })\n\n  // proxy the rest\n  Object.keys(source).forEach(function (name) {\n    if (deprecated(source, name)) return\n    if (destination[name]) return\n    destination[name] = source[name]\n  })\n\n  return destination\n}\n\nfunction deprecated(source, name) {\n  var desc = Object.getOwnPropertyDescriptor(source, name)\n  if (!desc || !desc.get) return false\n  if (desc.get.name === 'deprecated') return true\n  return false\n}\n","\nvar Promise = require('any-promise')\nvar assert = require('assert')\n\nmodule.exports = thenify\n\n/**\n * Turn async functions into promises\n *\n * @param {Function} $$__fn__$$\n * @return {Function}\n * @api public\n */\n\nfunction thenify($$__fn__$$, options) {\n  assert(typeof $$__fn__$$ === 'function')\n  return eval(createWrapper($$__fn__$$.name, options))\n}\n\n/**\n * Turn async functions into promises and backward compatible with callback\n *\n * @param {Function} $$__fn__$$\n * @return {Function}\n * @api public\n */\n\nthenify.withCallback = function ($$__fn__$$, options) {\n  assert(typeof $$__fn__$$ === 'function')\n  options = options || {}\n  options.withCallback = true\n  if (options.multiArgs === undefined) options.multiArgs = true\n  return eval(createWrapper($$__fn__$$.name, options))\n}\n\nfunction createCallback(resolve, reject, multiArgs) {\n  return function(err, value) {\n    if (err) return reject(err)\n    var length = arguments.length\n\n    if (length <= 2 || !multiArgs) return resolve(value)\n\n    if (Array.isArray(multiArgs)) {\n      var values = {}\n      for (var i = 1; i < length; i++) values[multiArgs[i - 1]] = arguments[i]\n      return resolve(values)\n    }\n\n    var values = new Array(length - 1)\n    for (var i = 1; i < length; ++i) values[i - 1] = arguments[i]\n    resolve(values)\n  }\n}\n\nfunction createWrapper(name, options) {\n  name = (name || '').replace(/\\s|bound(?!$)/g, '')\n  options = options || {}\n  // default to true\n  var multiArgs = options.multiArgs !== undefined ? options.multiArgs : true\n  multiArgs = 'var multiArgs = ' + JSON.stringify(multiArgs) + '\\n'\n\n  var withCallback = options.withCallback ?\n    'var lastType = typeof arguments[len - 1]\\n'\n    + 'if (lastType === \"function\") return $$__fn__$$.apply(self, arguments)\\n'\n   : ''\n\n  return '(function ' + name + '() {\\n'\n    + 'var self = this\\n'\n    + 'var len = arguments.length\\n'\n    + multiArgs\n    + withCallback\n    + 'var args = new Array(len + 1)\\n'\n    + 'for (var i = 0; i < len; ++i) args[i] = arguments[i]\\n'\n    + 'var lastIndex = i\\n'\n    + 'return new Promise(function (resolve, reject) {\\n'\n      + 'args[lastIndex] = createCallback(resolve, reject, multiArgs)\\n'\n      + '$$__fn__$$.apply(self, args)\\n'\n    + '})\\n'\n  + '})'\n}\n","/*!\n * toidentifier\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = toIdentifier\n\n/**\n * Trasform the given string into a JavaScript identifier\n *\n * @param {string} str\n * @returns {string}\n * @public\n */\n\nfunction toIdentifier (str) {\n  return str\n    .split(' ')\n    .map(function (token) {\n      return token.slice(0, 1).toUpperCase() + token.slice(1)\n    })\n    .join('')\n    .replace(/[^ _0-9a-z]/gi, '')\n}\n","'use strict';\r\n\r\n// Implements Brad Hill's Double HMAC pattern from\r\n// https://www.nccgroup.trust/us/about-us/newsroom-and-events/blog/2011/february/double-hmac-verification/.\r\n// The approach is similar to the node's native implementation of timing safe buffer comparison that will be available on v6+.\r\n// https://github.com/nodejs/node/issues/3043\r\n// https://github.com/nodejs/node/pull/3073\r\n\r\nvar crypto = require('crypto');\r\n\r\nfunction bufferEqual(a, b) {\r\n  if (a.length !== b.length) {\r\n    return false;\r\n  }\r\n  // `crypto.timingSafeEqual` was introduced in Node v6.6.0\r\n  // <https://github.com/jshttp/basic-auth/issues/39>\r\n  if (crypto.timingSafeEqual) {\r\n    return crypto.timingSafeEqual(a, b);\r\n  }\r\n  for (var i = 0; i < a.length; i++) {\r\n    if (a[i] !== b[i]) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction timeSafeCompare(a, b) {\r\n  var sa = String(a);\r\n  var sb = String(b);\r\n  var key = crypto.pseudoRandomBytes(32);\r\n  var ah = crypto.createHmac('sha256', key).update(sa).digest();\r\n  var bh = crypto.createHmac('sha256', key).update(sb).digest();\r\n\r\n  return bufferEqual(ah, bh) && a === b;\r\n}\r\n\r\nmodule.exports = timeSafeCompare;\r\n","/*!\n * type-is\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar typer = require('media-typer')\nvar mime = require('mime-types')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = typeofrequest\nmodule.exports.is = typeis\nmodule.exports.hasBody = hasbody\nmodule.exports.normalize = normalize\nmodule.exports.match = mimeMatch\n\n/**\n * Compare a `value` content-type with `types`.\n * Each `type` can be an extension like `html`,\n * a special shortcut like `multipart` or `urlencoded`,\n * or a mime type.\n *\n * If no types match, `false` is returned.\n * Otherwise, the first `type` that matches is returned.\n *\n * @param {String} value\n * @param {Array} types\n * @public\n */\n\nfunction typeis (value, types_) {\n  var i\n  var types = types_\n\n  // remove parameters and normalize\n  var val = tryNormalizeType(value)\n\n  // no type or invalid\n  if (!val) {\n    return false\n  }\n\n  // support flattened arguments\n  if (types && !Array.isArray(types)) {\n    types = new Array(arguments.length - 1)\n    for (i = 0; i < types.length; i++) {\n      types[i] = arguments[i + 1]\n    }\n  }\n\n  // no types, return the content type\n  if (!types || !types.length) {\n    return val\n  }\n\n  var type\n  for (i = 0; i < types.length; i++) {\n    if (mimeMatch(normalize(type = types[i]), val)) {\n      return type[0] === '+' || type.indexOf('*') !== -1\n        ? val\n        : type\n    }\n  }\n\n  // no matches\n  return false\n}\n\n/**\n * Check if a request has a request body.\n * A request with a body __must__ either have `transfer-encoding`\n * or `content-length` headers set.\n * http://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.3\n *\n * @param {Object} request\n * @return {Boolean}\n * @public\n */\n\nfunction hasbody (req) {\n  return req.headers['transfer-encoding'] !== undefined ||\n    !isNaN(req.headers['content-length'])\n}\n\n/**\n * Check if the incoming request contains the \"Content-Type\"\n * header field, and it contains any of the give mime `type`s.\n * If there is no request body, `null` is returned.\n * If there is no content type, `false` is returned.\n * Otherwise, it returns the first `type` that matches.\n *\n * Examples:\n *\n *     // With Content-Type: text/html; charset=utf-8\n *     this.is('html'); // => 'html'\n *     this.is('text/html'); // => 'text/html'\n *     this.is('text/*', 'application/json'); // => 'text/html'\n *\n *     // When Content-Type is application/json\n *     this.is('json', 'urlencoded'); // => 'json'\n *     this.is('application/json'); // => 'application/json'\n *     this.is('html', 'application/*'); // => 'application/json'\n *\n *     this.is('html'); // => false\n *\n * @param {String|Array} types...\n * @return {String|false|null}\n * @public\n */\n\nfunction typeofrequest (req, types_) {\n  var types = types_\n\n  // no body\n  if (!hasbody(req)) {\n    return null\n  }\n\n  // support flattened arguments\n  if (arguments.length > 2) {\n    types = new Array(arguments.length - 1)\n    for (var i = 0; i < types.length; i++) {\n      types[i] = arguments[i + 1]\n    }\n  }\n\n  // request content type\n  var value = req.headers['content-type']\n\n  return typeis(value, types)\n}\n\n/**\n * Normalize a mime type.\n * If it's a shorthand, expand it to a valid mime type.\n *\n * In general, you probably want:\n *\n *   var type = is(req, ['urlencoded', 'json', 'multipart']);\n *\n * Then use the appropriate body parsers.\n * These three are the most common request body types\n * and are thus ensured to work.\n *\n * @param {String} type\n * @private\n */\n\nfunction normalize (type) {\n  if (typeof type !== 'string') {\n    // invalid type\n    return false\n  }\n\n  switch (type) {\n    case 'urlencoded':\n      return 'application/x-www-form-urlencoded'\n    case 'multipart':\n      return 'multipart/*'\n  }\n\n  if (type[0] === '+') {\n    // \"+json\" -> \"*/*+json\" expando\n    return '*/*' + type\n  }\n\n  return type.indexOf('/') === -1\n    ? mime.lookup(type)\n    : type\n}\n\n/**\n * Check if `expected` mime type\n * matches `actual` mime type with\n * wildcard and +suffix support.\n *\n * @param {String} expected\n * @param {String} actual\n * @return {Boolean}\n * @private\n */\n\nfunction mimeMatch (expected, actual) {\n  // invalid type\n  if (expected === false) {\n    return false\n  }\n\n  // split types\n  var actualParts = actual.split('/')\n  var expectedParts = expected.split('/')\n\n  // invalid format\n  if (actualParts.length !== 2 || expectedParts.length !== 2) {\n    return false\n  }\n\n  // validate type\n  if (expectedParts[0] !== '*' && expectedParts[0] !== actualParts[0]) {\n    return false\n  }\n\n  // validate suffix wildcard\n  if (expectedParts[1].substr(0, 2) === '*+') {\n    return expectedParts[1].length <= actualParts[1].length + 1 &&\n      expectedParts[1].substr(1) === actualParts[1].substr(1 - expectedParts[1].length)\n  }\n\n  // validate subtype\n  if (expectedParts[1] !== '*' && expectedParts[1] !== actualParts[1]) {\n    return false\n  }\n\n  return true\n}\n\n/**\n * Normalize a type and remove parameters.\n *\n * @param {string} value\n * @return {string}\n * @private\n */\n\nfunction normalizeType (value) {\n  // parse the type\n  var type = typer.parse(value)\n\n  // remove the parameters\n  type.parameters = undefined\n\n  // reformat it\n  return typer.format(type)\n}\n\n/**\n * Try to normalize a type and remove parameters.\n *\n * @param {string} value\n * @return {string}\n * @private\n */\n\nfunction tryNormalizeType (value) {\n  if (!value) {\n    return null\n  }\n\n  try {\n    return normalizeType(value)\n  } catch (err) {\n    return null\n  }\n}\n","/*!\n * URI.js - Mutating URLs\n * IPv6 Support\n *\n * Version: 1.19.2\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n */\n\n(function (root, factory) {\n  'use strict';\n  // https://github.com/umdjs/umd/blob/master/returnExports.js\n  if (typeof module === 'object' && module.exports) {\n    // Node\n    module.exports = factory();\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(factory);\n  } else {\n    // Browser globals (root is window)\n    root.IPv6 = factory(root);\n  }\n}(this, function (root) {\n  'use strict';\n\n  /*\n  var _in = \"fe80:0000:0000:0000:0204:61ff:fe9d:f156\";\n  var _out = IPv6.best(_in);\n  var _expected = \"fe80::204:61ff:fe9d:f156\";\n\n  console.log(_in, _out, _expected, _out === _expected);\n  */\n\n  // save current IPv6 variable, if any\n  var _IPv6 = root && root.IPv6;\n\n  function bestPresentation(address) {\n    // based on:\n    // Javascript to test an IPv6 address for proper format, and to\n    // present the \"best text representation\" according to IETF Draft RFC at\n    // http://tools.ietf.org/html/draft-ietf-6man-text-addr-representation-04\n    // 8 Feb 2010 Rich Brown, Dartware, LLC\n    // Please feel free to use this code as long as you provide a link to\n    // http://www.intermapper.com\n    // http://intermapper.com/support/tools/IPV6-Validator.aspx\n    // http://download.dartware.com/thirdparty/ipv6validator.js\n\n    var _address = address.toLowerCase();\n    var segments = _address.split(':');\n    var length = segments.length;\n    var total = 8;\n\n    // trim colons (:: or ::a:b:c or a:b:c::)\n    if (segments[0] === '' && segments[1] === '' && segments[2] === '') {\n      // must have been ::\n      // remove first two items\n      segments.shift();\n      segments.shift();\n    } else if (segments[0] === '' && segments[1] === '') {\n      // must have been ::xxxx\n      // remove the first item\n      segments.shift();\n    } else if (segments[length - 1] === '' && segments[length - 2] === '') {\n      // must have been xxxx::\n      segments.pop();\n    }\n\n    length = segments.length;\n\n    // adjust total segments for IPv4 trailer\n    if (segments[length - 1].indexOf('.') !== -1) {\n      // found a \".\" which means IPv4\n      total = 7;\n    }\n\n    // fill empty segments them with \"0000\"\n    var pos;\n    for (pos = 0; pos < length; pos++) {\n      if (segments[pos] === '') {\n        break;\n      }\n    }\n\n    if (pos < total) {\n      segments.splice(pos, 1, '0000');\n      while (segments.length < total) {\n        segments.splice(pos, 0, '0000');\n      }\n    }\n\n    // strip leading zeros\n    var _segments;\n    for (var i = 0; i < total; i++) {\n      _segments = segments[i].split('');\n      for (var j = 0; j < 3 ; j++) {\n        if (_segments[0] === '0' && _segments.length > 1) {\n          _segments.splice(0,1);\n        } else {\n          break;\n        }\n      }\n\n      segments[i] = _segments.join('');\n    }\n\n    // find longest sequence of zeroes and coalesce them into one segment\n    var best = -1;\n    var _best = 0;\n    var _current = 0;\n    var current = -1;\n    var inzeroes = false;\n    // i; already declared\n\n    for (i = 0; i < total; i++) {\n      if (inzeroes) {\n        if (segments[i] === '0') {\n          _current += 1;\n        } else {\n          inzeroes = false;\n          if (_current > _best) {\n            best = current;\n            _best = _current;\n          }\n        }\n      } else {\n        if (segments[i] === '0') {\n          inzeroes = true;\n          current = i;\n          _current = 1;\n        }\n      }\n    }\n\n    if (_current > _best) {\n      best = current;\n      _best = _current;\n    }\n\n    if (_best > 1) {\n      segments.splice(best, _best, '');\n    }\n\n    length = segments.length;\n\n    // assemble remaining segments\n    var result = '';\n    if (segments[0] === '')  {\n      result = ':';\n    }\n\n    for (i = 0; i < length; i++) {\n      result += segments[i];\n      if (i === length - 1) {\n        break;\n      }\n\n      result += ':';\n    }\n\n    if (segments[length - 1] === '') {\n      result += ':';\n    }\n\n    return result;\n  }\n\n  function noConflict() {\n    /*jshint validthis: true */\n    if (root.IPv6 === this) {\n      root.IPv6 = _IPv6;\n    }\n\n    return this;\n  }\n\n  return {\n    best: bestPresentation,\n    noConflict: noConflict\n  };\n}));\n","/*!\n * URI.js - Mutating URLs\n * Second Level Domain (SLD) Support\n *\n * Version: 1.19.2\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n */\n\n(function (root, factory) {\n  'use strict';\n  // https://github.com/umdjs/umd/blob/master/returnExports.js\n  if (typeof module === 'object' && module.exports) {\n    // Node\n    module.exports = factory();\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(factory);\n  } else {\n    // Browser globals (root is window)\n    root.SecondLevelDomains = factory(root);\n  }\n}(this, function (root) {\n  'use strict';\n\n  // save current SecondLevelDomains variable, if any\n  var _SecondLevelDomains = root && root.SecondLevelDomains;\n\n  var SLD = {\n    // list of known Second Level Domains\n    // converted list of SLDs from https://github.com/gavingmiller/second-level-domains\n    // ----\n    // publicsuffix.org is more current and actually used by a couple of browsers internally.\n    // downside is it also contains domains like \"dyndns.org\" - which is fine for the security\n    // issues browser have to deal with (SOP for cookies, etc) - but is way overboard for URI.js\n    // ----\n    list: {\n      'ac':' com gov mil net org ',\n      'ae':' ac co gov mil name net org pro sch ',\n      'af':' com edu gov net org ',\n      'al':' com edu gov mil net org ',\n      'ao':' co ed gv it og pb ',\n      'ar':' com edu gob gov int mil net org tur ',\n      'at':' ac co gv or ',\n      'au':' asn com csiro edu gov id net org ',\n      'ba':' co com edu gov mil net org rs unbi unmo unsa untz unze ',\n      'bb':' biz co com edu gov info net org store tv ',\n      'bh':' biz cc com edu gov info net org ',\n      'bn':' com edu gov net org ',\n      'bo':' com edu gob gov int mil net org tv ',\n      'br':' adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ',\n      'bs':' com edu gov net org ',\n      'bz':' du et om ov rg ',\n      'ca':' ab bc mb nb nf nl ns nt nu on pe qc sk yk ',\n      'ck':' biz co edu gen gov info net org ',\n      'cn':' ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ',\n      'co':' com edu gov mil net nom org ',\n      'cr':' ac c co ed fi go or sa ',\n      'cy':' ac biz com ekloges gov ltd name net org parliament press pro tm ',\n      'do':' art com edu gob gov mil net org sld web ',\n      'dz':' art asso com edu gov net org pol ',\n      'ec':' com edu fin gov info med mil net org pro ',\n      'eg':' com edu eun gov mil name net org sci ',\n      'er':' com edu gov ind mil net org rochest w ',\n      'es':' com edu gob nom org ',\n      'et':' biz com edu gov info name net org ',\n      'fj':' ac biz com info mil name net org pro ',\n      'fk':' ac co gov net nom org ',\n      'fr':' asso com f gouv nom prd presse tm ',\n      'gg':' co net org ',\n      'gh':' com edu gov mil org ',\n      'gn':' ac com gov net org ',\n      'gr':' com edu gov mil net org ',\n      'gt':' com edu gob ind mil net org ',\n      'gu':' com edu gov net org ',\n      'hk':' com edu gov idv net org ',\n      'hu':' 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ',\n      'id':' ac co go mil net or sch web ',\n      'il':' ac co gov idf k12 muni net org ',\n      'in':' ac co edu ernet firm gen gov i ind mil net nic org res ',\n      'iq':' com edu gov i mil net org ',\n      'ir':' ac co dnssec gov i id net org sch ',\n      'it':' edu gov ',\n      'je':' co net org ',\n      'jo':' com edu gov mil name net org sch ',\n      'jp':' ac ad co ed go gr lg ne or ',\n      'ke':' ac co go info me mobi ne or sc ',\n      'kh':' com edu gov mil net org per ',\n      'ki':' biz com de edu gov info mob net org tel ',\n      'km':' asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ',\n      'kn':' edu gov net org ',\n      'kr':' ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ',\n      'kw':' com edu gov net org ',\n      'ky':' com edu gov net org ',\n      'kz':' com edu gov mil net org ',\n      'lb':' com edu gov net org ',\n      'lk':' assn com edu gov grp hotel int ltd net ngo org sch soc web ',\n      'lr':' com edu gov net org ',\n      'lv':' asn com conf edu gov id mil net org ',\n      'ly':' com edu gov id med net org plc sch ',\n      'ma':' ac co gov m net org press ',\n      'mc':' asso tm ',\n      'me':' ac co edu gov its net org priv ',\n      'mg':' com edu gov mil nom org prd tm ',\n      'mk':' com edu gov inf name net org pro ',\n      'ml':' com edu gov net org presse ',\n      'mn':' edu gov org ',\n      'mo':' com edu gov net org ',\n      'mt':' com edu gov net org ',\n      'mv':' aero biz com coop edu gov info int mil museum name net org pro ',\n      'mw':' ac co com coop edu gov int museum net org ',\n      'mx':' com edu gob net org ',\n      'my':' com edu gov mil name net org sch ',\n      'nf':' arts com firm info net other per rec store web ',\n      'ng':' biz com edu gov mil mobi name net org sch ',\n      'ni':' ac co com edu gob mil net nom org ',\n      'np':' com edu gov mil net org ',\n      'nr':' biz com edu gov info net org ',\n      'om':' ac biz co com edu gov med mil museum net org pro sch ',\n      'pe':' com edu gob mil net nom org sld ',\n      'ph':' com edu gov i mil net ngo org ',\n      'pk':' biz com edu fam gob gok gon gop gos gov net org web ',\n      'pl':' art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ',\n      'pr':' ac biz com edu est gov info isla name net org pro prof ',\n      'ps':' com edu gov net org plo sec ',\n      'pw':' belau co ed go ne or ',\n      'ro':' arts com firm info nom nt org rec store tm www ',\n      'rs':' ac co edu gov in org ',\n      'sb':' com edu gov net org ',\n      'sc':' com edu gov net org ',\n      'sh':' co com edu gov net nom org ',\n      'sl':' com edu gov net org ',\n      'st':' co com consulado edu embaixada gov mil net org principe saotome store ',\n      'sv':' com edu gob org red ',\n      'sz':' ac co org ',\n      'tr':' av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ',\n      'tt':' aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ',\n      'tw':' club com ebiz edu game gov idv mil net org ',\n      'mu':' ac co com gov net or org ',\n      'mz':' ac co edu gov org ',\n      'na':' co com ',\n      'nz':' ac co cri geek gen govt health iwi maori mil net org parliament school ',\n      'pa':' abo ac com edu gob ing med net nom org sld ',\n      'pt':' com edu gov int net nome org publ ',\n      'py':' com edu gov mil net org ',\n      'qa':' com edu gov mil net org ',\n      're':' asso com nom ',\n      'ru':' ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ',\n      'rw':' ac co com edu gouv gov int mil net ',\n      'sa':' com edu gov med net org pub sch ',\n      'sd':' com edu gov info med net org tv ',\n      'se':' a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ',\n      'sg':' com edu gov idn net org per ',\n      'sn':' art com edu gouv org perso univ ',\n      'sy':' com edu gov mil net news org ',\n      'th':' ac co go in mi net or ',\n      'tj':' ac biz co com edu go gov info int mil name net nic org test web ',\n      'tn':' agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ',\n      'tz':' ac co go ne or ',\n      'ua':' biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ',\n      'ug':' ac co go ne or org sc ',\n      'uk':' ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ',\n      'us':' dni fed isa kids nsn ',\n      'uy':' com edu gub mil net org ',\n      've':' co com edu gob info mil net org web ',\n      'vi':' co com k12 net org ',\n      'vn':' ac biz com edu gov health info int name net org pro ',\n      'ye':' co com gov ltd me net org plc ',\n      'yu':' ac co edu gov org ',\n      'za':' ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ',\n      'zm':' ac co com edu gov net org sch ',\n      // https://en.wikipedia.org/wiki/CentralNic#Second-level_domains\n      'com': 'ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ',\n      'net': 'gb jp se uk ',\n      'org': 'ae',\n      'de': 'com '\n    },\n    // gorhill 2013-10-25: Using indexOf() instead Regexp(). Significant boost\n    // in both performance and memory footprint. No initialization required.\n    // http://jsperf.com/uri-js-sld-regex-vs-binary-search/4\n    // Following methods use lastIndexOf() rather than array.split() in order\n    // to avoid any memory allocations.\n    has: function(domain) {\n      var tldOffset = domain.lastIndexOf('.');\n      if (tldOffset <= 0 || tldOffset >= (domain.length-1)) {\n        return false;\n      }\n      var sldOffset = domain.lastIndexOf('.', tldOffset-1);\n      if (sldOffset <= 0 || sldOffset >= (tldOffset-1)) {\n        return false;\n      }\n      var sldList = SLD.list[domain.slice(tldOffset+1)];\n      if (!sldList) {\n        return false;\n      }\n      return sldList.indexOf(' ' + domain.slice(sldOffset+1, tldOffset) + ' ') >= 0;\n    },\n    is: function(domain) {\n      var tldOffset = domain.lastIndexOf('.');\n      if (tldOffset <= 0 || tldOffset >= (domain.length-1)) {\n        return false;\n      }\n      var sldOffset = domain.lastIndexOf('.', tldOffset-1);\n      if (sldOffset >= 0) {\n        return false;\n      }\n      var sldList = SLD.list[domain.slice(tldOffset+1)];\n      if (!sldList) {\n        return false;\n      }\n      return sldList.indexOf(' ' + domain.slice(0, tldOffset) + ' ') >= 0;\n    },\n    get: function(domain) {\n      var tldOffset = domain.lastIndexOf('.');\n      if (tldOffset <= 0 || tldOffset >= (domain.length-1)) {\n        return null;\n      }\n      var sldOffset = domain.lastIndexOf('.', tldOffset-1);\n      if (sldOffset <= 0 || sldOffset >= (tldOffset-1)) {\n        return null;\n      }\n      var sldList = SLD.list[domain.slice(tldOffset+1)];\n      if (!sldList) {\n        return null;\n      }\n      if (sldList.indexOf(' ' + domain.slice(sldOffset+1, tldOffset) + ' ') < 0) {\n        return null;\n      }\n      return domain.slice(sldOffset+1);\n    },\n    noConflict: function(){\n      if (root.SecondLevelDomains === this) {\n        root.SecondLevelDomains = _SecondLevelDomains;\n      }\n      return this;\n    }\n  };\n\n  return SLD;\n}));\n","/*!\n * URI.js - Mutating URLs\n *\n * Version: 1.19.2\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n */\n(function (root, factory) {\n  'use strict';\n  // https://github.com/umdjs/umd/blob/master/returnExports.js\n  if (typeof module === 'object' && module.exports) {\n    // Node\n    module.exports = factory(require('./punycode'), require('./IPv6'), require('./SecondLevelDomains'));\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['./punycode', './IPv6', './SecondLevelDomains'], factory);\n  } else {\n    // Browser globals (root is window)\n    root.URI = factory(root.punycode, root.IPv6, root.SecondLevelDomains, root);\n  }\n}(this, function (punycode, IPv6, SLD, root) {\n  'use strict';\n  /*global location, escape, unescape */\n  // FIXME: v2.0.0 renamce non-camelCase properties to uppercase\n  /*jshint camelcase: false */\n\n  // save current URI variable, if any\n  var _URI = root && root.URI;\n\n  function URI(url, base) {\n    var _urlSupplied = arguments.length >= 1;\n    var _baseSupplied = arguments.length >= 2;\n\n    // Allow instantiation without the 'new' keyword\n    if (!(this instanceof URI)) {\n      if (_urlSupplied) {\n        if (_baseSupplied) {\n          return new URI(url, base);\n        }\n\n        return new URI(url);\n      }\n\n      return new URI();\n    }\n\n    if (url === undefined) {\n      if (_urlSupplied) {\n        throw new TypeError('undefined is not a valid argument for URI');\n      }\n\n      if (typeof location !== 'undefined') {\n        url = location.href + '';\n      } else {\n        url = '';\n      }\n    }\n\n    if (url === null) {\n      if (_urlSupplied) {\n        throw new TypeError('null is not a valid argument for URI');\n      }\n    }\n\n    this.href(url);\n\n    // resolve to base according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#constructor\n    if (base !== undefined) {\n      return this.absoluteTo(base);\n    }\n\n    return this;\n  }\n\n  function isInteger(value) {\n    return /^[0-9]+$/.test(value);\n  }\n\n  URI.version = '1.19.2';\n\n  var p = URI.prototype;\n  var hasOwn = Object.prototype.hasOwnProperty;\n\n  function escapeRegEx(string) {\n    // https://github.com/medialize/URI.js/commit/85ac21783c11f8ccab06106dba9735a31a86924d#commitcomment-821963\n    return string.replace(/([.*+?^=!:${}()|[\\]\\/\\\\])/g, '\\\\$1');\n  }\n\n  function getType(value) {\n    // IE8 doesn't return [Object Undefined] but [Object Object] for undefined value\n    if (value === undefined) {\n      return 'Undefined';\n    }\n\n    return String(Object.prototype.toString.call(value)).slice(8, -1);\n  }\n\n  function isArray(obj) {\n    return getType(obj) === 'Array';\n  }\n\n  function filterArrayValues(data, value) {\n    var lookup = {};\n    var i, length;\n\n    if (getType(value) === 'RegExp') {\n      lookup = null;\n    } else if (isArray(value)) {\n      for (i = 0, length = value.length; i < length; i++) {\n        lookup[value[i]] = true;\n      }\n    } else {\n      lookup[value] = true;\n    }\n\n    for (i = 0, length = data.length; i < length; i++) {\n      /*jshint laxbreak: true */\n      var _match = lookup && lookup[data[i]] !== undefined\n        || !lookup && value.test(data[i]);\n      /*jshint laxbreak: false */\n      if (_match) {\n        data.splice(i, 1);\n        length--;\n        i--;\n      }\n    }\n\n    return data;\n  }\n\n  function arrayContains(list, value) {\n    var i, length;\n\n    // value may be string, number, array, regexp\n    if (isArray(value)) {\n      // Note: this can be optimized to O(n) (instead of current O(m * n))\n      for (i = 0, length = value.length; i < length; i++) {\n        if (!arrayContains(list, value[i])) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    var _type = getType(value);\n    for (i = 0, length = list.length; i < length; i++) {\n      if (_type === 'RegExp') {\n        if (typeof list[i] === 'string' && list[i].match(value)) {\n          return true;\n        }\n      } else if (list[i] === value) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function arraysEqual(one, two) {\n    if (!isArray(one) || !isArray(two)) {\n      return false;\n    }\n\n    // arrays can't be equal if they have different amount of content\n    if (one.length !== two.length) {\n      return false;\n    }\n\n    one.sort();\n    two.sort();\n\n    for (var i = 0, l = one.length; i < l; i++) {\n      if (one[i] !== two[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  function trimSlashes(text) {\n    var trim_expression = /^\\/+|\\/+$/g;\n    return text.replace(trim_expression, '');\n  }\n\n  URI._parts = function() {\n    return {\n      protocol: null,\n      username: null,\n      password: null,\n      hostname: null,\n      urn: null,\n      port: null,\n      path: null,\n      query: null,\n      fragment: null,\n      // state\n      preventInvalidHostname: URI.preventInvalidHostname,\n      duplicateQueryParameters: URI.duplicateQueryParameters,\n      escapeQuerySpace: URI.escapeQuerySpace\n    };\n  };\n  // state: throw on invalid hostname\n  // see https://github.com/medialize/URI.js/pull/345\n  // and https://github.com/medialize/URI.js/issues/354\n  URI.preventInvalidHostname = false;\n  // state: allow duplicate query parameters (a=1&a=1)\n  URI.duplicateQueryParameters = false;\n  // state: replaces + with %20 (space in query strings)\n  URI.escapeQuerySpace = true;\n  // static properties\n  URI.protocol_expression = /^[a-z][a-z0-9.+-]*$/i;\n  URI.idn_expression = /[^a-z0-9\\._-]/i;\n  URI.punycode_expression = /(xn--)/i;\n  // well, 333.444.555.666 matches, but it sure ain't no IPv4 - do we care?\n  URI.ip4_expression = /^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/;\n  // credits to Rich Brown\n  // source: http://forums.intermapper.com/viewtopic.php?p=1096#1096\n  // specification: http://www.ietf.org/rfc/rfc4291.txt\n  URI.ip6_expression = /^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$/;\n  // expression used is \"gruber revised\" (@gruber v2) determined to be the\n  // best solution in a regex-golf we did a couple of ages ago at\n  // * http://mathiasbynens.be/demo/url-regex\n  // * http://rodneyrehm.de/t/url-regex.html\n  URI.find_uri_expression = /\\b((?:[a-z][\\w-]+:(?:\\/{1,3}|[a-z0-9%])|www\\d{0,3}[.]|[a-z0-9.\\-]+[.][a-z]{2,4}\\/)(?:[^\\s()<>]+|\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\))+(?:\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\)|[^\\s`!()\\[\\]{};:'\".,<>?]))/ig;\n  URI.findUri = {\n    // valid \"scheme://\" or \"www.\"\n    start: /\\b(?:([a-z][a-z0-9.+-]*:\\/\\/)|www\\.)/gi,\n    // everything up to the next whitespace\n    end: /[\\s\\r\\n]|$/,\n    // trim trailing punctuation captured by end RegExp\n    trim: /[`!()\\[\\]{};:'\".,<>?]+$/,\n    // balanced parens inclusion (), [], {}, <>\n    parens: /(\\([^\\)]*\\)|\\[[^\\]]*\\]|\\{[^}]*\\}|<[^>]*>)/g,\n  };\n  // http://www.iana.org/assignments/uri-schemes.html\n  // http://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers#Well-known_ports\n  URI.defaultPorts = {\n    http: '80',\n    https: '443',\n    ftp: '21',\n    gopher: '70',\n    ws: '80',\n    wss: '443'\n  };\n  // list of protocols which always require a hostname\n  URI.hostProtocols = [\n    'http',\n    'https'\n  ];\n\n  // allowed hostname characters according to RFC 3986\n  // ALPHA DIGIT \"-\" \".\" \"_\" \"~\" \"!\" \"$\" \"&\" \"'\" \"(\" \")\" \"*\" \"+\" \",\" \";\" \"=\" %encoded\n  // I've never seen a (non-IDN) hostname other than: ALPHA DIGIT . - _\n  URI.invalid_hostname_characters = /[^a-zA-Z0-9\\.\\-:_]/;\n  // map DOM Elements to their URI attribute\n  URI.domAttributes = {\n    'a': 'href',\n    'blockquote': 'cite',\n    'link': 'href',\n    'base': 'href',\n    'script': 'src',\n    'form': 'action',\n    'img': 'src',\n    'area': 'href',\n    'iframe': 'src',\n    'embed': 'src',\n    'source': 'src',\n    'track': 'src',\n    'input': 'src', // but only if type=\"image\"\n    'audio': 'src',\n    'video': 'src'\n  };\n  URI.getDomAttribute = function(node) {\n    if (!node || !node.nodeName) {\n      return undefined;\n    }\n\n    var nodeName = node.nodeName.toLowerCase();\n    // <input> should only expose src for type=\"image\"\n    if (nodeName === 'input' && node.type !== 'image') {\n      return undefined;\n    }\n\n    return URI.domAttributes[nodeName];\n  };\n\n  function escapeForDumbFirefox36(value) {\n    // https://github.com/medialize/URI.js/issues/91\n    return escape(value);\n  }\n\n  // encoding / decoding according to RFC3986\n  function strictEncodeURIComponent(string) {\n    // see https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/encodeURIComponent\n    return encodeURIComponent(string)\n      .replace(/[!'()*]/g, escapeForDumbFirefox36)\n      .replace(/\\*/g, '%2A');\n  }\n  URI.encode = strictEncodeURIComponent;\n  URI.decode = decodeURIComponent;\n  URI.iso8859 = function() {\n    URI.encode = escape;\n    URI.decode = unescape;\n  };\n  URI.unicode = function() {\n    URI.encode = strictEncodeURIComponent;\n    URI.decode = decodeURIComponent;\n  };\n  URI.characters = {\n    pathname: {\n      encode: {\n        // RFC3986 2.1: For consistency, URI producers and normalizers should\n        // use uppercase hexadecimal digits for all percent-encodings.\n        expression: /%(24|26|2B|2C|3B|3D|3A|40)/ig,\n        map: {\n          // -._~!'()*\n          '%24': '$',\n          '%26': '&',\n          '%2B': '+',\n          '%2C': ',',\n          '%3B': ';',\n          '%3D': '=',\n          '%3A': ':',\n          '%40': '@'\n        }\n      },\n      decode: {\n        expression: /[\\/\\?#]/g,\n        map: {\n          '/': '%2F',\n          '?': '%3F',\n          '#': '%23'\n        }\n      }\n    },\n    reserved: {\n      encode: {\n        // RFC3986 2.1: For consistency, URI producers and normalizers should\n        // use uppercase hexadecimal digits for all percent-encodings.\n        expression: /%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,\n        map: {\n          // gen-delims\n          '%3A': ':',\n          '%2F': '/',\n          '%3F': '?',\n          '%23': '#',\n          '%5B': '[',\n          '%5D': ']',\n          '%40': '@',\n          // sub-delims\n          '%21': '!',\n          '%24': '$',\n          '%26': '&',\n          '%27': '\\'',\n          '%28': '(',\n          '%29': ')',\n          '%2A': '*',\n          '%2B': '+',\n          '%2C': ',',\n          '%3B': ';',\n          '%3D': '='\n        }\n      }\n    },\n    urnpath: {\n      // The characters under `encode` are the characters called out by RFC 2141 as being acceptable\n      // for usage in a URN. RFC2141 also calls out \"-\", \".\", and \"_\" as acceptable characters, but\n      // these aren't encoded by encodeURIComponent, so we don't have to call them out here. Also\n      // note that the colon character is not featured in the encoding map; this is because URI.js\n      // gives the colons in URNs semantic meaning as the delimiters of path segements, and so it\n      // should not appear unencoded in a segment itself.\n      // See also the note above about RFC3986 and capitalalized hex digits.\n      encode: {\n        expression: /%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/ig,\n        map: {\n          '%21': '!',\n          '%24': '$',\n          '%27': '\\'',\n          '%28': '(',\n          '%29': ')',\n          '%2A': '*',\n          '%2B': '+',\n          '%2C': ',',\n          '%3B': ';',\n          '%3D': '=',\n          '%40': '@'\n        }\n      },\n      // These characters are the characters called out by RFC2141 as \"reserved\" characters that\n      // should never appear in a URN, plus the colon character (see note above).\n      decode: {\n        expression: /[\\/\\?#:]/g,\n        map: {\n          '/': '%2F',\n          '?': '%3F',\n          '#': '%23',\n          ':': '%3A'\n        }\n      }\n    }\n  };\n  URI.encodeQuery = function(string, escapeQuerySpace) {\n    var escaped = URI.encode(string + '');\n    if (escapeQuerySpace === undefined) {\n      escapeQuerySpace = URI.escapeQuerySpace;\n    }\n\n    return escapeQuerySpace ? escaped.replace(/%20/g, '+') : escaped;\n  };\n  URI.decodeQuery = function(string, escapeQuerySpace) {\n    string += '';\n    if (escapeQuerySpace === undefined) {\n      escapeQuerySpace = URI.escapeQuerySpace;\n    }\n\n    try {\n      return URI.decode(escapeQuerySpace ? string.replace(/\\+/g, '%20') : string);\n    } catch(e) {\n      // we're not going to mess with weird encodings,\n      // give up and return the undecoded original string\n      // see https://github.com/medialize/URI.js/issues/87\n      // see https://github.com/medialize/URI.js/issues/92\n      return string;\n    }\n  };\n  // generate encode/decode path functions\n  var _parts = {'encode':'encode', 'decode':'decode'};\n  var _part;\n  var generateAccessor = function(_group, _part) {\n    return function(string) {\n      try {\n        return URI[_part](string + '').replace(URI.characters[_group][_part].expression, function(c) {\n          return URI.characters[_group][_part].map[c];\n        });\n      } catch (e) {\n        // we're not going to mess with weird encodings,\n        // give up and return the undecoded original string\n        // see https://github.com/medialize/URI.js/issues/87\n        // see https://github.com/medialize/URI.js/issues/92\n        return string;\n      }\n    };\n  };\n\n  for (_part in _parts) {\n    URI[_part + 'PathSegment'] = generateAccessor('pathname', _parts[_part]);\n    URI[_part + 'UrnPathSegment'] = generateAccessor('urnpath', _parts[_part]);\n  }\n\n  var generateSegmentedPathFunction = function(_sep, _codingFuncName, _innerCodingFuncName) {\n    return function(string) {\n      // Why pass in names of functions, rather than the function objects themselves? The\n      // definitions of some functions (but in particular, URI.decode) will occasionally change due\n      // to URI.js having ISO8859 and Unicode modes. Passing in the name and getting it will ensure\n      // that the functions we use here are \"fresh\".\n      var actualCodingFunc;\n      if (!_innerCodingFuncName) {\n        actualCodingFunc = URI[_codingFuncName];\n      } else {\n        actualCodingFunc = function(string) {\n          return URI[_codingFuncName](URI[_innerCodingFuncName](string));\n        };\n      }\n\n      var segments = (string + '').split(_sep);\n\n      for (var i = 0, length = segments.length; i < length; i++) {\n        segments[i] = actualCodingFunc(segments[i]);\n      }\n\n      return segments.join(_sep);\n    };\n  };\n\n  // This takes place outside the above loop because we don't want, e.g., encodeUrnPath functions.\n  URI.decodePath = generateSegmentedPathFunction('/', 'decodePathSegment');\n  URI.decodeUrnPath = generateSegmentedPathFunction(':', 'decodeUrnPathSegment');\n  URI.recodePath = generateSegmentedPathFunction('/', 'encodePathSegment', 'decode');\n  URI.recodeUrnPath = generateSegmentedPathFunction(':', 'encodeUrnPathSegment', 'decode');\n\n  URI.encodeReserved = generateAccessor('reserved', 'encode');\n\n  URI.parse = function(string, parts) {\n    var pos;\n    if (!parts) {\n      parts = {\n        preventInvalidHostname: URI.preventInvalidHostname\n      };\n    }\n    // [protocol\"://\"[username[\":\"password]\"@\"]hostname[\":\"port]\"/\"?][path][\"?\"querystring][\"#\"fragment]\n\n    // extract fragment\n    pos = string.indexOf('#');\n    if (pos > -1) {\n      // escaping?\n      parts.fragment = string.substring(pos + 1) || null;\n      string = string.substring(0, pos);\n    }\n\n    // extract query\n    pos = string.indexOf('?');\n    if (pos > -1) {\n      // escaping?\n      parts.query = string.substring(pos + 1) || null;\n      string = string.substring(0, pos);\n    }\n\n    // extract protocol\n    if (string.substring(0, 2) === '//') {\n      // relative-scheme\n      parts.protocol = null;\n      string = string.substring(2);\n      // extract \"user:pass@host:port\"\n      string = URI.parseAuthority(string, parts);\n    } else {\n      pos = string.indexOf(':');\n      if (pos > -1) {\n        parts.protocol = string.substring(0, pos) || null;\n        if (parts.protocol && !parts.protocol.match(URI.protocol_expression)) {\n          // : may be within the path\n          parts.protocol = undefined;\n        } else if (string.substring(pos + 1, pos + 3) === '//') {\n          string = string.substring(pos + 3);\n\n          // extract \"user:pass@host:port\"\n          string = URI.parseAuthority(string, parts);\n        } else {\n          string = string.substring(pos + 1);\n          parts.urn = true;\n        }\n      }\n    }\n\n    // what's left must be the path\n    parts.path = string;\n\n    // and we're done\n    return parts;\n  };\n  URI.parseHost = function(string, parts) {\n    if (!string) {\n      string = '';\n    }\n\n    // Copy chrome, IE, opera backslash-handling behavior.\n    // Back slashes before the query string get converted to forward slashes\n    // See: https://github.com/joyent/node/blob/386fd24f49b0e9d1a8a076592a404168faeecc34/lib/url.js#L115-L124\n    // See: https://code.google.com/p/chromium/issues/detail?id=25916\n    // https://github.com/medialize/URI.js/pull/233\n    string = string.replace(/\\\\/g, '/');\n\n    // extract host:port\n    var pos = string.indexOf('/');\n    var bracketPos;\n    var t;\n\n    if (pos === -1) {\n      pos = string.length;\n    }\n\n    if (string.charAt(0) === '[') {\n      // IPv6 host - http://tools.ietf.org/html/draft-ietf-6man-text-addr-representation-04#section-6\n      // I claim most client software breaks on IPv6 anyways. To simplify things, URI only accepts\n      // IPv6+port in the format [2001:db8::1]:80 (for the time being)\n      bracketPos = string.indexOf(']');\n      parts.hostname = string.substring(1, bracketPos) || null;\n      parts.port = string.substring(bracketPos + 2, pos) || null;\n      if (parts.port === '/') {\n        parts.port = null;\n      }\n    } else {\n      var firstColon = string.indexOf(':');\n      var firstSlash = string.indexOf('/');\n      var nextColon = string.indexOf(':', firstColon + 1);\n      if (nextColon !== -1 && (firstSlash === -1 || nextColon < firstSlash)) {\n        // IPv6 host contains multiple colons - but no port\n        // this notation is actually not allowed by RFC 3986, but we're a liberal parser\n        parts.hostname = string.substring(0, pos) || null;\n        parts.port = null;\n      } else {\n        t = string.substring(0, pos).split(':');\n        parts.hostname = t[0] || null;\n        parts.port = t[1] || null;\n      }\n    }\n\n    if (parts.hostname && string.substring(pos).charAt(0) !== '/') {\n      pos++;\n      string = '/' + string;\n    }\n\n    if (parts.preventInvalidHostname) {\n      URI.ensureValidHostname(parts.hostname, parts.protocol);\n    }\n\n    if (parts.port) {\n      URI.ensureValidPort(parts.port);\n    }\n\n    return string.substring(pos) || '/';\n  };\n  URI.parseAuthority = function(string, parts) {\n    string = URI.parseUserinfo(string, parts);\n    return URI.parseHost(string, parts);\n  };\n  URI.parseUserinfo = function(string, parts) {\n    // extract username:password\n    var firstSlash = string.indexOf('/');\n    var pos = string.lastIndexOf('@', firstSlash > -1 ? firstSlash : string.length - 1);\n    var t;\n\n    // authority@ must come before /path\n    if (pos > -1 && (firstSlash === -1 || pos < firstSlash)) {\n      t = string.substring(0, pos).split(':');\n      parts.username = t[0] ? URI.decode(t[0]) : null;\n      t.shift();\n      parts.password = t[0] ? URI.decode(t.join(':')) : null;\n      string = string.substring(pos + 1);\n    } else {\n      parts.username = null;\n      parts.password = null;\n    }\n\n    return string;\n  };\n  URI.parseQuery = function(string, escapeQuerySpace) {\n    if (!string) {\n      return {};\n    }\n\n    // throw out the funky business - \"?\"[name\"=\"value\"&\"]+\n    string = string.replace(/&+/g, '&').replace(/^\\?*&*|&+$/g, '');\n\n    if (!string) {\n      return {};\n    }\n\n    var items = {};\n    var splits = string.split('&');\n    var length = splits.length;\n    var v, name, value;\n\n    for (var i = 0; i < length; i++) {\n      v = splits[i].split('=');\n      name = URI.decodeQuery(v.shift(), escapeQuerySpace);\n      // no \"=\" is null according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#collect-url-parameters\n      value = v.length ? URI.decodeQuery(v.join('='), escapeQuerySpace) : null;\n\n      if (hasOwn.call(items, name)) {\n        if (typeof items[name] === 'string' || items[name] === null) {\n          items[name] = [items[name]];\n        }\n\n        items[name].push(value);\n      } else {\n        items[name] = value;\n      }\n    }\n\n    return items;\n  };\n\n  URI.build = function(parts) {\n    var t = '';\n    var requireAbsolutePath = false\n\n    if (parts.protocol) {\n      t += parts.protocol + ':';\n    }\n\n    if (!parts.urn && (t || parts.hostname)) {\n      t += '//';\n      requireAbsolutePath = true\n    }\n\n    t += (URI.buildAuthority(parts) || '');\n\n    if (typeof parts.path === 'string') {\n      if (parts.path.charAt(0) !== '/' && requireAbsolutePath) {\n        t += '/';\n      }\n\n      t += parts.path;\n    }\n\n    if (typeof parts.query === 'string' && parts.query) {\n      t += '?' + parts.query;\n    }\n\n    if (typeof parts.fragment === 'string' && parts.fragment) {\n      t += '#' + parts.fragment;\n    }\n    return t;\n  };\n  URI.buildHost = function(parts) {\n    var t = '';\n\n    if (!parts.hostname) {\n      return '';\n    } else if (URI.ip6_expression.test(parts.hostname)) {\n      t += '[' + parts.hostname + ']';\n    } else {\n      t += parts.hostname;\n    }\n\n    if (parts.port) {\n      t += ':' + parts.port;\n    }\n\n    return t;\n  };\n  URI.buildAuthority = function(parts) {\n    return URI.buildUserinfo(parts) + URI.buildHost(parts);\n  };\n  URI.buildUserinfo = function(parts) {\n    var t = '';\n\n    if (parts.username) {\n      t += URI.encode(parts.username);\n    }\n\n    if (parts.password) {\n      t += ':' + URI.encode(parts.password);\n    }\n\n    if (t) {\n      t += '@';\n    }\n\n    return t;\n  };\n  URI.buildQuery = function(data, duplicateQueryParameters, escapeQuerySpace) {\n    // according to http://tools.ietf.org/html/rfc3986 or http://labs.apache.org/webarch/uri/rfc/rfc3986.html\n    // being -._~!$&'()*+,;=:@/? %HEX and alnum are allowed\n    // the RFC explicitly states ?/foo being a valid use case, no mention of parameter syntax!\n    // URI.js treats the query string as being application/x-www-form-urlencoded\n    // see http://www.w3.org/TR/REC-html40/interact/forms.html#form-content-type\n\n    var t = '';\n    var unique, key, i, length;\n    for (key in data) {\n      if (hasOwn.call(data, key)) {\n        if (isArray(data[key])) {\n          unique = {};\n          for (i = 0, length = data[key].length; i < length; i++) {\n            if (data[key][i] !== undefined && unique[data[key][i] + ''] === undefined) {\n              t += '&' + URI.buildQueryParameter(key, data[key][i], escapeQuerySpace);\n              if (duplicateQueryParameters !== true) {\n                unique[data[key][i] + ''] = true;\n              }\n            }\n          }\n        } else if (data[key] !== undefined) {\n          t += '&' + URI.buildQueryParameter(key, data[key], escapeQuerySpace);\n        }\n      }\n    }\n\n    return t.substring(1);\n  };\n  URI.buildQueryParameter = function(name, value, escapeQuerySpace) {\n    // http://www.w3.org/TR/REC-html40/interact/forms.html#form-content-type -- application/x-www-form-urlencoded\n    // don't append \"=\" for null values, according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#url-parameter-serialization\n    return URI.encodeQuery(name, escapeQuerySpace) + (value !== null ? '=' + URI.encodeQuery(value, escapeQuerySpace) : '');\n  };\n\n  URI.addQuery = function(data, name, value) {\n    if (typeof name === 'object') {\n      for (var key in name) {\n        if (hasOwn.call(name, key)) {\n          URI.addQuery(data, key, name[key]);\n        }\n      }\n    } else if (typeof name === 'string') {\n      if (data[name] === undefined) {\n        data[name] = value;\n        return;\n      } else if (typeof data[name] === 'string') {\n        data[name] = [data[name]];\n      }\n\n      if (!isArray(value)) {\n        value = [value];\n      }\n\n      data[name] = (data[name] || []).concat(value);\n    } else {\n      throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');\n    }\n  };\n\n  URI.setQuery = function(data, name, value) {\n    if (typeof name === 'object') {\n      for (var key in name) {\n        if (hasOwn.call(name, key)) {\n          URI.setQuery(data, key, name[key]);\n        }\n      }\n    } else if (typeof name === 'string') {\n      data[name] = value === undefined ? null : value;\n    } else {\n      throw new TypeError('URI.setQuery() accepts an object, string as the name parameter');\n    }\n  };\n\n  URI.removeQuery = function(data, name, value) {\n    var i, length, key;\n\n    if (isArray(name)) {\n      for (i = 0, length = name.length; i < length; i++) {\n        data[name[i]] = undefined;\n      }\n    } else if (getType(name) === 'RegExp') {\n      for (key in data) {\n        if (name.test(key)) {\n          data[key] = undefined;\n        }\n      }\n    } else if (typeof name === 'object') {\n      for (key in name) {\n        if (hasOwn.call(name, key)) {\n          URI.removeQuery(data, key, name[key]);\n        }\n      }\n    } else if (typeof name === 'string') {\n      if (value !== undefined) {\n        if (getType(value) === 'RegExp') {\n          if (!isArray(data[name]) && value.test(data[name])) {\n            data[name] = undefined;\n          } else {\n            data[name] = filterArrayValues(data[name], value);\n          }\n        } else if (data[name] === String(value) && (!isArray(value) || value.length === 1)) {\n          data[name] = undefined;\n        } else if (isArray(data[name])) {\n          data[name] = filterArrayValues(data[name], value);\n        }\n      } else {\n        data[name] = undefined;\n      }\n    } else {\n      throw new TypeError('URI.removeQuery() accepts an object, string, RegExp as the first parameter');\n    }\n  };\n  URI.hasQuery = function(data, name, value, withinArray) {\n    switch (getType(name)) {\n      case 'String':\n        // Nothing to do here\n        break;\n\n      case 'RegExp':\n        for (var key in data) {\n          if (hasOwn.call(data, key)) {\n            if (name.test(key) && (value === undefined || URI.hasQuery(data, key, value))) {\n              return true;\n            }\n          }\n        }\n\n        return false;\n\n      case 'Object':\n        for (var _key in name) {\n          if (hasOwn.call(name, _key)) {\n            if (!URI.hasQuery(data, _key, name[_key])) {\n              return false;\n            }\n          }\n        }\n\n        return true;\n\n      default:\n        throw new TypeError('URI.hasQuery() accepts a string, regular expression or object as the name parameter');\n    }\n\n    switch (getType(value)) {\n      case 'Undefined':\n        // true if exists (but may be empty)\n        return name in data; // data[name] !== undefined;\n\n      case 'Boolean':\n        // true if exists and non-empty\n        var _booly = Boolean(isArray(data[name]) ? data[name].length : data[name]);\n        return value === _booly;\n\n      case 'Function':\n        // allow complex comparison\n        return !!value(data[name], name, data);\n\n      case 'Array':\n        if (!isArray(data[name])) {\n          return false;\n        }\n\n        var op = withinArray ? arrayContains : arraysEqual;\n        return op(data[name], value);\n\n      case 'RegExp':\n        if (!isArray(data[name])) {\n          return Boolean(data[name] && data[name].match(value));\n        }\n\n        if (!withinArray) {\n          return false;\n        }\n\n        return arrayContains(data[name], value);\n\n      case 'Number':\n        value = String(value);\n        /* falls through */\n      case 'String':\n        if (!isArray(data[name])) {\n          return data[name] === value;\n        }\n\n        if (!withinArray) {\n          return false;\n        }\n\n        return arrayContains(data[name], value);\n\n      default:\n        throw new TypeError('URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter');\n    }\n  };\n\n\n  URI.joinPaths = function() {\n    var input = [];\n    var segments = [];\n    var nonEmptySegments = 0;\n\n    for (var i = 0; i < arguments.length; i++) {\n      var url = new URI(arguments[i]);\n      input.push(url);\n      var _segments = url.segment();\n      for (var s = 0; s < _segments.length; s++) {\n        if (typeof _segments[s] === 'string') {\n          segments.push(_segments[s]);\n        }\n\n        if (_segments[s]) {\n          nonEmptySegments++;\n        }\n      }\n    }\n\n    if (!segments.length || !nonEmptySegments) {\n      return new URI('');\n    }\n\n    var uri = new URI('').segment(segments);\n\n    if (input[0].path() === '' || input[0].path().slice(0, 1) === '/') {\n      uri.path('/' + uri.path());\n    }\n\n    return uri.normalize();\n  };\n\n  URI.commonPath = function(one, two) {\n    var length = Math.min(one.length, two.length);\n    var pos;\n\n    // find first non-matching character\n    for (pos = 0; pos < length; pos++) {\n      if (one.charAt(pos) !== two.charAt(pos)) {\n        pos--;\n        break;\n      }\n    }\n\n    if (pos < 1) {\n      return one.charAt(0) === two.charAt(0) && one.charAt(0) === '/' ? '/' : '';\n    }\n\n    // revert to last /\n    if (one.charAt(pos) !== '/' || two.charAt(pos) !== '/') {\n      pos = one.substring(0, pos).lastIndexOf('/');\n    }\n\n    return one.substring(0, pos + 1);\n  };\n\n  URI.withinString = function(string, callback, options) {\n    options || (options = {});\n    var _start = options.start || URI.findUri.start;\n    var _end = options.end || URI.findUri.end;\n    var _trim = options.trim || URI.findUri.trim;\n    var _parens = options.parens || URI.findUri.parens;\n    var _attributeOpen = /[a-z0-9-]=[\"']?$/i;\n\n    _start.lastIndex = 0;\n    while (true) {\n      var match = _start.exec(string);\n      if (!match) {\n        break;\n      }\n\n      var start = match.index;\n      if (options.ignoreHtml) {\n        // attribut(e=[\"']?$)\n        var attributeOpen = string.slice(Math.max(start - 3, 0), start);\n        if (attributeOpen && _attributeOpen.test(attributeOpen)) {\n          continue;\n        }\n      }\n\n      var end = start + string.slice(start).search(_end);\n      var slice = string.slice(start, end);\n      // make sure we include well balanced parens\n      var parensEnd = -1;\n      while (true) {\n        var parensMatch = _parens.exec(slice);\n        if (!parensMatch) {\n          break;\n        }\n\n        var parensMatchEnd = parensMatch.index + parensMatch[0].length;\n        parensEnd = Math.max(parensEnd, parensMatchEnd);\n      }\n\n      if (parensEnd > -1) {\n        slice = slice.slice(0, parensEnd) + slice.slice(parensEnd).replace(_trim, '');\n      } else {\n        slice = slice.replace(_trim, '');\n      }\n\n      if (slice.length <= match[0].length) {\n        // the extract only contains the starting marker of a URI,\n        // e.g. \"www\" or \"http://\"\n        continue;\n      }\n\n      if (options.ignore && options.ignore.test(slice)) {\n        continue;\n      }\n\n      end = start + slice.length;\n      var result = callback(slice, start, end, string);\n      if (result === undefined) {\n        _start.lastIndex = end;\n        continue;\n      }\n\n      result = String(result);\n      string = string.slice(0, start) + result + string.slice(end);\n      _start.lastIndex = start + result.length;\n    }\n\n    _start.lastIndex = 0;\n    return string;\n  };\n\n  URI.ensureValidHostname = function(v, protocol) {\n    // Theoretically URIs allow percent-encoding in Hostnames (according to RFC 3986)\n    // they are not part of DNS and therefore ignored by URI.js\n\n    var hasHostname = !!v; // not null and not an empty string\n    var hasProtocol = !!protocol;\n    var rejectEmptyHostname = false;\n\n    if (hasProtocol) {\n      rejectEmptyHostname = arrayContains(URI.hostProtocols, protocol);\n    }\n\n    if (rejectEmptyHostname && !hasHostname) {\n      throw new TypeError('Hostname cannot be empty, if protocol is ' + protocol);\n    } else if (v && v.match(URI.invalid_hostname_characters)) {\n      // test punycode\n      if (!punycode) {\n        throw new TypeError('Hostname \"' + v + '\" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');\n      }\n      if (punycode.toASCII(v).match(URI.invalid_hostname_characters)) {\n        throw new TypeError('Hostname \"' + v + '\" contains characters other than [A-Z0-9.-:_]');\n      }\n    }\n  };\n\n  URI.ensureValidPort = function (v) {\n    if (!v) {\n      return;\n    }\n\n    var port = Number(v);\n    if (isInteger(port) && (port > 0) && (port < 65536)) {\n      return;\n    }\n\n    throw new TypeError('Port \"' + v + '\" is not a valid port');\n  };\n\n  // noConflict\n  URI.noConflict = function(removeAll) {\n    if (removeAll) {\n      var unconflicted = {\n        URI: this.noConflict()\n      };\n\n      if (root.URITemplate && typeof root.URITemplate.noConflict === 'function') {\n        unconflicted.URITemplate = root.URITemplate.noConflict();\n      }\n\n      if (root.IPv6 && typeof root.IPv6.noConflict === 'function') {\n        unconflicted.IPv6 = root.IPv6.noConflict();\n      }\n\n      if (root.SecondLevelDomains && typeof root.SecondLevelDomains.noConflict === 'function') {\n        unconflicted.SecondLevelDomains = root.SecondLevelDomains.noConflict();\n      }\n\n      return unconflicted;\n    } else if (root.URI === this) {\n      root.URI = _URI;\n    }\n\n    return this;\n  };\n\n  p.build = function(deferBuild) {\n    if (deferBuild === true) {\n      this._deferred_build = true;\n    } else if (deferBuild === undefined || this._deferred_build) {\n      this._string = URI.build(this._parts);\n      this._deferred_build = false;\n    }\n\n    return this;\n  };\n\n  p.clone = function() {\n    return new URI(this);\n  };\n\n  p.valueOf = p.toString = function() {\n    return this.build(false)._string;\n  };\n\n\n  function generateSimpleAccessor(_part){\n    return function(v, build) {\n      if (v === undefined) {\n        return this._parts[_part] || '';\n      } else {\n        this._parts[_part] = v || null;\n        this.build(!build);\n        return this;\n      }\n    };\n  }\n\n  function generatePrefixAccessor(_part, _key){\n    return function(v, build) {\n      if (v === undefined) {\n        return this._parts[_part] || '';\n      } else {\n        if (v !== null) {\n          v = v + '';\n          if (v.charAt(0) === _key) {\n            v = v.substring(1);\n          }\n        }\n\n        this._parts[_part] = v;\n        this.build(!build);\n        return this;\n      }\n    };\n  }\n\n  p.protocol = generateSimpleAccessor('protocol');\n  p.username = generateSimpleAccessor('username');\n  p.password = generateSimpleAccessor('password');\n  p.hostname = generateSimpleAccessor('hostname');\n  p.port = generateSimpleAccessor('port');\n  p.query = generatePrefixAccessor('query', '?');\n  p.fragment = generatePrefixAccessor('fragment', '#');\n\n  p.search = function(v, build) {\n    var t = this.query(v, build);\n    return typeof t === 'string' && t.length ? ('?' + t) : t;\n  };\n  p.hash = function(v, build) {\n    var t = this.fragment(v, build);\n    return typeof t === 'string' && t.length ? ('#' + t) : t;\n  };\n\n  p.pathname = function(v, build) {\n    if (v === undefined || v === true) {\n      var res = this._parts.path || (this._parts.hostname ? '/' : '');\n      return v ? (this._parts.urn ? URI.decodeUrnPath : URI.decodePath)(res) : res;\n    } else {\n      if (this._parts.urn) {\n        this._parts.path = v ? URI.recodeUrnPath(v) : '';\n      } else {\n        this._parts.path = v ? URI.recodePath(v) : '/';\n      }\n      this.build(!build);\n      return this;\n    }\n  };\n  p.path = p.pathname;\n  p.href = function(href, build) {\n    var key;\n\n    if (href === undefined) {\n      return this.toString();\n    }\n\n    this._string = '';\n    this._parts = URI._parts();\n\n    var _URI = href instanceof URI;\n    var _object = typeof href === 'object' && (href.hostname || href.path || href.pathname);\n    if (href.nodeName) {\n      var attribute = URI.getDomAttribute(href);\n      href = href[attribute] || '';\n      _object = false;\n    }\n\n    // window.location is reported to be an object, but it's not the sort\n    // of object we're looking for:\n    // * location.protocol ends with a colon\n    // * location.query != object.search\n    // * location.hash != object.fragment\n    // simply serializing the unknown object should do the trick\n    // (for location, not for everything...)\n    if (!_URI && _object && href.pathname !== undefined) {\n      href = href.toString();\n    }\n\n    if (typeof href === 'string' || href instanceof String) {\n      this._parts = URI.parse(String(href), this._parts);\n    } else if (_URI || _object) {\n      var src = _URI ? href._parts : href;\n      for (key in src) {\n        if (key === 'query') { continue; }\n        if (hasOwn.call(this._parts, key)) {\n          this._parts[key] = src[key];\n        }\n      }\n      if (src.query) {\n        this.query(src.query, false);\n      }\n    } else {\n      throw new TypeError('invalid input');\n    }\n\n    this.build(!build);\n    return this;\n  };\n\n  // identification accessors\n  p.is = function(what) {\n    var ip = false;\n    var ip4 = false;\n    var ip6 = false;\n    var name = false;\n    var sld = false;\n    var idn = false;\n    var punycode = false;\n    var relative = !this._parts.urn;\n\n    if (this._parts.hostname) {\n      relative = false;\n      ip4 = URI.ip4_expression.test(this._parts.hostname);\n      ip6 = URI.ip6_expression.test(this._parts.hostname);\n      ip = ip4 || ip6;\n      name = !ip;\n      sld = name && SLD && SLD.has(this._parts.hostname);\n      idn = name && URI.idn_expression.test(this._parts.hostname);\n      punycode = name && URI.punycode_expression.test(this._parts.hostname);\n    }\n\n    switch (what.toLowerCase()) {\n      case 'relative':\n        return relative;\n\n      case 'absolute':\n        return !relative;\n\n      // hostname identification\n      case 'domain':\n      case 'name':\n        return name;\n\n      case 'sld':\n        return sld;\n\n      case 'ip':\n        return ip;\n\n      case 'ip4':\n      case 'ipv4':\n      case 'inet4':\n        return ip4;\n\n      case 'ip6':\n      case 'ipv6':\n      case 'inet6':\n        return ip6;\n\n      case 'idn':\n        return idn;\n\n      case 'url':\n        return !this._parts.urn;\n\n      case 'urn':\n        return !!this._parts.urn;\n\n      case 'punycode':\n        return punycode;\n    }\n\n    return null;\n  };\n\n  // component specific input validation\n  var _protocol = p.protocol;\n  var _port = p.port;\n  var _hostname = p.hostname;\n\n  p.protocol = function(v, build) {\n    if (v) {\n      // accept trailing ://\n      v = v.replace(/:(\\/\\/)?$/, '');\n\n      if (!v.match(URI.protocol_expression)) {\n        throw new TypeError('Protocol \"' + v + '\" contains characters other than [A-Z0-9.+-] or doesn\\'t start with [A-Z]');\n      }\n    }\n\n    return _protocol.call(this, v, build);\n  };\n  p.scheme = p.protocol;\n  p.port = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v !== undefined) {\n      if (v === 0) {\n        v = null;\n      }\n\n      if (v) {\n        v += '';\n        if (v.charAt(0) === ':') {\n          v = v.substring(1);\n        }\n\n        URI.ensureValidPort(v);\n      }\n    }\n    return _port.call(this, v, build);\n  };\n  p.hostname = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v !== undefined) {\n      var x = { preventInvalidHostname: this._parts.preventInvalidHostname };\n      var res = URI.parseHost(v, x);\n      if (res !== '/') {\n        throw new TypeError('Hostname \"' + v + '\" contains characters other than [A-Z0-9.-]');\n      }\n\n      v = x.hostname;\n      if (this._parts.preventInvalidHostname) {\n        URI.ensureValidHostname(v, this._parts.protocol);\n      }\n    }\n\n    return _hostname.call(this, v, build);\n  };\n\n  // compound accessors\n  p.origin = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined) {\n      var protocol = this.protocol();\n      var authority = this.authority();\n      if (!authority) {\n        return '';\n      }\n\n      return (protocol ? protocol + '://' : '') + this.authority();\n    } else {\n      var origin = URI(v);\n      this\n        .protocol(origin.protocol())\n        .authority(origin.authority())\n        .build(!build);\n      return this;\n    }\n  };\n  p.host = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined) {\n      return this._parts.hostname ? URI.buildHost(this._parts) : '';\n    } else {\n      var res = URI.parseHost(v, this._parts);\n      if (res !== '/') {\n        throw new TypeError('Hostname \"' + v + '\" contains characters other than [A-Z0-9.-]');\n      }\n\n      this.build(!build);\n      return this;\n    }\n  };\n  p.authority = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined) {\n      return this._parts.hostname ? URI.buildAuthority(this._parts) : '';\n    } else {\n      var res = URI.parseAuthority(v, this._parts);\n      if (res !== '/') {\n        throw new TypeError('Hostname \"' + v + '\" contains characters other than [A-Z0-9.-]');\n      }\n\n      this.build(!build);\n      return this;\n    }\n  };\n  p.userinfo = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined) {\n      var t = URI.buildUserinfo(this._parts);\n      return t ? t.substring(0, t.length -1) : t;\n    } else {\n      if (v[v.length-1] !== '@') {\n        v += '@';\n      }\n\n      URI.parseUserinfo(v, this._parts);\n      this.build(!build);\n      return this;\n    }\n  };\n  p.resource = function(v, build) {\n    var parts;\n\n    if (v === undefined) {\n      return this.path() + this.search() + this.hash();\n    }\n\n    parts = URI.parse(v);\n    this._parts.path = parts.path;\n    this._parts.query = parts.query;\n    this._parts.fragment = parts.fragment;\n    this.build(!build);\n    return this;\n  };\n\n  // fraction accessors\n  p.subdomain = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    // convenience, return \"www\" from \"www.example.org\"\n    if (v === undefined) {\n      if (!this._parts.hostname || this.is('IP')) {\n        return '';\n      }\n\n      // grab domain and add another segment\n      var end = this._parts.hostname.length - this.domain().length - 1;\n      return this._parts.hostname.substring(0, end) || '';\n    } else {\n      var e = this._parts.hostname.length - this.domain().length;\n      var sub = this._parts.hostname.substring(0, e);\n      var replace = new RegExp('^' + escapeRegEx(sub));\n\n      if (v && v.charAt(v.length - 1) !== '.') {\n        v += '.';\n      }\n\n      if (v.indexOf(':') !== -1) {\n        throw new TypeError('Domains cannot contain colons');\n      }\n\n      if (v) {\n        URI.ensureValidHostname(v, this._parts.protocol);\n      }\n\n      this._parts.hostname = this._parts.hostname.replace(replace, v);\n      this.build(!build);\n      return this;\n    }\n  };\n  p.domain = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (typeof v === 'boolean') {\n      build = v;\n      v = undefined;\n    }\n\n    // convenience, return \"example.org\" from \"www.example.org\"\n    if (v === undefined) {\n      if (!this._parts.hostname || this.is('IP')) {\n        return '';\n      }\n\n      // if hostname consists of 1 or 2 segments, it must be the domain\n      var t = this._parts.hostname.match(/\\./g);\n      if (t && t.length < 2) {\n        return this._parts.hostname;\n      }\n\n      // grab tld and add another segment\n      var end = this._parts.hostname.length - this.tld(build).length - 1;\n      end = this._parts.hostname.lastIndexOf('.', end -1) + 1;\n      return this._parts.hostname.substring(end) || '';\n    } else {\n      if (!v) {\n        throw new TypeError('cannot set domain empty');\n      }\n\n      if (v.indexOf(':') !== -1) {\n        throw new TypeError('Domains cannot contain colons');\n      }\n\n      URI.ensureValidHostname(v, this._parts.protocol);\n\n      if (!this._parts.hostname || this.is('IP')) {\n        this._parts.hostname = v;\n      } else {\n        var replace = new RegExp(escapeRegEx(this.domain()) + '$');\n        this._parts.hostname = this._parts.hostname.replace(replace, v);\n      }\n\n      this.build(!build);\n      return this;\n    }\n  };\n  p.tld = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (typeof v === 'boolean') {\n      build = v;\n      v = undefined;\n    }\n\n    // return \"org\" from \"www.example.org\"\n    if (v === undefined) {\n      if (!this._parts.hostname || this.is('IP')) {\n        return '';\n      }\n\n      var pos = this._parts.hostname.lastIndexOf('.');\n      var tld = this._parts.hostname.substring(pos + 1);\n\n      if (build !== true && SLD && SLD.list[tld.toLowerCase()]) {\n        return SLD.get(this._parts.hostname) || tld;\n      }\n\n      return tld;\n    } else {\n      var replace;\n\n      if (!v) {\n        throw new TypeError('cannot set TLD empty');\n      } else if (v.match(/[^a-zA-Z0-9-]/)) {\n        if (SLD && SLD.is(v)) {\n          replace = new RegExp(escapeRegEx(this.tld()) + '$');\n          this._parts.hostname = this._parts.hostname.replace(replace, v);\n        } else {\n          throw new TypeError('TLD \"' + v + '\" contains characters other than [A-Z0-9]');\n        }\n      } else if (!this._parts.hostname || this.is('IP')) {\n        throw new ReferenceError('cannot set TLD on non-domain host');\n      } else {\n        replace = new RegExp(escapeRegEx(this.tld()) + '$');\n        this._parts.hostname = this._parts.hostname.replace(replace, v);\n      }\n\n      this.build(!build);\n      return this;\n    }\n  };\n  p.directory = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined || v === true) {\n      if (!this._parts.path && !this._parts.hostname) {\n        return '';\n      }\n\n      if (this._parts.path === '/') {\n        return '/';\n      }\n\n      var end = this._parts.path.length - this.filename().length - 1;\n      var res = this._parts.path.substring(0, end) || (this._parts.hostname ? '/' : '');\n\n      return v ? URI.decodePath(res) : res;\n\n    } else {\n      var e = this._parts.path.length - this.filename().length;\n      var directory = this._parts.path.substring(0, e);\n      var replace = new RegExp('^' + escapeRegEx(directory));\n\n      // fully qualifier directories begin with a slash\n      if (!this.is('relative')) {\n        if (!v) {\n          v = '/';\n        }\n\n        if (v.charAt(0) !== '/') {\n          v = '/' + v;\n        }\n      }\n\n      // directories always end with a slash\n      if (v && v.charAt(v.length - 1) !== '/') {\n        v += '/';\n      }\n\n      v = URI.recodePath(v);\n      this._parts.path = this._parts.path.replace(replace, v);\n      this.build(!build);\n      return this;\n    }\n  };\n  p.filename = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (typeof v !== 'string') {\n      if (!this._parts.path || this._parts.path === '/') {\n        return '';\n      }\n\n      var pos = this._parts.path.lastIndexOf('/');\n      var res = this._parts.path.substring(pos+1);\n\n      return v ? URI.decodePathSegment(res) : res;\n    } else {\n      var mutatedDirectory = false;\n\n      if (v.charAt(0) === '/') {\n        v = v.substring(1);\n      }\n\n      if (v.match(/\\.?\\//)) {\n        mutatedDirectory = true;\n      }\n\n      var replace = new RegExp(escapeRegEx(this.filename()) + '$');\n      v = URI.recodePath(v);\n      this._parts.path = this._parts.path.replace(replace, v);\n\n      if (mutatedDirectory) {\n        this.normalizePath(build);\n      } else {\n        this.build(!build);\n      }\n\n      return this;\n    }\n  };\n  p.suffix = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined || v === true) {\n      if (!this._parts.path || this._parts.path === '/') {\n        return '';\n      }\n\n      var filename = this.filename();\n      var pos = filename.lastIndexOf('.');\n      var s, res;\n\n      if (pos === -1) {\n        return '';\n      }\n\n      // suffix may only contain alnum characters (yup, I made this up.)\n      s = filename.substring(pos+1);\n      res = (/^[a-z0-9%]+$/i).test(s) ? s : '';\n      return v ? URI.decodePathSegment(res) : res;\n    } else {\n      if (v.charAt(0) === '.') {\n        v = v.substring(1);\n      }\n\n      var suffix = this.suffix();\n      var replace;\n\n      if (!suffix) {\n        if (!v) {\n          return this;\n        }\n\n        this._parts.path += '.' + URI.recodePath(v);\n      } else if (!v) {\n        replace = new RegExp(escapeRegEx('.' + suffix) + '$');\n      } else {\n        replace = new RegExp(escapeRegEx(suffix) + '$');\n      }\n\n      if (replace) {\n        v = URI.recodePath(v);\n        this._parts.path = this._parts.path.replace(replace, v);\n      }\n\n      this.build(!build);\n      return this;\n    }\n  };\n  p.segment = function(segment, v, build) {\n    var separator = this._parts.urn ? ':' : '/';\n    var path = this.path();\n    var absolute = path.substring(0, 1) === '/';\n    var segments = path.split(separator);\n\n    if (segment !== undefined && typeof segment !== 'number') {\n      build = v;\n      v = segment;\n      segment = undefined;\n    }\n\n    if (segment !== undefined && typeof segment !== 'number') {\n      throw new Error('Bad segment \"' + segment + '\", must be 0-based integer');\n    }\n\n    if (absolute) {\n      segments.shift();\n    }\n\n    if (segment < 0) {\n      // allow negative indexes to address from the end\n      segment = Math.max(segments.length + segment, 0);\n    }\n\n    if (v === undefined) {\n      /*jshint laxbreak: true */\n      return segment === undefined\n        ? segments\n        : segments[segment];\n      /*jshint laxbreak: false */\n    } else if (segment === null || segments[segment] === undefined) {\n      if (isArray(v)) {\n        segments = [];\n        // collapse empty elements within array\n        for (var i=0, l=v.length; i < l; i++) {\n          if (!v[i].length && (!segments.length || !segments[segments.length -1].length)) {\n            continue;\n          }\n\n          if (segments.length && !segments[segments.length -1].length) {\n            segments.pop();\n          }\n\n          segments.push(trimSlashes(v[i]));\n        }\n      } else if (v || typeof v === 'string') {\n        v = trimSlashes(v);\n        if (segments[segments.length -1] === '') {\n          // empty trailing elements have to be overwritten\n          // to prevent results such as /foo//bar\n          segments[segments.length -1] = v;\n        } else {\n          segments.push(v);\n        }\n      }\n    } else {\n      if (v) {\n        segments[segment] = trimSlashes(v);\n      } else {\n        segments.splice(segment, 1);\n      }\n    }\n\n    if (absolute) {\n      segments.unshift('');\n    }\n\n    return this.path(segments.join(separator), build);\n  };\n  p.segmentCoded = function(segment, v, build) {\n    var segments, i, l;\n\n    if (typeof segment !== 'number') {\n      build = v;\n      v = segment;\n      segment = undefined;\n    }\n\n    if (v === undefined) {\n      segments = this.segment(segment, v, build);\n      if (!isArray(segments)) {\n        segments = segments !== undefined ? URI.decode(segments) : undefined;\n      } else {\n        for (i = 0, l = segments.length; i < l; i++) {\n          segments[i] = URI.decode(segments[i]);\n        }\n      }\n\n      return segments;\n    }\n\n    if (!isArray(v)) {\n      v = (typeof v === 'string' || v instanceof String) ? URI.encode(v) : v;\n    } else {\n      for (i = 0, l = v.length; i < l; i++) {\n        v[i] = URI.encode(v[i]);\n      }\n    }\n\n    return this.segment(segment, v, build);\n  };\n\n  // mutating query string\n  var q = p.query;\n  p.query = function(v, build) {\n    if (v === true) {\n      return URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n    } else if (typeof v === 'function') {\n      var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n      var result = v.call(this, data);\n      this._parts.query = URI.buildQuery(result || data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);\n      this.build(!build);\n      return this;\n    } else if (v !== undefined && typeof v !== 'string') {\n      this._parts.query = URI.buildQuery(v, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);\n      this.build(!build);\n      return this;\n    } else {\n      return q.call(this, v, build);\n    }\n  };\n  p.setQuery = function(name, value, build) {\n    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n\n    if (typeof name === 'string' || name instanceof String) {\n      data[name] = value !== undefined ? value : null;\n    } else if (typeof name === 'object') {\n      for (var key in name) {\n        if (hasOwn.call(name, key)) {\n          data[key] = name[key];\n        }\n      }\n    } else {\n      throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');\n    }\n\n    this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);\n    if (typeof name !== 'string') {\n      build = value;\n    }\n\n    this.build(!build);\n    return this;\n  };\n  p.addQuery = function(name, value, build) {\n    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n    URI.addQuery(data, name, value === undefined ? null : value);\n    this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);\n    if (typeof name !== 'string') {\n      build = value;\n    }\n\n    this.build(!build);\n    return this;\n  };\n  p.removeQuery = function(name, value, build) {\n    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n    URI.removeQuery(data, name, value);\n    this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);\n    if (typeof name !== 'string') {\n      build = value;\n    }\n\n    this.build(!build);\n    return this;\n  };\n  p.hasQuery = function(name, value, withinArray) {\n    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n    return URI.hasQuery(data, name, value, withinArray);\n  };\n  p.setSearch = p.setQuery;\n  p.addSearch = p.addQuery;\n  p.removeSearch = p.removeQuery;\n  p.hasSearch = p.hasQuery;\n\n  // sanitizing URLs\n  p.normalize = function() {\n    if (this._parts.urn) {\n      return this\n        .normalizeProtocol(false)\n        .normalizePath(false)\n        .normalizeQuery(false)\n        .normalizeFragment(false)\n        .build();\n    }\n\n    return this\n      .normalizeProtocol(false)\n      .normalizeHostname(false)\n      .normalizePort(false)\n      .normalizePath(false)\n      .normalizeQuery(false)\n      .normalizeFragment(false)\n      .build();\n  };\n  p.normalizeProtocol = function(build) {\n    if (typeof this._parts.protocol === 'string') {\n      this._parts.protocol = this._parts.protocol.toLowerCase();\n      this.build(!build);\n    }\n\n    return this;\n  };\n  p.normalizeHostname = function(build) {\n    if (this._parts.hostname) {\n      if (this.is('IDN') && punycode) {\n        this._parts.hostname = punycode.toASCII(this._parts.hostname);\n      } else if (this.is('IPv6') && IPv6) {\n        this._parts.hostname = IPv6.best(this._parts.hostname);\n      }\n\n      this._parts.hostname = this._parts.hostname.toLowerCase();\n      this.build(!build);\n    }\n\n    return this;\n  };\n  p.normalizePort = function(build) {\n    // remove port of it's the protocol's default\n    if (typeof this._parts.protocol === 'string' && this._parts.port === URI.defaultPorts[this._parts.protocol]) {\n      this._parts.port = null;\n      this.build(!build);\n    }\n\n    return this;\n  };\n  p.normalizePath = function(build) {\n    var _path = this._parts.path;\n    if (!_path) {\n      return this;\n    }\n\n    if (this._parts.urn) {\n      this._parts.path = URI.recodeUrnPath(this._parts.path);\n      this.build(!build);\n      return this;\n    }\n\n    if (this._parts.path === '/') {\n      return this;\n    }\n\n    _path = URI.recodePath(_path);\n\n    var _was_relative;\n    var _leadingParents = '';\n    var _parent, _pos;\n\n    // handle relative paths\n    if (_path.charAt(0) !== '/') {\n      _was_relative = true;\n      _path = '/' + _path;\n    }\n\n    // handle relative files (as opposed to directories)\n    if (_path.slice(-3) === '/..' || _path.slice(-2) === '/.') {\n      _path += '/';\n    }\n\n    // resolve simples\n    _path = _path\n      .replace(/(\\/(\\.\\/)+)|(\\/\\.$)/g, '/')\n      .replace(/\\/{2,}/g, '/');\n\n    // remember leading parents\n    if (_was_relative) {\n      _leadingParents = _path.substring(1).match(/^(\\.\\.\\/)+/) || '';\n      if (_leadingParents) {\n        _leadingParents = _leadingParents[0];\n      }\n    }\n\n    // resolve parents\n    while (true) {\n      _parent = _path.search(/\\/\\.\\.(\\/|$)/);\n      if (_parent === -1) {\n        // no more ../ to resolve\n        break;\n      } else if (_parent === 0) {\n        // top level cannot be relative, skip it\n        _path = _path.substring(3);\n        continue;\n      }\n\n      _pos = _path.substring(0, _parent).lastIndexOf('/');\n      if (_pos === -1) {\n        _pos = _parent;\n      }\n      _path = _path.substring(0, _pos) + _path.substring(_parent + 3);\n    }\n\n    // revert to relative\n    if (_was_relative && this.is('relative')) {\n      _path = _leadingParents + _path.substring(1);\n    }\n\n    this._parts.path = _path;\n    this.build(!build);\n    return this;\n  };\n  p.normalizePathname = p.normalizePath;\n  p.normalizeQuery = function(build) {\n    if (typeof this._parts.query === 'string') {\n      if (!this._parts.query.length) {\n        this._parts.query = null;\n      } else {\n        this.query(URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace));\n      }\n\n      this.build(!build);\n    }\n\n    return this;\n  };\n  p.normalizeFragment = function(build) {\n    if (!this._parts.fragment) {\n      this._parts.fragment = null;\n      this.build(!build);\n    }\n\n    return this;\n  };\n  p.normalizeSearch = p.normalizeQuery;\n  p.normalizeHash = p.normalizeFragment;\n\n  p.iso8859 = function() {\n    // expect unicode input, iso8859 output\n    var e = URI.encode;\n    var d = URI.decode;\n\n    URI.encode = escape;\n    URI.decode = decodeURIComponent;\n    try {\n      this.normalize();\n    } finally {\n      URI.encode = e;\n      URI.decode = d;\n    }\n    return this;\n  };\n\n  p.unicode = function() {\n    // expect iso8859 input, unicode output\n    var e = URI.encode;\n    var d = URI.decode;\n\n    URI.encode = strictEncodeURIComponent;\n    URI.decode = unescape;\n    try {\n      this.normalize();\n    } finally {\n      URI.encode = e;\n      URI.decode = d;\n    }\n    return this;\n  };\n\n  p.readable = function() {\n    var uri = this.clone();\n    // removing username, password, because they shouldn't be displayed according to RFC 3986\n    uri.username('').password('').normalize();\n    var t = '';\n    if (uri._parts.protocol) {\n      t += uri._parts.protocol + '://';\n    }\n\n    if (uri._parts.hostname) {\n      if (uri.is('punycode') && punycode) {\n        t += punycode.toUnicode(uri._parts.hostname);\n        if (uri._parts.port) {\n          t += ':' + uri._parts.port;\n        }\n      } else {\n        t += uri.host();\n      }\n    }\n\n    if (uri._parts.hostname && uri._parts.path && uri._parts.path.charAt(0) !== '/') {\n      t += '/';\n    }\n\n    t += uri.path(true);\n    if (uri._parts.query) {\n      var q = '';\n      for (var i = 0, qp = uri._parts.query.split('&'), l = qp.length; i < l; i++) {\n        var kv = (qp[i] || '').split('=');\n        q += '&' + URI.decodeQuery(kv[0], this._parts.escapeQuerySpace)\n          .replace(/&/g, '%26');\n\n        if (kv[1] !== undefined) {\n          q += '=' + URI.decodeQuery(kv[1], this._parts.escapeQuerySpace)\n            .replace(/&/g, '%26');\n        }\n      }\n      t += '?' + q.substring(1);\n    }\n\n    t += URI.decodeQuery(uri.hash(), true);\n    return t;\n  };\n\n  // resolving relative and absolute URLs\n  p.absoluteTo = function(base) {\n    var resolved = this.clone();\n    var properties = ['protocol', 'username', 'password', 'hostname', 'port'];\n    var basedir, i, p;\n\n    if (this._parts.urn) {\n      throw new Error('URNs do not have any generally defined hierarchical components');\n    }\n\n    if (!(base instanceof URI)) {\n      base = new URI(base);\n    }\n\n    if (resolved._parts.protocol) {\n      // Directly returns even if this._parts.hostname is empty.\n      return resolved;\n    } else {\n      resolved._parts.protocol = base._parts.protocol;\n    }\n\n    if (this._parts.hostname) {\n      return resolved;\n    }\n\n    for (i = 0; (p = properties[i]); i++) {\n      resolved._parts[p] = base._parts[p];\n    }\n\n    if (!resolved._parts.path) {\n      resolved._parts.path = base._parts.path;\n      if (!resolved._parts.query) {\n        resolved._parts.query = base._parts.query;\n      }\n    } else {\n      if (resolved._parts.path.substring(-2) === '..') {\n        resolved._parts.path += '/';\n      }\n\n      if (resolved.path().charAt(0) !== '/') {\n        basedir = base.directory();\n        basedir = basedir ? basedir : base.path().indexOf('/') === 0 ? '/' : '';\n        resolved._parts.path = (basedir ? (basedir + '/') : '') + resolved._parts.path;\n        resolved.normalizePath();\n      }\n    }\n\n    resolved.build();\n    return resolved;\n  };\n  p.relativeTo = function(base) {\n    var relative = this.clone().normalize();\n    var relativeParts, baseParts, common, relativePath, basePath;\n\n    if (relative._parts.urn) {\n      throw new Error('URNs do not have any generally defined hierarchical components');\n    }\n\n    base = new URI(base).normalize();\n    relativeParts = relative._parts;\n    baseParts = base._parts;\n    relativePath = relative.path();\n    basePath = base.path();\n\n    if (relativePath.charAt(0) !== '/') {\n      throw new Error('URI is already relative');\n    }\n\n    if (basePath.charAt(0) !== '/') {\n      throw new Error('Cannot calculate a URI relative to another relative URI');\n    }\n\n    if (relativeParts.protocol === baseParts.protocol) {\n      relativeParts.protocol = null;\n    }\n\n    if (relativeParts.username !== baseParts.username || relativeParts.password !== baseParts.password) {\n      return relative.build();\n    }\n\n    if (relativeParts.protocol !== null || relativeParts.username !== null || relativeParts.password !== null) {\n      return relative.build();\n    }\n\n    if (relativeParts.hostname === baseParts.hostname && relativeParts.port === baseParts.port) {\n      relativeParts.hostname = null;\n      relativeParts.port = null;\n    } else {\n      return relative.build();\n    }\n\n    if (relativePath === basePath) {\n      relativeParts.path = '';\n      return relative.build();\n    }\n\n    // determine common sub path\n    common = URI.commonPath(relativePath, basePath);\n\n    // If the paths have nothing in common, return a relative URL with the absolute path.\n    if (!common) {\n      return relative.build();\n    }\n\n    var parents = baseParts.path\n      .substring(common.length)\n      .replace(/[^\\/]*$/, '')\n      .replace(/.*?\\//g, '../');\n\n    relativeParts.path = (parents + relativeParts.path.substring(common.length)) || './';\n\n    return relative.build();\n  };\n\n  // comparing URIs\n  p.equals = function(uri) {\n    var one = this.clone();\n    var two = new URI(uri);\n    var one_map = {};\n    var two_map = {};\n    var checked = {};\n    var one_query, two_query, key;\n\n    one.normalize();\n    two.normalize();\n\n    // exact match\n    if (one.toString() === two.toString()) {\n      return true;\n    }\n\n    // extract query string\n    one_query = one.query();\n    two_query = two.query();\n    one.query('');\n    two.query('');\n\n    // definitely not equal if not even non-query parts match\n    if (one.toString() !== two.toString()) {\n      return false;\n    }\n\n    // query parameters have the same length, even if they're permuted\n    if (one_query.length !== two_query.length) {\n      return false;\n    }\n\n    one_map = URI.parseQuery(one_query, this._parts.escapeQuerySpace);\n    two_map = URI.parseQuery(two_query, this._parts.escapeQuerySpace);\n\n    for (key in one_map) {\n      if (hasOwn.call(one_map, key)) {\n        if (!isArray(one_map[key])) {\n          if (one_map[key] !== two_map[key]) {\n            return false;\n          }\n        } else if (!arraysEqual(one_map[key], two_map[key])) {\n          return false;\n        }\n\n        checked[key] = true;\n      }\n    }\n\n    for (key in two_map) {\n      if (hasOwn.call(two_map, key)) {\n        if (!checked[key]) {\n          // two contains a parameter not present in one\n          return false;\n        }\n      }\n    }\n\n    return true;\n  };\n\n  // state\n  p.preventInvalidHostname = function(v) {\n    this._parts.preventInvalidHostname = !!v;\n    return this;\n  };\n\n  p.duplicateQueryParameters = function(v) {\n    this._parts.duplicateQueryParameters = !!v;\n    return this;\n  };\n\n  p.escapeQuerySpace = function(v) {\n    this._parts.escapeQuerySpace = !!v;\n    return this;\n  };\n\n  return URI;\n}));\n","/*! https://mths.be/punycode v1.4.0 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.3.2',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","/*!\n * vary\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n */\n\nmodule.exports = vary\nmodule.exports.append = append\n\n/**\n * RegExp to match field-name in RFC 7230 sec 3.2\n *\n * field-name    = token\n * token         = 1*tchar\n * tchar         = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" / \"*\"\n *               / \"+\" / \"-\" / \".\" / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\n *               / DIGIT / ALPHA\n *               ; any VCHAR, except delimiters\n */\n\nvar FIELD_NAME_REGEXP = /^[!#$%&'*+\\-.^_`|~0-9A-Za-z]+$/\n\n/**\n * Append a field to a vary header.\n *\n * @param {String} header\n * @param {String|Array} field\n * @return {String}\n * @public\n */\n\nfunction append (header, field) {\n  if (typeof header !== 'string') {\n    throw new TypeError('header argument is required')\n  }\n\n  if (!field) {\n    throw new TypeError('field argument is required')\n  }\n\n  // get fields array\n  var fields = !Array.isArray(field)\n    ? parse(String(field))\n    : field\n\n  // assert on invalid field names\n  for (var j = 0; j < fields.length; j++) {\n    if (!FIELD_NAME_REGEXP.test(fields[j])) {\n      throw new TypeError('field argument contains an invalid header name')\n    }\n  }\n\n  // existing, unspecified vary\n  if (header === '*') {\n    return header\n  }\n\n  // enumerate current values\n  var val = header\n  var vals = parse(header.toLowerCase())\n\n  // unspecified vary\n  if (fields.indexOf('*') !== -1 || vals.indexOf('*') !== -1) {\n    return '*'\n  }\n\n  for (var i = 0; i < fields.length; i++) {\n    var fld = fields[i].toLowerCase()\n\n    // append value (case-preserving)\n    if (vals.indexOf(fld) === -1) {\n      vals.push(fld)\n      val = val\n        ? val + ', ' + fields[i]\n        : fields[i]\n    }\n  }\n\n  return val\n}\n\n/**\n * Parse a vary header into an array.\n *\n * @param {String} header\n * @return {Array}\n * @private\n */\n\nfunction parse (header) {\n  var end = 0\n  var list = []\n  var start = 0\n\n  // gather tokens\n  for (var i = 0, len = header.length; i < len; i++) {\n    switch (header.charCodeAt(i)) {\n      case 0x20: /*   */\n        if (start === end) {\n          start = end = i + 1\n        }\n        break\n      case 0x2c: /* , */\n        list.push(header.substring(start, end))\n        start = end = i + 1\n        break\n      default:\n        end = i + 1\n        break\n    }\n  }\n\n  // final token\n  list.push(header.substring(start, end))\n\n  return list\n}\n\n/**\n * Mark that a request is varied on a header field.\n *\n * @param {Object} res\n * @param {String|Array} field\n * @public\n */\n\nfunction vary (res, field) {\n  if (!res || !res.getHeader || !res.setHeader) {\n    // quack quack\n    throw new TypeError('res argument is required')\n  }\n\n  // get existing header\n  var val = res.getHeader('Vary') || ''\n  var header = Array.isArray(val)\n    ? val.join(', ')\n    : String(val)\n\n  // set new header\n  if ((val = append(header, field))) {\n    res.setHeader('Vary', val)\n  }\n}\n","'use strict';\n\nclass LRU {\n  constructor(max) {\n    this.max = max;\n    this.size = 0;\n    this.cache = new Map();\n    this._cache = new Map();\n  }\n\n  get(key, options) {\n    let item = this.cache.get(key);\n    const maxAge = options && options.maxAge;\n    // only call Date.now() when necessary\n    let now;\n    function getNow() {\n      now = now || Date.now();\n      return now;\n    }\n    if (item) {\n      // check expired\n      if (item.expired && getNow() > item.expired) {\n        item.expired = 0;\n        item.value = undefined;\n      } else {\n        // update expired in get\n        if (maxAge !== undefined) {\n          const expired = maxAge ? getNow() + maxAge : 0;\n          item.expired = expired;\n        }\n      }\n      return item.value;\n    }\n\n    // try to read from _cache\n    item = this._cache.get(key);\n    if (item) {\n      // check expired\n      if (item.expired && getNow() > item.expired) {\n        item.expired = 0;\n        item.value = undefined;\n      } else {\n        // not expired, save to cache\n        this._update(key, item);\n        // update expired in get\n        if (maxAge !== undefined) {\n          const expired = maxAge ? getNow() + maxAge : 0;\n          item.expired = expired;\n        }\n      }\n      return item.value;\n    }\n  }\n\n  set(key, value, options) {\n    const maxAge = options && options.maxAge;\n    const expired = maxAge ? Date.now() + maxAge : 0;\n    let item = this.cache.get(key);\n    if (item) {\n      item.expired = expired;\n      item.value = value;\n    } else {\n      item = {\n        value,\n        expired,\n      };\n      this._update(key, item);\n    }\n  }\n\n  keys() {\n    const cacheKeys = new Set();\n    const now = Date.now();\n\n    for (const entry of this.cache.entries()) {\n      checkEntry(entry);\n    }\n\n    for (const entry of this._cache.entries()) {\n      checkEntry(entry);\n    }\n\n    function checkEntry(entry) {\n      const key = entry[0];\n      const item = entry[1];\n      if (entry[1].value && (!entry[1].expired) || item.expired >= now) {\n        cacheKeys.add(key);\n      }\n    }\n\n    return Array.from(cacheKeys.keys());\n  }\n\n  _update(key, item) {\n    this.cache.set(key, item);\n    this.size++;\n    if (this.size >= this.max) {\n      this.size = 0;\n      this._cache = this.cache;\n      this.cache = new Map();\n    }\n  }\n}\n\nmodule.exports = LRU;\n\n","module.exports = require(\"assert\");;","module.exports = require(\"buffer\");;","module.exports = require(\"constants\");;","module.exports = require(\"crypto\");;","module.exports = require(\"events\");;","module.exports = require(\"fs\");;","module.exports = require(\"http\");;","module.exports = require(\"net\");;","module.exports = require(\"os\");;","module.exports = require(\"path\");;","module.exports = require(\"querystring\");;","module.exports = require(\"stream\");;","module.exports = require(\"tty\");;","module.exports = require(\"url\");;","module.exports = require(\"util\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","const path = require('path');\nconst Koa = require('koa');\nconst send = require('koa-send');\nconst Router = require('koa-router');\nconst cors = require('koa2-cors');\nconst app = new Koa();\nconst router = new Router();\napp.use(cors({\n  origin: \"*\",\n  exposeHeaders: [\"WWW-Authenticate\", \"Server-Authorization\"],\n  // maxAge: 50000,\n  credentials: true,\n  allowMethods: [\"GET\", \"PUT\", \"POST\", \"PATCH\", \"DELETE\", \"HEAD\", \"OPTIONS\"],\n  allowHeaders: [\"Content-Type\", \"Authorization\", \"Accept\",\"egu-auth\"],\n}));\n// router.get()\nrouter.get(['/', '/**'], async (ctx:any) => {\n  if(ctx.path.endsWith(\"json\")){\n    await send(ctx, ctx.path, {\n      root: path.join(__dirname, 'static'),\n      maxAge: 0\n    });\n  }else{\n    await send(ctx, ctx.path, {\n      root: path.join(__dirname, 'static'),\n      maxAge: 365 * 24 * 60 * 60 * 1000\n    });\n  }\n \n})\n\n\napp.use(router.routes()).use(router.allowedMethods())\n\napp.listen(7000);\n"],"sourceRoot":""}